{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///chat.js","webpack:///webpack/bootstrap 940c32c96aa9f76769be","webpack:///./src/index.js","webpack:///./src/events/index.js","webpack:///./src/state/index.js","webpack:///./src/utils/i18n.js","webpack:///./src/utils/index.js","webpack:///./~/@watson-virtual-agent/client-sdk/lib/web.js","webpack:///./~/lodash/assign.js","webpack:///./src/templates/index.js","webpack:///./~/lodash/isArrayLike.js","webpack:///./src/profile/index.js","webpack:///./src/styles.js","webpack:///./~/intl-messageformat/lib/utils.js","webpack:///./~/lodash/_assignValue.js","webpack:///./~/lodash/_isIndex.js","webpack:///./~/lodash/_isPrototype.js","webpack:///./~/lodash/eq.js","webpack:///./~/lodash/isObject.js","webpack:///./~/intl-messageformat-parser/index.js","webpack:///./~/intl-messageformat-parser/lib/parser.js","webpack:///./~/intl-messageformat/index.js","webpack:///./~/intl-messageformat/lib/compiler.js","webpack:///./~/intl-messageformat/lib/core.js","webpack:///./~/intl-messageformat/lib/en.js","webpack:///./~/intl-messageformat/lib/es5.js","webpack:///./~/intl-messageformat/lib/main.js","webpack:///./src/lang/en.yaml","webpack:///./~/lodash/_apply.js","webpack:///./~/lodash/_arrayLikeKeys.js","webpack:///./~/lodash/_baseKeys.js","webpack:///./~/lodash/_baseRest.js","webpack:///./~/lodash/_baseTimes.js","webpack:///./~/lodash/_copyObject.js","webpack:///./~/lodash/_createAssigner.js","webpack:///./~/lodash/_isIterateeCall.js","webpack:///./~/lodash/_nativeKeys.js","webpack:///./~/lodash/_overArg.js","webpack:///./~/lodash/isArguments.js","webpack:///./~/lodash/isArray.js","webpack:///./~/lodash/isArrayLikeObject.js","webpack:///./~/lodash/isFunction.js","webpack:///./~/lodash/isLength.js","webpack:///./~/lodash/isObjectLike.js","webpack:///./~/lodash/keys.js","webpack:///./src/layouts/cc-validator/templates/base.html","webpack:///./src/layouts/choose-location-type/templates/base.html","webpack:///./src/layouts/choose/templates/button.html","webpack:///./src/layouts/choose/templates/submit.html","webpack:///./src/layouts/error/templates/base.html","webpack:///./src/layouts/form/templates/base.html","webpack:///./src/layouts/form/templates/field.html","webpack:///./src/layouts/show-locations/templates/add-location-item.html","webpack:///./src/layouts/show-locations/templates/add-locations-item.html","webpack:///./src/layouts/show-locations/templates/base.html","webpack:///./src/layouts/show-locations/templates/create-dom-array.html","webpack:///./src/layouts/show-locations/templates/hours-timezone.html","webpack:///./src/layouts/show-locations/templates/hours-today-closed.html","webpack:///./src/layouts/show-locations/templates/hours-today-unknown.html","webpack:///./src/styles.css","webpack:///./src/templates/input.html","webpack:///./src/templates/loading.html","webpack:///./src/templates/receive.html","webpack:///./src/templates/send.html","webpack:///./src/templates/start.html","webpack:///./src/bootstrap.js","webpack:///./src/context/index.js","webpack:///./src/events/handlers/chatid.js","webpack:///./src/events/handlers/clear.js","webpack:///./src/events/handlers/error.js","webpack:///./src/events/handlers/index.js","webpack:///./src/events/handlers/input.js","webpack:///./src/events/handlers/receive.js","webpack:///./src/events/handlers/reset.js","webpack:///./src/events/handlers/resize.js","webpack:///./src/events/handlers/scroll-to-bottom.js","webpack:///./src/events/handlers/send-input-message.js","webpack:///./src/events/handlers/send-mock.js","webpack:///./src/events/handlers/send.js","webpack:///./src/events/handlers/start.js","webpack:///./src/events/handlers/try-it.js","webpack:///./src/layouts/cc-validator/index.js","webpack:///./src/layouts/cc-validator/validation.js","webpack:///./src/layouts/choose-location-type/index.js","webpack:///./src/layouts/choose/index.js","webpack:///./src/layouts/error/index.js","webpack:///./src/layouts/form/index.js","webpack:///./src/layouts/index.js","webpack:///./src/layouts/request-geolocation-latlong/index.js","webpack:///./src/layouts/request-geolocation-zipcode/index.js","webpack:///./src/layouts/show-locations/index.js","webpack:///./src/utils/writeMessage.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","bootstrap","IBMChat","init","restart","destroy","clear","send","message","receive","sendMock","sendSilently","registerLayout","layout","enableCustomInputHandler","config","disableCustomInputHandler","focusInput","disableInput","enableInput","subscribe","subscribeOnce","publish","eventName","data","profile","get","set","has","delete","forEach","currentSubscriptions","state","obj","context","debug","version","completeEvent","response","silent","events","unsubscribe","event","handler","undefined","slice","hasSubscription","action","subscriptions","i","length","subscription","index","push","bind","remove","subscribeMany","cb","current","wasSubscription","DEBUG","console","log","indexOf","warn","updated","assign","states","getState","setState","destroyState","getString","fallback","t","langBundle","fallbacks","getMessage","_useFallbacks","msg","locale","IntlMessageFormat","intlMsgOptions","format","values","en","date","weekday_short","weekday","debounce","func","wait","immediate","timeout","args","arguments","later","apply","callNow","clearTimeout","setTimeout","serialize","str","hasOwnProperty","encodeURIComponent","join","compile","options","Array","isArray","Object","keys","key","split","getUUID","d","Date","getTime","window","performance","now","replace","r","Math","random","floor","toString","hasClass","element","className","thatClass","appendToEach","appendTo","content","clone","cloneNode","appendChild","isVisible","elem","offsetWidth","offsetHeight","getClientRects","checkVisibility","_currentVisibilityCheck","endVisibilityCheck","checkRoot","el","document","getElementById","nodeType","getSDKConfig","SDKconfig","baseURL","withCredentials","XIBMClientID","XIBMClientSecret","userID","userLatLon","writeMessage","val","isArrayBuffer","isFormData","FormData","isArrayBufferView","result","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","URLSearchParams","trim","isStandardBrowserEnv","createElement","fn","l","merge","assignValue","prototype","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","e","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","len","run","Item","array","noop","process","nextTick","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","utils","buildURL","parseHeaders","transformData","isURLSameOrigin","btoa","settle","resolve","reject","requestData","requestHeaders","headers","request","XMLHttpRequest","loadEvent","xDomain","NODE_ENV","XDomainRequest","url","onprogress","ontimeout","auth","username","password","Authorization","open","method","toUpperCase","params","paramsSerializer","readyState","status","responseHeaders","getAllResponseHeaders","responseData","responseType","responseText","transformResponse","statusText","onerror","err","code","cookies","xsrfValue","read","xsrfCookieName","xsrfHeaderName","toLowerCase","setRequestHeader","progress","upload","addEventListener","fns","Axios","defaultConfig","defaults","interceptors","InterceptorManager","dispatchRequest","isAbsoluteURL","combineURLs","transformRequest","common","chain","promise","Promise","interceptor","unshift","fulfilled","rejected","then","shift","defaultInstance","axios","create","all","promises","spread","handlers","use","eject","h","adapter","setContentTypeIfUnset","value","normalizeHeaderName","PROTECTION_PREFIX","DEFAULT_CONTENT_TYPE","Content-Type","JSON","stringify","parse","Accept","patch","post","put","maxContentLength","validateStatus","thisArg","E","input","block","charCode","String","output","idx","map","chars","charAt","charCodeAt","encode","serializedParams","parts","v","toISOString","relativeURL","write","expires","path","domain","secure","cookie","toGMTString","match","RegExp","decodeURIComponent","test","resolveURL","href","msie","urlParsingNode","setAttribute","protocol","host","search","hash","hostname","port","pathname","originURL","navigator","userAgent","location","requestURL","parsed","normalizedName","line","substr","callback","arr","__WEBPACK_AMD_DEFINE_RESULT__","global","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$setAsap","asapFn","lib$es6$promise$asap$$asap","lib$es6$promise$asap$$useNextTick","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","node","createTextNode","observe","characterData","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","lib$es6$promise$asap$$len","lib$es6$promise$asap$$queue","arg","lib$es6$promise$asap$$attemptVertx","vertx","runOnLoop","runOnContext","lib$es6$promise$then$$then","onFulfillment","onRejection","parent","child","constructor","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$PROMISE_ID","lib$es6$promise$$internal$$makePromise","_state","lib$es6$promise$$internal$$invokeCallback","_result","lib$es6$promise$$internal$$subscribe","lib$es6$promise$promise$resolve$$resolve","object","Constructor","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$selfFulfillment","TypeError","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","error","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","sealed","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","lib$es6$promise$$internal$$FULFILLED","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","lib$es6$promise$then$$default","lib$es6$promise$promise$resolve$$default","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","subscribers","settled","detail","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$$internal$$nextId","lib$es6$promise$$internal$$id","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","lib$es6$promise$enumerator$$Enumerator","_instanceConstructor","_input","_remaining","_enumerate","lib$es6$promise$enumerator$$validationError","lib$es6$promise$polyfill$$polyfill","local","self","Function","P","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$browserWindow","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","substring","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$reject$$default","race","_setScheduler","_setAsap","_asap","catch","_eachEntry","entry","_settledAt","_willSettleAt","enumerator","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","storage","api","profileDataRe","insertUserProfileData","flatten","matches","reduce","prof","SDK","configure","X-IBM-Client-Id","X-IBM-Client-Secret","start","botID","requestID","uuid","endpoint","X-Request-ID","res","chatID","dialog_id","onError","baseProperty","baseTimes","n","iteratee","overArg","transform","objValue","eq","baseHas","getPrototype","baseRest","nativeMax","otherArgs","copyObject","source","props","customizer","newValue","createAssigner","assigner","sources","guard","isIterateeCall","indexKeys","isLength","isArguments","isIndex","MAX_SAFE_INTEGER","reIsUint","type","isArrayLike","isPrototype","Ctor","proto","objectProto","other","isArrayLikeObject","propertyIsEnumerable","objectToString","argsTag","getLength","isObjectLike","tag","funcTag","genTag","stringTag","isProto","baseKeys","indexes","skipIndexes","nativeGetPrototype","getPrototypeOf","nativeKeys","max","nonEnumShadows","valueOf","webpackPolyfill","deprecate","paths","children","loading","BotSDK","_attachStylesToDOM","styles","css","classList","add","chatStyleID","styleSheet","cssText","getElementsByTagName","_getStyles","containerClass","noOpacityBackgroundArray","_hexToRGBArray","normalizeToHex","background","noOpacityBackground","opacityBackground","fontSize","fontFamily","text","secondaryBackground","secondaryText","accentBackground","accentText","errorBackground","errorText","inputBackground","inputText","link","intentLink","_placeHolderColor","rgb_beginning","rgb_end","w","w1","w2","rgb","parseInt","rgba","color","rgb2hex","hex","convertHexToRGBA","opacity","g","b","attachPlaybackStyles","attachStyles","removeStyles","elements","querySelectorAll","parentNode","removeChild","defaultStyles","extend","hop","peg$subclass","ctor","SyntaxError","expected","found","offset","column","peg$computePosDetails","pos","advance","details","startPos","endPos","ch","seenCR","peg$cachedPos","peg$cachedPosDetails","peg$fail","peg$currPos","peg$maxFailPos","peg$maxFailExpected","peg$buildException","cleanupExpected","sort","a","description","splice","buildMessage","stringEscape","s","expectedDesc","foundDesc","expectedDescs","posDetails","peg$parsestart","s0","peg$parsemessageFormatPattern","s1","s2","peg$parsemessageFormatElement","peg$FAILED","peg$reportedPos","peg$c1","peg$parsemessageTextElement","peg$parseargumentElement","peg$parsemessageText","s3","s4","s5","peg$parse_","peg$parsechars","peg$c2","peg$c3","peg$parsews","peg$c4","peg$parseargument","peg$parsenumber","peg$c5","peg$silentFails","peg$c6","s6","s7","s8","peg$c7","peg$c8","peg$c10","peg$c11","peg$parseelementFormat","peg$c9","peg$c12","peg$c13","peg$c14","peg$parsesimpleFormat","peg$parsepluralFormat","peg$parseselectOrdinalFormat","peg$parseselectFormat","peg$c15","peg$c16","peg$c17","peg$c18","peg$c19","peg$c20","peg$c21","peg$c22","peg$c23","peg$parsepluralStyle","peg$c24","peg$c25","peg$c26","peg$c27","peg$c28","peg$c29","peg$parseoptionalFormatPattern","peg$c30","peg$parseselector","peg$c31","peg$c32","peg$c33","peg$parseoffset","peg$c34","peg$c35","peg$c36","peg$c37","peg$c39","peg$c40","peg$c38","peg$c41","peg$parsedigit","peg$c42","peg$c43","peg$parsehexDigit","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","peg$c49","peg$c50","peg$parsechar","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","peg$c60","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$c66","peg$c67","peg$c68","peg$result","peg$startRuleFunctions","peg$startRuleFunction","j","outerLen","inner","innerLen","string","messageText","style","pluralStyle","ordinal","selector","pattern","number","digits","fromCharCode","startRule","Compiler","locales","formats","pluralFn","StringFormat","PluralFormat","useOrdinal","PluralOffsetString","numberFormat","SelectFormat","ast","pluralStack","currentPlural","pluralNumberFormat","compileMessage","compileMessageText","compileArgument","Intl","NumberFormat","DateTimeFormat","time","compileOptions","optionsHash","option","pop","getOption","MessageFormat","__parse","_mergeFormats","src$es5$$","defineProperty","_resolveLocale","_findPluralRuleFunction","_locale","_compilePattern","messageFormat","_format","src$utils$$","src$compiler$$","intl$messageformat$parser$$","enumerable","currency","percent","short","month","day","year","medium","long","full","hour","minute","second","timeZoneName","objCreate","__localeData__","writable","resolvedOptions","compiler","localeData","pluralRuleFunction","parentLocale","part","mergedType","mergedFormats","defaultLocale","localeParts","ord","v0","t0","Number","n10","n100","realDefineProp","__defineGetter__","desc","F","k","src$core$$","src$en$$","__addLocaleData","prompt","thinking","anything_else","edit","list_sep","reconnect","basic_err","loading_failure1","loading_failure2","submit","cancel","required_field","placeholder_mon","placeholder_year","cc_name","cc_num","cc_exp_mon","cc_exp_year","cc_code","cc_code_alt","cc_use_valid","cc_invalid","cc_invalid_exp","cc_invalid_code","loc_curr","postal_code","loc_prompt","loc_share","loc_share_granted","loc_looking","loc_share_denied","loc_not_shared_prompt","loc_all","loc_closed_today","loc_open_today","loc_open_today_more","loc_hours_open","loc_hours_open_multiday","loc_hours_unknown","loc_hours_closed","loc_nearby_none","loc_nearby_single","loc_nearby_list","google_maps_url","arrayLikeKeys","inherited","registerEvents","tryIt","playback","eventHandlers","resize","enableLoadingInput","disableLoadingInput","scrollToBottom","retry","sendInputMessage","clearError","reset","layoutError","actionError","intent","registerLayouts","layouts","showLocations","chooseLocationType","requestGeolocationLatlong","requestGeolocationZipcode","choose","form","creditCard","registeredLayouts","layoutInit","active","defaultCountry","bundle","defaultState","mapsServer","originalContent","innerHTML","handleInput","default","minSeconds","errorHandler","errorHandlerContext","httpError","defaultSetup","onResize","prefix","classes","filter","lastIndexOf","messages","inputClone","textContent","i18n","chatHolder","loader","querySelector","errorCount","errorMessageMap","loaderRetryMessage","loaderFailure","loaderFailureMessage","loaderFailureMessageTmpl","sendQueue","inProgress","basic","removeAttribute","templates","retryAttempt","loaderText","focus","_actions","_layouts","_intents","getIntentField","log_data","wva_top_intent","intents","show_intent_link","intentElement","_receive","msgText","containers","datas","turnElm","holder","msgData","layoutElement","msgElement","_getHeight","getComputedStyle","getPropertyValue","_resize","maxInputPercentage","newState","containerHeight","chatHolderHeight","chatHolderMaxHeight","inputHolderHeight","rootHeight","clientHeight","rootWidth","clientWidth","maxInputHeight","calculatedMaxInputHeight","cloneHeight","inputHeight","newInputClone","currentInputClone","chatChanged","isLarge","debugResize","chat","width","height","inputContainer","innerContainer","maxHeight","duration","startTime","endTime","startTop","scrollTop","previousTop","distance","scrollHeight","scrolling","setInterval","clearInterval","point","smoothStep","frameTop","round","end","_sendMock","newData","data.uuid","_send","addToSendQueue","agentSend","newQueue","sent","received","sendToBot","delay","newTime","diff","starttime","minWaitTime","label","addState","outerContainer","container","chatBox","placeholder","inputHolder","preventDefault","target","dataset","keyCode","overflow","originalInputHeight","_addDataSet","count","blueprint","CreditCard","validation","activeClassName","inactiveClassName","ns","widgets","base","creditCardLayout","widget","acceptedCards","parentElement","formData","drawForm","subscribeSend","removeAllEventListeners","cancelButton","submitButton","formElements","fields","field","getAttribute","addListeners","addError","errorElement","valid","display","removeError","validate_cc_full_name","cc_full_name","validate_cc_number","cc","validateCard","cc_number","validate_cc_exp_date","exp","validateExp","cc_exp_date_month","cc_exp_date_year","validate_cc_code","cvv","validateCVV","validate","preprocessFormData","handleKeyup","handleSubmit","fd","cc_exp_date","cc_last_four_digits","handleCancel","removeEventListener","_detectCard","cardData","prefixes","cardNumber","cardType","_checkLuhn","calc","checksum","_invalid","_valid","cardElement","required","invalid","acceptedCard","lengths","userM","userY","monthRegexp","yearRegexp","getMonth","getFullYear","invalidExpiration","invalidDigits","yearNotInRange","beforeCurrentMonth","CVV","CVVRegex","invalidCvv","cardId","human","visa","mastercard","amex","discover","ChooseLocationType","chooseLocationTypes","chooseLocationTypeLayout","postalCodeLabel","getButtonLabel","eventListeners","buttons","handleClick","latlongIdx","inputvalidation","oneOf","Choose","button","chooseLayout","allowMultiple","someOf","drawButtons","tmpl","buttonHolder","submitBtn","addSubmitListener","evt","handleMultiClick","instance","listeners","listener","errors","errorLayout","Form","formLayout","store","repopulate","removeEventListeners","formFields","datum","addEventListeners","validateFields","setFocusOnError","allFieldsAreValid","fieldIsValid","validateField","validations","validationRegex","regex","errorEl","removeAllErrors","els","attr","showLocationsLayout","requestGeolocationLatlongLayout","requestGeolocationZipcodeLayout","RequestGeolocationLatlong","requestGeolocationLatlongs","LOCATION_TIMEOUT","timedOut","timeoutCheck","handleLocationNotShared","permissions","query","geolocation","getCurrentPosition","position","handleLocationShared","coords","latitude","longitude","RequestGeolocationZip","requestGeolocationZips","requestGeolocationZip","initialSize","breakpointWidths","currentBreakpointKey","getWidth","sameSize","sizeMap","locationIDs","reDrawMap","createEmails","item","linkEl","email","phones","itemChild","createDomArray","typeEl","dataEl","createPhoneArray","items","createHours","hoursEl","moreHoursEl","hours","timezone","timezoneEl","nowDate","toDateString","dayIdx","getDay","todaysHours","isOpen","close","hoursTodayUnknown","hoursTodayClosed","tzChildEl","hoursTimezone","compressedHours","compressHours","childEl","openDay","startDay","closeDay","endDay","getDate","bothClosed","sameHours","last","today","setHours","setDate","ShowLocations","first","displayLength","pixelRatio","devicePixelRatio","addLocationsItem","addLocationItem","strings","locations","none","single","list","showLocation","alphaMap","location_data","mapElement","dataElement","drawLocations","addDetails","subscribeReceive","addLocations","addLocation","convertColor","img","size","scale","zoom","uri","address","lat","lng","inputs","hoursFunction","hoursButton","locationsFunction","locationsButton","locationData","createDom","phone","moreHours","backHolder","back","parentEl","dom","hasPhones","days","hasDays","iconText","ParseContent","validLink","startsWith","isValidURL","cls","addLineEndings","addUrls","addEmails","attributes","newContent","splitter","linked","newtext"],"mappings":"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","file":"chat.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"IBMChat\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"IBMChat\"] = factory();\n\telse\n\t\troot[\"IBMChat\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","/*!\n * \n * * (C) Copyright IBM Corp. 2017. All Rights Reserved.\n * *\n * * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n * * in compliance with the License. You may obtain a copy of the License at\n * *\n * * http://www.apache.org/licenses/LICENSE-2.0\n * *\n * * Unless required by applicable law or agreed to in writing, software distributed under the License\n * * is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n * * or implied. See the License for the specific language governing permissions and limitations under\n * * the License.\n * \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"IBMChat\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"IBMChat\"] = factory();\n\telse\n\t\troot[\"IBMChat\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar bootstrap = __webpack_require__(/*! ./bootstrap */ 63);\n\t\n\t/**\n\t * @namespace IBMChat\n\t */\n\t\n\tvar IBMChat = {\n\t  /**\n\t   * Generate the chat widget into an element.\n\t   * @function init\n\t   * @memberof IBMChat\n\t   * @param {Object} config\n\t   * @param {string} config.el - Takes a string representing the ID of an html element to be rendered to OR a selected element\n\t   * @param {string} config.botID - The unique identifier of your Virtual Agent.\n\t   * @param {string} config.userID - optional: A one-way hashed non-identifiable (e.g. not a users email address or public user id) unique ID used for tracking in the Engagement Metrics dashboard.\n\t   * @param {string} config.locale=en - optional: Locale string to use for localization and translated text.\n\t   * @param {Object} config.langBundle - optional: Object containing one or more translation bundles, indexed by locale.\n\t   * @param {string} config.userLatLon -  optional: A lat,lon string (e.g. 28.3852,-81.5639) used for tracking in the Engagement Metrics dashboard.\n\t   * @param {string} config.defaultCountry -  optional: Takes a string of a country name (e.g. United Kingdom) to use to help postal code calculation using `request-geolocation-zipcode` layout in context with \"Find nearest store\" flows.\n\t   * @param {string} config.baseURL=https://api.ibm.com/virtualagent/run/api/v1/ - optional: specifies a different bot hosting server. The most common use-case for this param is to point the widget to a server that will add X-IBM-Client-Id and X-IBM-Client-Secret headers to the request.\n\t   * @param {string} config.XIBMClientID - optional: Your IBMClientID... this should not be made public in a public environment. Including this will add X-IBM-Client-Id as a header to your request.\n\t   * @param {string} config.XIBMClientSecret - optional: Your IBMClientSecret... this should not be made public in a public environment. Including this will add X-IBM-Client-Secret as a header to your request.\n\t   * @param {Function} config.errorHandler - optional: A function that takes an error object as a param if there is a problem with communicating with your Virtual Agent. By default, if an error is received, the user is escalated to a live agent. You may, however, want to handle some errors differently (401 for instance)\n\t   * @param {Object} config.errorHandlerContext - optional: A \"this\" value for the errorHandler.\n\t   * @param {Object} config.styles - optional: Override default styling.\n\t   * @param {string} config.styles.background=rgba(61,61,61,1) - optional: rgba(X, X, X, X) or hex code for background color\n\t   * @param {string} config.styles.text=#ffffff - optional: rgba(X, X, X, X) or hex code for main text color\n\t   * @param {string} config.styles.link=#ffffff - optional: rgba(X, X, X, X) or hex code for color of links in text\n\t   * @param {string} config.styles.secondaryBackground=rgba(90,90,90,1) - optional: rgba(X, X, X, X) or hex code for background color of chat bubbles and other secondary info\n\t   * @param {string} config.styles.secondaryText=rgba(247,247,247,1) - optional: rgba(X, X, X, X) or hex code for color of chat bubble text and other secondary info\n\t   * @param {string} config.styles.inputBackground=rgba(90,90,90,1) - optional: rgba(X, X, X, X) or hex code for background color of input elements in forms\n\t   * @param {string} config.styles.inputText=rgba(247,247,247,1) - optional: rgba(X, X, X, X) or hex code for color of input text in forms\n\t   * @param {string} config.styles.accentText=#ffffff - optional: rgba(X, X, X, X) or hex code for text colors to be used in conjunction with accentBackground e.g. button text\n\t   * @param {string} config.styles.accentBackground=#BA8FF7 - optional: rgba(X, X, X, X) or hex code for accent colors used by the chat application e.g. buttons\n\t   * @param {string} config.styles.errorText=#ffffff - optional: rgba(X, X, X, X) or hex code for text colors to be used in conjunction with errorBackground e.g. button text\n\t   * @param {string} config.styles.errorBackground=#e86e6e - optional: rgba(X, X, X, X) or hex code for error colors used by the chat application e.g. validation buttons\n\t   * @param {string} config.styles.fontFamily=HelveticaNeue,Helvetica,sans-serif - optional: comma seperated list of fonts to use\n\t   * @param {string} config.styles.fontSize=15px - optional: base font size to use\n\t   * @example\n\t   * IBMChat.init({\n\t   *  el: 'my_div',\n\t   *  botID: 'xxxxxxxxxxxxxx'\n\t   *  styles: {\n\t   *    background: \"#000000\"\n\t   *  }\n\t   * }).then(function(){\n\t   *     console.log('initialize');\n\t   * });\n\t   * //or\n\t   * var el = document.querySelector('.my-widget-container');\n\t   * IBMChat.init({\n\t   *  el: el,\n\t   *  botID: 'xxxxxxxxxxxxxx'\n\t   *  styles: {\n\t   *    background: \"#000000\"\n\t   *  }\n\t   * }).then(function(){\n\t   *     console.log('initialize');\n\t   * });\n\t   * @returns {Promise} Returns: A promise so you can call functions after the widget has been initialized.\n\t   */\n\t  init: bootstrap.init,\n\t  /**\n\t   * Please use either IBMChat.clear() or IBMChat.destroy() and IBMChat.init() in conjunction instead of this method. This method destroys the chat widget and re-intitializes it. The same chat widget is rendered in the same html element as was specified in the init method. **Action subscriptions and custom layouts are NOT reincluded**.\n\t   * @function restart\n\t   * @deprecated\n\t   * @memberof IBMChat\n\t   * @example\n\t   * IBMChat.restart().then(function(){\n\t   *     console.log('restarted');\n\t   * });\n\t   * @returns {Promise} Returns: A promise so you can call functions after the widget has been initialized.\n\t   */\n\t  restart: bootstrap.restart,\n\t  /**\n\t   * Destroy the chat widget and restore the original HTML content. Useful if the chat widget is displayed in a modal, for example, and you want it to go away when the modal is closed.\n\t   * @function destroy\n\t   * @memberof IBMChat\n\t   * @example\n\t   * IBMChat.destroy().then(function(){\n\t   *     console.log('destroyed');\n\t   * });\n\t   * @returns {Promise} Returns: A promise so you can call functions after the widget has been destroyed.\n\t   */\n\t  destroy: bootstrap.destroy,\n\t  /**\n\t   * Clear the chat widget of its current conversation and start a new conversation with the Virtual Agent\n\t   * @function clear\n\t   * @memberof IBMChat\n\t   * @example\n\t   * IBMChat.clear().then(function(){\n\t   *     console.log('cleared');\n\t   * });\n\t   * @returns {Promise} Returns: A promise so you can call functions after the widget has been cleared.\n\t   */\n\t  clear: bootstrap.clear,\n\t  /**\n\t   * Send a message to the chat widget from outside the chat widget. This message will be displayed in the interface.\n\t   * @function send\n\t   * @memberof IBMChat\n\t   * @param {string} message - A message you want to send to the chat widget.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.send('Hello world.');\n\t   */\n\t  send: function(message) {\n\t    bootstrap.send(message);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Mock receiving a message to the chat widget from outside the chat widget.\n\t   * @function receive\n\t   * @memberof IBMChat\n\t   * @param {string} message - A message you want to show as received in the chat widget.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.receive('Hello world.');\n\t   */\n\t  receive: function(message) {\n\t    bootstrap.receive(message);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Send a message to the chat widget from outside the chat widget. This message will be displayed in the interface, but will not actually get sent to the server.\n\t   * @function sendMock\n\t   * @memberof IBMChat\n\t   * @param {string} message - A message you want to pretend to send to the chat widget.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.sendMock('Hello world.');\n\t   */\n\t  sendMock: function(message) {\n\t    bootstrap.sendMock(message);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Send a message to the chat widget from outside the chat widget. This message will NOT be displayed in the interface.\n\t   * @function sendSilently\n\t   * @memberof IBMChat\n\t   * @param {string} message - A message you want to send to the chat widget, but not de displayed in the interface.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.sendSilently('Hello world.');\n\t   */\n\t  sendSilently: function(message) {\n\t    bootstrap.sendSilently(message);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Register a custom layout with the chat widget. Call registerLayout() before you call init().\n\t   * @function registerLayout\n\t   * @memberof IBMChat\n\t   * @param {string} layout - The name of the layout your bot will provide when it is triggered to render a layout.\n\t   * @param {function} init - A function that runs one time, when the chat widget is bootstrapped. Be sure to subscribe to the \"layout:YOUR_LAYOUT_NAME\" event in this function.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * var PlumberBrothers = require('../plumber-brothers-game');\n\t   * var config = {};\n\t   *\n\t   * function initGame() {\n\t   *   IBMChat.subscribe('layout:plumber-brothers-game', function(obj) {\n\t   *     var uuid = obj.uuid;\n\t   *     var parentElement = obj.element;\n\t   *     var layoutElement = obj.layoutElement;\n\t   *     var msgElement = obj.msgElement;\n\t   *     var message = obj.message;\n\t   *     var data = obj.data;\n\t   *     msgElement.textContent = 'Loading Plumber Brothers!';\n\t   *     var brothers = new PlumberBrothers();\n\t   *     brothers.render(layoutElement, data).then(function() {\n\t   *       msgElement.textContent = 'Enjoy your game of Plumber Brothers!';\n\t   *     });\n\t   *   }\n\t   * });\n\t   *\n\t   * IBMChat.registerLayout('plumber-brothers-game', initGame);\n\t   * IBMChat.init(config);\n\t   */\n\t  registerLayout: function(layout, init) {\n\t    bootstrap.registerLayout(layout, init);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Override how inputs into the chat text box are handled. e.g. you may wish to send messages to your live agent instead of to your virtual agent.\n\t   * @function enableCustomInputHandler\n\t   * @memberof IBMChat\n\t   * @param {Object} config\n\t   * @param {function} config.callback - A function that receives a message and resolve and reject functions as params\n\t   * @param {boolean} config.context - (optional) A value for \"this\" in your callback function\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.enableCustomInputHandler({\n\t   *   callback: function(message, resolve, reject) {\n\t   *     //do something like send the message to your live customer service rep\n\t   *     IBMChat.receive('A message from your live customer service rep');\n\t   *     resolve(); // gets rid of loading spinner and allows the chat text box to accept another message\n\t   *     // reject(error);\n\t   *  }\n\t   * });\n\t   */\n\t\n\t  enableCustomInputHandler: function(config) {\n\t    bootstrap.enableCustomInputHandler(config);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Return chat input boxes handling to the default provided handler.\n\t   * @function disableCustomInputHandler\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.disableCustomInputHandler();\n\t   */\n\t\n\t  disableCustomInputHandler: function() {\n\t    bootstrap.disableCustomInputHandler();\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Set focus to the chat text box. Useful if you want users to be able to just start typing into the text box without having to click in the text box first to set focus.\n\t   * @function focusInput\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.focusInput();\n\t   */\n\t\n\t  focusInput: function() {\n\t    bootstrap.focusInput();\n\t    return IBMChat;\n\t  },\n\t  /**\n\t   * Prevent users from submitting messages in the chat text box. Useful when you want the user to interact with a layout instead.\n\t   * @function disableInput\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.disableInput();\n\t   */\n\t  disableInput: function() {\n\t    bootstrap.disableInput();\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Enable users to submit messages in the chat text box. Useful when you want users to be able to return to adding messages to the chat text box after interacting with a layout.\n\t   * @function enableInput\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.enableInput();\n\t   */\n\t  enableInput: function() {\n\t    bootstrap.enableInput();\n\t    return IBMChat;\n\t  },\n\t\n\t\n\t  /**\n\t   * Subscribe to an IBMChat event. See [./EVENTS.md](./EVENTS.md) for more details.\n\t   * @function subscribe\n\t   * @memberof IBMChat\n\t   * @param {string} eventName - Takes a string representing the name of the event\n\t   * @param {function} callback - function to run when event is called\n\t   * @param context - optional: value of \"this\" in the function\n\t   * @returns {Object} - Returns object with a .remove function to destroy the subscription\n\t   * @example\n\t   * var mySubscription = IBMChat.subscribe('the-end-of-the-world', function(message) {\n\t   *   console.log(message);\n\t   *   mySubscription.remove(); // remove subscription\n\t   * });\n\t   */\n\t  subscribe: bootstrap.subscribe,\n\t\n\t  /**\n\t   * Subscribe to an IBMChat event and auto unsubscribe when called.\n\t   * @function subscribeOnce\n\t   * @memberof IBMChat\n\t   * @param {string} eventName - Takes a string representing the name of the event\n\t   * @param {function} callback - function to run when event is called\n\t   * @param context - optional: value of \"this\" in the function\n\t   * @returns {Object} - Returns object with a .remove function to destroy the subscription\n\t   * @example\n\t   * var mySubscription = IBMChat.subscribeOnce('the-end-of-the-world', function(message) {\n\t   *   console.log(message);\n\t   * });\n\t   */\n\t  subscribeOnce: bootstrap.subscribeOnce,\n\t  /**\n\t   * Publish an IBMChat event. See [./EVENTS.md](./EVENTS.md) for more details.\n\t   * @function publish\n\t   * @memberof IBMChat\n\t   * @param {string} eventName - A string that represents the name of the event data\n\t   * @param data - Data to pass to the callback function of any subscribed functions. Accepts any data type.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.publish('the-end-of-the-world', 'panic!');\n\t   */\n\t  publish: function(eventName, data) {\n\t    bootstrap.publish(eventName, data);\n\t    return IBMChat;\n\t  },\n\t  /**\n\t   * @namespace profile\n\t   * @memberof IBMChat\n\t   */\n\t  profile: {\n\t    /**\n\t    * Get an item from the user profile based on key.\n\t    * @memberof IBMChat.profile\n\t    * @function get\n\t    * @param {string} key - The named key of the value you are accessing.\n\t    * @example\n\t    * IBMChat.profile.get('first_name');\n\t    * @returns {Any} Returns: the value of the key in the profile map.\n\t    */\n\t    get: bootstrap.profile.get,\n\t    /**\n\t    * Set an item from the user profile based on key.\n\t    * @memberof IBMChat.profile\n\t    * @function set\n\t    * @param {string} key - The named key of the value you are setting.\n\t    * @param {string} value - The value you are setting.\n\t    * @example\n\t    * IBMChat.profile.set('first_name', 'john');\n\t    */\n\t    set: bootstrap.profile.set,\n\t    /**\n\t    * See if an item from the user profile exists based on key.\n\t    * @memberof IBMChat.profile\n\t    * @function has\n\t    * @param {string} key - The named key of the value you are checking the existence of.\n\t    * @example\n\t    * IBMChat.profile.has('first_name');\n\t    * @returns {Boolean} - Boolean indicating if the key exists.\n\t    */\n\t    has: bootstrap.profile.has,\n\t    /**\n\t    * Clear the entire user profile.\n\t    * @memberof IBMChat.profile\n\t    * @function clear\n\t    * @example\n\t    * IBMChat.profile.clear();\n\t    */\n\t    clear: bootstrap.profile.clear,\n\t    /**\n\t    * Delete an item from the user profile based on key.\n\t    * @memberof IBMChat.profile\n\t    * @function delete\n\t    * @param {string} key - The named key of the value you are deleting.\n\t    * @example\n\t    * IBMChat.profile.delete('first_name');\n\t    */\n\t    delete: bootstrap.profile.delete,\n\t    /**\n\t    * Iterate over the profile.\n\t    * @memberof IBMChat.profile\n\t    * @function forEach\n\t    * @param {function} callback - The function you are calling on each item in the profile object. This function is passed key as the first argument and value as the second argument.\n\t    * @param {Object} this - (optional) The context you wish to call the callback in.\n\t    * @example\n\t    * IBMChat.profile.forEach(function(key, value) {\n\t    *   console.log(key, value);\n\t    * });\n\t    */\n\t    forEach: bootstrap.profile.forEach\n\t  },\n\t  /**\n\t   * See a list of current event subscriptions. See [./EVENTS.md](./EVENTS.md) for more details.\n\t    * @function currentSubscriptions\n\t   * @memberof IBMChat\n\t   * @returns {Array} - Array of events and callbacks.\n\t   * @example\n\t   * IBMChat.currentSubscriptions();\n\t   */\n\t  currentSubscriptions: bootstrap.currentSubscriptions,\n\t  /**\n\t   * @namespace state\n\t   * @memberof IBMChat\n\t   */\n\t  state: {\n\t    /**\n\t    * @memberof IBMChat.state\n\t    * @function get\n\t    * @example\n\t    * IBMChat.state.get();\n\t    * @returns {Object} Returns: the current application state.\n\t    */\n\t    get: bootstrap.state.get,\n\t    /**\n\t    * @memberof IBMChat.state\n\t    * @function set\n\t    * @param {Object} newState - The key/value pairs put here will merge with current application state.\n\t    * @returns {IBMChat} - Returns IBMChat for chaining.\n\t    * @example\n\t    * IBMChat.state.set({\n\t    *      \"first_name\": \"Bob\"\n\t    * });\n\t    */\n\t    set: function(obj) {\n\t      bootstrap.state.set(obj);\n\t      return IBMChat;\n\t    }\n\t  },\n\t  /**\n\t   * @namespace context\n\t   * @memberof IBMChat\n\t   */\n\t  context: {\n\t    /**\n\t    * For [use with Custom Workspaces](https://www.ibm.com/watson/developercloud/doc/conversation/dialog-build.html#context-variables)\n\t    * @memberof IBMChat.context\n\t    * @function get\n\t    * @example\n\t    * IBMChat.context.get();\n\t    * @returns {Object} Returns: the current content.\n\t    */\n\t    get: bootstrap.context.get,\n\t    /**\n\t    * @memberof IBMChat.context\n\t    * @function set\n\t    * @param {Object} newContext - The key/value pairs put here will merge with current context variables.\n\t    * @returns {IBMChat} - Returns IBMChat for chaining.\n\t    * @example\n\t    * IBMChat.context.set({\n\t    *      \"first_name\": \"Bob\"\n\t    * });\n\t    */\n\t    set: function(obj) {\n\t      bootstrap.context.set(obj);\n\t      return IBMChat;\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Turns on a whole bunch of verbose console.log statements!\n\t   * @function debug\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.debug()\n\t   */\n\t  debug: function() {\n\t    bootstrap.debug();\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * String of current version of the chat widget.\n\t   * @memberof IBMChat\n\t   * @example\n\t   * IBMChat.version\n\t   */\n\t  version: (\"1.6.5\")\n\t\n\t};\n\t\n\t\n\tmodule.exports = IBMChat;\n\n\n/***/ },\n/* 1 */\n/*!*****************************!*\\\n  !*** ./src/events/index.js ***!\n  \\*****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../state */ 2);\n\t\n\tvar events = [];\n\t\n\tfunction completeEvent(response) {\n\t  switch (response) {\n\t  case true:\n\t    publish('send', {\n\t      message: 'success',\n\t      silent: true\n\t    });\n\t    break;\n\t  case false:\n\t    publish('send', {\n\t      message: 'failure',\n\t      silent: true\n\t    });\n\t    break;\n\t  default:\n\t    publish('send', {\n\t      message: 'cancel',\n\t      silent: true\n\t    });\n\t  }\n\t}\n\t\n\tfunction destroy() {\n\t  events = [];\n\t}\n\t\n\tfunction unsubscribe(event, handler, context) {\n\t  if (typeof context === undefined)\n\t    context = handler;\n\t}\n\t\n\tfunction currentSubscriptions() {\n\t  return events.slice(0);\n\t}\n\t\n\tfunction hasSubscription(action) {\n\t  var subscriptions = currentSubscriptions();\n\t  for (var i = 0; i < subscriptions.length; i++) {\n\t    var subscription = subscriptions[i];\n\t    if (subscription && subscription.event === action)\n\t      return true;\n\t    if (i === subscriptions.length - 1)\n\t      return false;\n\t  }\n\t}\n\t\n\tfunction subscribe(event, handler, context, subscribeOnce) {\n\t  if (typeof context === undefined)\n\t    context = handler;\n\t  var index = events.push({ event: event, handler: handler.bind(context), subscribeOnce: (subscribeOnce) ? true : false }) - 1;\n\t  if (!subscribeOnce) {\n\t    return {\n\t      remove: function() {\n\t        delete events[index];\n\t      }\n\t    };\n\t  }\n\t}\n\t\n\tfunction subscribeMany(event, handler, context) {\n\t  return subscribe(event, handler, context, false);\n\t}\n\t\n\tfunction subscribeOnce(event, handler, context) {\n\t  subscribe(event, handler, context, true);\n\t}\n\t\n\tfunction publish(event, data, cb) {\n\t  var current = state.get();\n\t  var wasSubscription = false;\n\t  for (var i = 0; i < events.length; i++) {\n\t    if (events[i] && events[i].event && events[i].event === event) {\n\t      if (current.DEBUG) {\n\t        wasSubscription = true;\n\t        if (event !== 'resize')\n\t          console.log('Subscription to ' + event + ' was called: ', data);\n\t      }\n\t      events[i].handler.call(undefined, data, cb);\n\t      if (events[i] && events[i].subscribeOnce === true)\n\t        delete events[i];\n\t    }\n\t  }\n\t  if (current.DEBUG && event.indexOf('layout') == -1 && !wasSubscription)\n\t    console.warn('Nothing is subscribed to ' + event);\n\t}\n\t\n\tmodule.exports = {\n\t  destroy: destroy,\n\t  unsubscribe: unsubscribe,\n\t  currentSubscriptions: currentSubscriptions,\n\t  hasSubscription: hasSubscription,\n\t  subscribe: subscribeMany,\n\t  subscribeOnce: subscribeOnce,\n\t  publish: publish,\n\t  completeEvent: completeEvent\n\t};\n\n\n/***/ },\n/* 2 */\n/*!****************************!*\\\n  !*** ./src/state/index.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar states = [];\n\tvar state = {};\n\tvar assign = __webpack_require__(/*! lodash/assign */ 6);\n\t\n\tfunction get() {\n\t  return state;\n\t}\n\tfunction destroy() {\n\t  state = {};\n\t  set({});\n\t}\n\t\n\tfunction set(updated) {\n\t  state = assign({}, state, updated);\n\t  if (state.DEBUG) {\n\t    states.push(state);\n\t    console.log('STATE HISTORY: ', states);\n\t    console.log('NEW STATE: ', state);\n\t  }\n\t}\n\t\n\tmodule.exports ={\n\t  get: get,\n\t  set: set,\n\t  destroy: destroy,\n\t  getState: get,\n\t  setState: set,\n\t  destroyState: destroy\n\t};\n\n\n/***/ },\n/* 3 */\n/*!***************************!*\\\n  !*** ./src/utils/i18n.js ***!\n  \\***************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar IntlMessageFormat = __webpack_require__(/*! intl-messageformat */ 19);\n\tvar fallbacks = __webpack_require__(/*! json!yaml!../lang/en.yaml */ 25).en;\n\tvar state = __webpack_require__(/*! ../state */ 2);\n\t\n\tfunction getString(id, fallback) {\n\t  var t = state.get().langBundle;\n\t  if (t && t[id]) {\n\t    return t[id];\n\t  }\n\t  if (fallback) {\n\t    return fallback;\n\t  }\n\t  if (fallbacks[id]) {\n\t    return fallbacks[id];\n\t  }\n\t  return null;\n\t}\n\t\n\tvar intlMsgOptions = {\n\t  date: {\n\t    // outputs 'Sat', 'Sun'\n\t    weekday_short: {\n\t      weekday: 'short'\n\t    }\n\t  }\n\t};\n\t\n\tfunction getMessage(id, _useFallbacks) {\n\t  var msg;\n\t  var t = !_useFallbacks ? state.get().langBundle : fallbacks;\n\t  if (t && t[id]) {\n\t    msg = t[id];\n\t    if (typeof msg === 'string') {\n\t      // create a message object and store it\n\t      var locale = state.get().locale;\n\t      msg = new IntlMessageFormat(msg, locale, intlMsgOptions);\n\t      t[id] = msg;\n\t    }\n\t  } else {\n\t    msg = getMessage(id, true);\n\t  }\n\t\n\t  return msg;\n\t}\n\t\n\tfunction format(id, values) {\n\t  var msg = getMessage(id);\n\t  return msg.format(values);\n\t}\n\t\n\tmodule.exports = getString;\n\tmodule.exports.format = format;\n\n\n/***/ },\n/* 4 */\n/*!****************************!*\\\n  !*** ./src/utils/index.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../state */ 2);\n\tvar events = __webpack_require__(/*! ../events */ 1);\n\tvar writeMessage = __webpack_require__(/*! ./writeMessage */ 89);\n\t\n\tfunction debounce(func, wait, immediate) {\n\t  var timeout;\n\t  return function() {\n\t    var context = this, args = arguments;\n\t    var later = function() {\n\t      timeout = null;\n\t      if (!immediate) func.apply(context, args);\n\t    };\n\t    var callNow = immediate && !timeout;\n\t    clearTimeout(timeout);\n\t    timeout = setTimeout(later, wait);\n\t    if (callNow) func.apply(context, args);\n\t  };\n\t}\n\t\n\tfunction serialize(obj) {\n\t  var str = [];\n\t  for (var p in obj) {\n\t    if (obj.hasOwnProperty(p))\n\t      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]));\n\t  }\n\t  return str.join('&');\n\t}\n\t\n\tfunction compile(str, options) {\n\t  if (options && Array.isArray(Object.keys(options)) && Object.keys(options).length > 0) {\n\t    Object.keys(options).forEach(function(key) {\n\t      str = str.split('${' + key + '}').join(options[key]);\n\t    });\n\t  }\n\t  return str;\n\t}\n\t\n\tfunction getUUID() {\n\t  var d = new Date().getTime();\n\t  if ( window.performance && typeof window.performance.now === 'function' )\n\t    d += performance.now();\n\t  return 'IBMChat-' + ('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t    var r = (d + Math.random()*16)%16 | 0;\n\t    d = Math.floor(d/16);\n\t    return (( c == 'x' ? r : (r&0x3|0x8)).toString(16));\n\t  }));\n\t}\n\t\n\tfunction hasClass(element, className) {\n\t  var thatClass = \" \" + className + \" \";\n\t  return ( (\" \" + element.className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(thatClass) > -1 );\n\t}\n\t\n\tfunction appendToEach(appendTo, content) {\n\t  for (var i = 0; i < appendTo.length; i++) {\n\t    var clone = content.cloneNode(true);\n\t    appendTo[i].appendChild(clone);\n\t  }\n\t}\n\t\n\tfunction isVisible(elem) {\n\t  if (elem)\n\t    return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n\t  else\n\t    return false;\n\t}\n\t\n\tvar _currentVisibilityCheck;\n\t\n\tfunction checkVisibility() {\n\t  var current = state.get();\n\t  if (_currentVisibilityCheck)\n\t    clearTimeout(_currentVisibilityCheck);\n\t  if (isVisible(current.root)) {\n\t    if (!current.isVisible) {\n\t      state.set({\n\t        isVisible: true\n\t      });\n\t    }\n\t    events.publish('resize');\n\t    _currentVisibilityCheck = setTimeout(checkVisibility, 1000);\n\t  } else {\n\t    if (current.isVisible) {\n\t      state.set({\n\t        isVisible: false\n\t      });\n\t    }\n\t    _currentVisibilityCheck = setTimeout(checkVisibility, 300);\n\t  }\n\t}\n\t\n\tfunction endVisibilityCheck() {\n\t  if (_currentVisibilityCheck)\n\t    clearTimeout(_currentVisibilityCheck);\n\t}\n\t\n\tfunction checkRoot(el) {\n\t  if (typeof el === 'string' && document.getElementById(el))\n\t    return true;\n\t  else if (el.nodeType && el.nodeType === 1)\n\t    return true;\n\t  else\n\t    return false;\n\t}\n\t\n\tfunction getSDKConfig(config) {\n\t  var SDKconfig = {};\n\t  var baseURL = 'https://api.ibm.com/virtualagent/run/api/v1/';\n\t  SDKconfig.baseURL = config.baseURL || baseURL;\n\t  if (config.withCredentials)\n\t    SDKconfig.withCredentials = config.withCredentials;\n\t  if (config.XIBMClientID)\n\t    SDKconfig.XIBMClientID = config.XIBMClientID;\n\t  if (config.XIBMClientSecret)\n\t    SDKconfig.XIBMClientSecret = config.XIBMClientSecret;\n\t  if (config.userID)\n\t    SDKconfig.userID = config.userID;\n\t  if (config.userLatLon)\n\t    SDKconfig.userLatLon = config.userLatLon;\n\t  return SDKconfig;\n\t}\n\t\n\tmodule.exports = {\n\t  appendToEach: appendToEach,\n\t  debounce: debounce,\n\t  serialize: serialize,\n\t  hasClass: hasClass,\n\t  getUUID: getUUID,\n\t  compile: compile,\n\t  writeMessage: writeMessage,\n\t  isVisible: isVisible,\n\t  checkVisibility: checkVisibility,\n\t  checkRoot: checkRoot,\n\t  getSDKConfig: getSDKConfig,\n\t  endVisibilityCheck: endVisibilityCheck\n\t};\n\n\n/***/ },\n/* 5 */\n/*!*******************************************************!*\\\n  !*** ./~/@watson-virtual-agent/client-sdk/lib/web.js ***!\n  \\*******************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function webpackUniversalModuleDefinition(root, factory) {\n\t\tif(true)\n\t\t\tmodule.exports = factory();\n\t\telse if(typeof define === 'function' && define.amd)\n\t\t\tdefine(\"SDK\", [], factory);\n\t\telse if(typeof exports === 'object')\n\t\t\texports[\"SDK\"] = factory();\n\t\telse\n\t\t\troot[\"SDK\"] = factory();\n\t})(this, function() {\n\treturn /******/ (function(modules) { // webpackBootstrap\n\t/******/ \t// The module cache\n\t/******/ \tvar installedModules = {};\n\t/******/\n\t/******/ \t// The require function\n\t/******/ \tfunction __webpack_require__(moduleId) {\n\t/******/\n\t/******/ \t\t// Check if module is in cache\n\t/******/ \t\tif(installedModules[moduleId])\n\t/******/ \t\t\treturn installedModules[moduleId].exports;\n\t/******/\n\t/******/ \t\t// Create a new module (and put it into the cache)\n\t/******/ \t\tvar module = installedModules[moduleId] = {\n\t/******/ \t\t\texports: {},\n\t/******/ \t\t\tid: moduleId,\n\t/******/ \t\t\tloaded: false\n\t/******/ \t\t};\n\t/******/\n\t/******/ \t\t// Execute the module function\n\t/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t/******/\n\t/******/ \t\t// Flag the module as loaded\n\t/******/ \t\tmodule.loaded = true;\n\t/******/\n\t/******/ \t\t// Return the exports of the module\n\t/******/ \t\treturn module.exports;\n\t/******/ \t}\n\t/******/\n\t/******/\n\t/******/ \t// expose the modules object (__webpack_modules__)\n\t/******/ \t__webpack_require__.m = modules;\n\t/******/\n\t/******/ \t// expose the module cache\n\t/******/ \t__webpack_require__.c = installedModules;\n\t/******/\n\t/******/ \t// __webpack_public_path__\n\t/******/ \t__webpack_require__.p = \"\";\n\t/******/\n\t/******/ \t// Load entry module and return exports\n\t/******/ \treturn __webpack_require__(0);\n\t/******/ })\n\t/************************************************************************/\n\t/******/ ([\n\t/* 0 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(22);\n\t\n\t\n\t/***/ },\n\t/* 1 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/*global toString:true*/\n\t\t\n\t\t// utils is a library of generic helper functions non-specific to axios\n\t\t\n\t\tvar toString = Object.prototype.toString;\n\t\t\n\t\t/**\n\t\t * Determine if a value is an Array\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is an Array, otherwise false\n\t\t */\n\t\tfunction isArray(val) {\n\t\t  return toString.call(val) === '[object Array]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is an ArrayBuffer\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n\t\t */\n\t\tfunction isArrayBuffer(val) {\n\t\t  return toString.call(val) === '[object ArrayBuffer]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a FormData\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is an FormData, otherwise false\n\t\t */\n\t\tfunction isFormData(val) {\n\t\t  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a view on an ArrayBuffer\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n\t\t */\n\t\tfunction isArrayBufferView(val) {\n\t\t  var result;\n\t\t  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n\t\t    result = ArrayBuffer.isView(val);\n\t\t  } else {\n\t\t    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n\t\t  }\n\t\t  return result;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a String\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a String, otherwise false\n\t\t */\n\t\tfunction isString(val) {\n\t\t  return typeof val === 'string';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Number\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Number, otherwise false\n\t\t */\n\t\tfunction isNumber(val) {\n\t\t  return typeof val === 'number';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is undefined\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if the value is undefined, otherwise false\n\t\t */\n\t\tfunction isUndefined(val) {\n\t\t  return typeof val === 'undefined';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is an Object\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is an Object, otherwise false\n\t\t */\n\t\tfunction isObject(val) {\n\t\t  return val !== null && typeof val === 'object';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Date\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Date, otherwise false\n\t\t */\n\t\tfunction isDate(val) {\n\t\t  return toString.call(val) === '[object Date]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a File\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a File, otherwise false\n\t\t */\n\t\tfunction isFile(val) {\n\t\t  return toString.call(val) === '[object File]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Blob\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Blob, otherwise false\n\t\t */\n\t\tfunction isBlob(val) {\n\t\t  return toString.call(val) === '[object Blob]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Function\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Function, otherwise false\n\t\t */\n\t\tfunction isFunction(val) {\n\t\t  return toString.call(val) === '[object Function]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Stream\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Stream, otherwise false\n\t\t */\n\t\tfunction isStream(val) {\n\t\t  return isObject(val) && isFunction(val.pipe);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a URLSearchParams object\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n\t\t */\n\t\tfunction isURLSearchParams(val) {\n\t\t  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Trim excess whitespace off the beginning and end of a string\n\t\t *\n\t\t * @param {String} str The String to trim\n\t\t * @returns {String} The String freed of excess whitespace\n\t\t */\n\t\tfunction trim(str) {\n\t\t  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if we're running in a standard browser environment\n\t\t *\n\t\t * This allows axios to run in a web worker, and react-native.\n\t\t * Both environments support XMLHttpRequest, but not fully standard globals.\n\t\t *\n\t\t * web workers:\n\t\t *  typeof window -> undefined\n\t\t *  typeof document -> undefined\n\t\t *\n\t\t * react-native:\n\t\t *  typeof document.createElement -> undefined\n\t\t */\n\t\tfunction isStandardBrowserEnv() {\n\t\t  return (\n\t\t    typeof window !== 'undefined' &&\n\t\t    typeof document !== 'undefined' &&\n\t\t    typeof document.createElement === 'function'\n\t\t  );\n\t\t}\n\t\t\n\t\t/**\n\t\t * Iterate over an Array or an Object invoking a function for each item.\n\t\t *\n\t\t * If `obj` is an Array callback will be called passing\n\t\t * the value, index, and complete array for each item.\n\t\t *\n\t\t * If 'obj' is an Object callback will be called passing\n\t\t * the value, key, and complete object for each property.\n\t\t *\n\t\t * @param {Object|Array} obj The object to iterate\n\t\t * @param {Function} fn The callback to invoke for each item\n\t\t */\n\t\tfunction forEach(obj, fn) {\n\t\t  // Don't bother if no value provided\n\t\t  if (obj === null || typeof obj === 'undefined') {\n\t\t    return;\n\t\t  }\n\t\t\n\t\t  // Force an array if not already something iterable\n\t\t  if (typeof obj !== 'object' && !isArray(obj)) {\n\t\t    /*eslint no-param-reassign:0*/\n\t\t    obj = [obj];\n\t\t  }\n\t\t\n\t\t  if (isArray(obj)) {\n\t\t    // Iterate over array values\n\t\t    for (var i = 0, l = obj.length; i < l; i++) {\n\t\t      fn.call(null, obj[i], i, obj);\n\t\t    }\n\t\t  } else {\n\t\t    // Iterate over object keys\n\t\t    for (var key in obj) {\n\t\t      if (obj.hasOwnProperty(key)) {\n\t\t        fn.call(null, obj[key], key, obj);\n\t\t      }\n\t\t    }\n\t\t  }\n\t\t}\n\t\t\n\t\t/**\n\t\t * Accepts varargs expecting each argument to be an object, then\n\t\t * immutably merges the properties of each object and returns result.\n\t\t *\n\t\t * When multiple objects contain the same key the later object in\n\t\t * the arguments list will take precedence.\n\t\t *\n\t\t * Example:\n\t\t *\n\t\t * ```js\n\t\t * var result = merge({foo: 123}, {foo: 456});\n\t\t * console.log(result.foo); // outputs 456\n\t\t * ```\n\t\t *\n\t\t * @param {Object} obj1 Object to merge\n\t\t * @returns {Object} Result of all merge properties\n\t\t */\n\t\tfunction merge(/* obj1, obj2, obj3, ... */) {\n\t\t  var result = {};\n\t\t  function assignValue(val, key) {\n\t\t    if (typeof result[key] === 'object' && typeof val === 'object') {\n\t\t      result[key] = merge(result[key], val);\n\t\t    } else {\n\t\t      result[key] = val;\n\t\t    }\n\t\t  }\n\t\t\n\t\t  for (var i = 0, l = arguments.length; i < l; i++) {\n\t\t    forEach(arguments[i], assignValue);\n\t\t  }\n\t\t  return result;\n\t\t}\n\t\t\n\t\tmodule.exports = {\n\t\t  isArray: isArray,\n\t\t  isArrayBuffer: isArrayBuffer,\n\t\t  isFormData: isFormData,\n\t\t  isArrayBufferView: isArrayBufferView,\n\t\t  isString: isString,\n\t\t  isNumber: isNumber,\n\t\t  isObject: isObject,\n\t\t  isUndefined: isUndefined,\n\t\t  isDate: isDate,\n\t\t  isFile: isFile,\n\t\t  isBlob: isBlob,\n\t\t  isFunction: isFunction,\n\t\t  isStream: isStream,\n\t\t  isURLSearchParams: isURLSearchParams,\n\t\t  isStandardBrowserEnv: isStandardBrowserEnv,\n\t\t  forEach: forEach,\n\t\t  merge: merge,\n\t\t  trim: trim\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 2 */\n\t/***/ function(module, exports) {\n\t\n\t\t// shim for using process in browser\n\t\tvar process = module.exports = {};\n\t\t\n\t\t// cached from whatever global is present so that test runners that stub it\n\t\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t\t// function because try/catches deoptimize in certain engines.\n\t\t\n\t\tvar cachedSetTimeout;\n\t\tvar cachedClearTimeout;\n\t\t\n\t\tfunction defaultSetTimout() {\n\t\t    throw new Error('setTimeout has not been defined');\n\t\t}\n\t\tfunction defaultClearTimeout () {\n\t\t    throw new Error('clearTimeout has not been defined');\n\t\t}\n\t\t(function () {\n\t\t    try {\n\t\t        if (typeof setTimeout === 'function') {\n\t\t            cachedSetTimeout = setTimeout;\n\t\t        } else {\n\t\t            cachedSetTimeout = defaultSetTimout;\n\t\t        }\n\t\t    } catch (e) {\n\t\t        cachedSetTimeout = defaultSetTimout;\n\t\t    }\n\t\t    try {\n\t\t        if (typeof clearTimeout === 'function') {\n\t\t            cachedClearTimeout = clearTimeout;\n\t\t        } else {\n\t\t            cachedClearTimeout = defaultClearTimeout;\n\t\t        }\n\t\t    } catch (e) {\n\t\t        cachedClearTimeout = defaultClearTimeout;\n\t\t    }\n\t\t} ())\n\t\tfunction runTimeout(fun) {\n\t\t    if (cachedSetTimeout === setTimeout) {\n\t\t        //normal enviroments in sane situations\n\t\t        return setTimeout(fun, 0);\n\t\t    }\n\t\t    // if setTimeout wasn't available but was latter defined\n\t\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t\t        cachedSetTimeout = setTimeout;\n\t\t        return setTimeout(fun, 0);\n\t\t    }\n\t\t    try {\n\t\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t\t        return cachedSetTimeout(fun, 0);\n\t\t    } catch(e){\n\t\t        try {\n\t\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t\t            return cachedSetTimeout.call(null, fun, 0);\n\t\t        } catch(e){\n\t\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t\t            return cachedSetTimeout.call(this, fun, 0);\n\t\t        }\n\t\t    }\n\t\t\n\t\t\n\t\t}\n\t\tfunction runClearTimeout(marker) {\n\t\t    if (cachedClearTimeout === clearTimeout) {\n\t\t        //normal enviroments in sane situations\n\t\t        return clearTimeout(marker);\n\t\t    }\n\t\t    // if clearTimeout wasn't available but was latter defined\n\t\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t\t        cachedClearTimeout = clearTimeout;\n\t\t        return clearTimeout(marker);\n\t\t    }\n\t\t    try {\n\t\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t\t        return cachedClearTimeout(marker);\n\t\t    } catch (e){\n\t\t        try {\n\t\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t\t            return cachedClearTimeout.call(null, marker);\n\t\t        } catch (e){\n\t\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t\t            return cachedClearTimeout.call(this, marker);\n\t\t        }\n\t\t    }\n\t\t\n\t\t\n\t\t\n\t\t}\n\t\tvar queue = [];\n\t\tvar draining = false;\n\t\tvar currentQueue;\n\t\tvar queueIndex = -1;\n\t\t\n\t\tfunction cleanUpNextTick() {\n\t\t    if (!draining || !currentQueue) {\n\t\t        return;\n\t\t    }\n\t\t    draining = false;\n\t\t    if (currentQueue.length) {\n\t\t        queue = currentQueue.concat(queue);\n\t\t    } else {\n\t\t        queueIndex = -1;\n\t\t    }\n\t\t    if (queue.length) {\n\t\t        drainQueue();\n\t\t    }\n\t\t}\n\t\t\n\t\tfunction drainQueue() {\n\t\t    if (draining) {\n\t\t        return;\n\t\t    }\n\t\t    var timeout = runTimeout(cleanUpNextTick);\n\t\t    draining = true;\n\t\t\n\t\t    var len = queue.length;\n\t\t    while(len) {\n\t\t        currentQueue = queue;\n\t\t        queue = [];\n\t\t        while (++queueIndex < len) {\n\t\t            if (currentQueue) {\n\t\t                currentQueue[queueIndex].run();\n\t\t            }\n\t\t        }\n\t\t        queueIndex = -1;\n\t\t        len = queue.length;\n\t\t    }\n\t\t    currentQueue = null;\n\t\t    draining = false;\n\t\t    runClearTimeout(timeout);\n\t\t}\n\t\t\n\t\tprocess.nextTick = function (fun) {\n\t\t    var args = new Array(arguments.length - 1);\n\t\t    if (arguments.length > 1) {\n\t\t        for (var i = 1; i < arguments.length; i++) {\n\t\t            args[i - 1] = arguments[i];\n\t\t        }\n\t\t    }\n\t\t    queue.push(new Item(fun, args));\n\t\t    if (queue.length === 1 && !draining) {\n\t\t        runTimeout(drainQueue);\n\t\t    }\n\t\t};\n\t\t\n\t\t// v8 likes predictible objects\n\t\tfunction Item(fun, array) {\n\t\t    this.fun = fun;\n\t\t    this.array = array;\n\t\t}\n\t\tItem.prototype.run = function () {\n\t\t    this.fun.apply(null, this.array);\n\t\t};\n\t\tprocess.title = 'browser';\n\t\tprocess.browser = true;\n\t\tprocess.env = {};\n\t\tprocess.argv = [];\n\t\tprocess.version = ''; // empty string to avoid regexp issues\n\t\tprocess.versions = {};\n\t\t\n\t\tfunction noop() {}\n\t\t\n\t\tprocess.on = noop;\n\t\tprocess.addListener = noop;\n\t\tprocess.once = noop;\n\t\tprocess.off = noop;\n\t\tprocess.removeListener = noop;\n\t\tprocess.removeAllListeners = noop;\n\t\tprocess.emit = noop;\n\t\t\n\t\tprocess.binding = function (name) {\n\t\t    throw new Error('process.binding is not supported');\n\t\t};\n\t\t\n\t\tprocess.cwd = function () { return '/' };\n\t\tprocess.chdir = function (dir) {\n\t\t    throw new Error('process.chdir is not supported');\n\t\t};\n\t\tprocess.umask = function() { return 0; };\n\t\n\t\n\t/***/ },\n\t/* 3 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\tvar buildURL = __webpack_require__(12);\n\t\tvar parseHeaders = __webpack_require__(18);\n\t\tvar transformData = __webpack_require__(4);\n\t\tvar isURLSameOrigin = __webpack_require__(16);\n\t\tvar btoa = (typeof window !== 'undefined' && window.btoa) || __webpack_require__(11);\n\t\tvar settle = __webpack_require__(19);\n\t\t\n\t\tmodule.exports = function xhrAdapter(resolve, reject, config) {\n\t\t  var requestData = config.data;\n\t\t  var requestHeaders = config.headers;\n\t\t\n\t\t  if (utils.isFormData(requestData)) {\n\t\t    delete requestHeaders['Content-Type']; // Let the browser set it\n\t\t  }\n\t\t\n\t\t  var request = new XMLHttpRequest();\n\t\t  var loadEvent = 'onreadystatechange';\n\t\t  var xDomain = false;\n\t\t\n\t\t  // For IE 8/9 CORS support\n\t\t  // Only supports POST and GET calls and doesn't returns the response headers.\n\t\t  // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n\t\t  if (process.env.NODE_ENV !== 'test' && typeof window !== 'undefined' && window.XDomainRequest && !('withCredentials' in request) && !isURLSameOrigin(config.url)) {\n\t\t    request = new window.XDomainRequest();\n\t\t    loadEvent = 'onload';\n\t\t    xDomain = true;\n\t\t    request.onprogress = function handleProgress() {};\n\t\t    request.ontimeout = function handleTimeout() {};\n\t\t  }\n\t\t\n\t\t  // HTTP basic authentication\n\t\t  if (config.auth) {\n\t\t    var username = config.auth.username || '';\n\t\t    var password = config.auth.password || '';\n\t\t    requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n\t\t  }\n\t\t\n\t\t  request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\t\t\n\t\t  // Set the request timeout in MS\n\t\t  request.timeout = config.timeout;\n\t\t\n\t\t  // Listen for ready state\n\t\t  request[loadEvent] = function handleLoad() {\n\t\t    if (!request || (request.readyState !== 4 && !xDomain)) {\n\t\t      return;\n\t\t    }\n\t\t\n\t\t    // The request errored out and we didn't get a response, this will be\n\t\t    // handled by onerror instead\n\t\t    if (request.status === 0) {\n\t\t      return;\n\t\t    }\n\t\t\n\t\t    // Prepare the response\n\t\t    var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n\t\t    var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n\t\t    var response = {\n\t\t      data: transformData(\n\t\t        responseData,\n\t\t        responseHeaders,\n\t\t        config.transformResponse\n\t\t      ),\n\t\t      // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n\t\t      status: request.status === 1223 ? 204 : request.status,\n\t\t      statusText: request.status === 1223 ? 'No Content' : request.statusText,\n\t\t      headers: responseHeaders,\n\t\t      config: config,\n\t\t      request: request\n\t\t    };\n\t\t\n\t\t    settle(resolve, reject, response);\n\t\t\n\t\t    // Clean up request\n\t\t    request = null;\n\t\t  };\n\t\t\n\t\t  // Handle low level network errors\n\t\t  request.onerror = function handleError() {\n\t\t    // Real errors are hidden from us by the browser\n\t\t    // onerror should only fire if it's a network error\n\t\t    reject(new Error('Network Error'));\n\t\t\n\t\t    // Clean up request\n\t\t    request = null;\n\t\t  };\n\t\t\n\t\t  // Handle timeout\n\t\t  request.ontimeout = function handleTimeout() {\n\t\t    var err = new Error('timeout of ' + config.timeout + 'ms exceeded');\n\t\t    err.timeout = config.timeout;\n\t\t    err.code = 'ECONNABORTED';\n\t\t    reject(err);\n\t\t\n\t\t    // Clean up request\n\t\t    request = null;\n\t\t  };\n\t\t\n\t\t  // Add xsrf header\n\t\t  // This is only done if running in a standard browser environment.\n\t\t  // Specifically not if we're in a web worker, or react-native.\n\t\t  if (utils.isStandardBrowserEnv()) {\n\t\t    var cookies = __webpack_require__(14);\n\t\t\n\t\t    // Add xsrf header\n\t\t    var xsrfValue = config.withCredentials || isURLSameOrigin(config.url) ?\n\t\t        cookies.read(config.xsrfCookieName) :\n\t\t        undefined;\n\t\t\n\t\t    if (xsrfValue) {\n\t\t      requestHeaders[config.xsrfHeaderName] = xsrfValue;\n\t\t    }\n\t\t  }\n\t\t\n\t\t  // Add headers to the request\n\t\t  if ('setRequestHeader' in request) {\n\t\t    utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n\t\t      if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n\t\t        // Remove Content-Type if data is undefined\n\t\t        delete requestHeaders[key];\n\t\t      } else {\n\t\t        // Otherwise add header to the request\n\t\t        request.setRequestHeader(key, val);\n\t\t      }\n\t\t    });\n\t\t  }\n\t\t\n\t\t  // Add withCredentials to request if needed\n\t\t  if (config.withCredentials) {\n\t\t    request.withCredentials = true;\n\t\t  }\n\t\t\n\t\t  // Add responseType to request if needed\n\t\t  if (config.responseType) {\n\t\t    try {\n\t\t      request.responseType = config.responseType;\n\t\t    } catch (e) {\n\t\t      if (request.responseType !== 'json') {\n\t\t        throw e;\n\t\t      }\n\t\t    }\n\t\t  }\n\t\t\n\t\t  // Handle progress if needed\n\t\t  if (config.progress) {\n\t\t    if (config.method === 'post' || config.method === 'put') {\n\t\t      request.upload.addEventListener('progress', config.progress);\n\t\t    } else if (config.method === 'get') {\n\t\t      request.addEventListener('progress', config.progress);\n\t\t    }\n\t\t  }\n\t\t\n\t\t  if (requestData === undefined) {\n\t\t    requestData = null;\n\t\t  }\n\t\t\n\t\t  // Send the request\n\t\t  request.send(requestData);\n\t\t};\n\t\t\n\t\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\t\n\t/***/ },\n\t/* 4 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\t/**\n\t\t * Transform the data for a request or a response\n\t\t *\n\t\t * @param {Object|String} data The data to be transformed\n\t\t * @param {Array} headers The headers for the request or response\n\t\t * @param {Array|Function} fns A single function or Array of functions\n\t\t * @returns {*} The resulting transformed data\n\t\t */\n\t\tmodule.exports = function transformData(data, headers, fns) {\n\t\t  /*eslint no-param-reassign:0*/\n\t\t  utils.forEach(fns, function transform(fn) {\n\t\t    data = fn(data, headers);\n\t\t  });\n\t\t\n\t\t  return data;\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 5 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(6);\n\t\n\t/***/ },\n\t/* 6 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar defaults = __webpack_require__(9);\n\t\tvar utils = __webpack_require__(1);\n\t\tvar dispatchRequest = __webpack_require__(8);\n\t\tvar InterceptorManager = __webpack_require__(7);\n\t\tvar isAbsoluteURL = __webpack_require__(15);\n\t\tvar combineURLs = __webpack_require__(13);\n\t\tvar bind = __webpack_require__(10);\n\t\tvar transformData = __webpack_require__(4);\n\t\t\n\t\tfunction Axios(defaultConfig) {\n\t\t  this.defaults = utils.merge({}, defaultConfig);\n\t\t  this.interceptors = {\n\t\t    request: new InterceptorManager(),\n\t\t    response: new InterceptorManager()\n\t\t  };\n\t\t}\n\t\t\n\t\tAxios.prototype.request = function request(config) {\n\t\t  /*eslint no-param-reassign:0*/\n\t\t  // Allow for axios('example/url'[, config]) a la fetch API\n\t\t  if (typeof config === 'string') {\n\t\t    config = utils.merge({\n\t\t      url: arguments[0]\n\t\t    }, arguments[1]);\n\t\t  }\n\t\t\n\t\t  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\t\t\n\t\t  // Support baseURL config\n\t\t  if (config.baseURL && !isAbsoluteURL(config.url)) {\n\t\t    config.url = combineURLs(config.baseURL, config.url);\n\t\t  }\n\t\t\n\t\t  // Don't allow overriding defaults.withCredentials\n\t\t  config.withCredentials = config.withCredentials || this.defaults.withCredentials;\n\t\t\n\t\t  // Transform request data\n\t\t  config.data = transformData(\n\t\t    config.data,\n\t\t    config.headers,\n\t\t    config.transformRequest\n\t\t  );\n\t\t\n\t\t  // Flatten headers\n\t\t  config.headers = utils.merge(\n\t\t    config.headers.common || {},\n\t\t    config.headers[config.method] || {},\n\t\t    config.headers || {}\n\t\t  );\n\t\t\n\t\t  utils.forEach(\n\t\t    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n\t\t    function cleanHeaderConfig(method) {\n\t\t      delete config.headers[method];\n\t\t    }\n\t\t  );\n\t\t\n\t\t  // Hook up interceptors middleware\n\t\t  var chain = [dispatchRequest, undefined];\n\t\t  var promise = Promise.resolve(config);\n\t\t\n\t\t  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n\t\t    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n\t\t  });\n\t\t\n\t\t  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n\t\t    chain.push(interceptor.fulfilled, interceptor.rejected);\n\t\t  });\n\t\t\n\t\t  while (chain.length) {\n\t\t    promise = promise.then(chain.shift(), chain.shift());\n\t\t  }\n\t\t\n\t\t  return promise;\n\t\t};\n\t\t\n\t\tvar defaultInstance = new Axios(defaults);\n\t\tvar axios = module.exports = bind(Axios.prototype.request, defaultInstance);\n\t\taxios.request = bind(Axios.prototype.request, defaultInstance);\n\t\t\n\t\t// Expose Axios class to allow class inheritance\n\t\taxios.Axios = Axios;\n\t\t\n\t\t// Expose properties from defaultInstance\n\t\taxios.defaults = defaultInstance.defaults;\n\t\taxios.interceptors = defaultInstance.interceptors;\n\t\t\n\t\t// Factory for creating new instances\n\t\taxios.create = function create(defaultConfig) {\n\t\t  return new Axios(defaultConfig);\n\t\t};\n\t\t\n\t\t// Expose all/spread\n\t\taxios.all = function all(promises) {\n\t\t  return Promise.all(promises);\n\t\t};\n\t\taxios.spread = __webpack_require__(20);\n\t\t\n\t\t// Provide aliases for supported request methods\n\t\tutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n\t\t  /*eslint func-names:0*/\n\t\t  Axios.prototype[method] = function(url, config) {\n\t\t    return this.request(utils.merge(config || {}, {\n\t\t      method: method,\n\t\t      url: url\n\t\t    }));\n\t\t  };\n\t\t  axios[method] = bind(Axios.prototype[method], defaultInstance);\n\t\t});\n\t\t\n\t\tutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n\t\t  /*eslint func-names:0*/\n\t\t  Axios.prototype[method] = function(url, data, config) {\n\t\t    return this.request(utils.merge(config || {}, {\n\t\t      method: method,\n\t\t      url: url,\n\t\t      data: data\n\t\t    }));\n\t\t  };\n\t\t  axios[method] = bind(Axios.prototype[method], defaultInstance);\n\t\t});\n\t\n\t\n\t/***/ },\n\t/* 7 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tfunction InterceptorManager() {\n\t\t  this.handlers = [];\n\t\t}\n\t\t\n\t\t/**\n\t\t * Add a new interceptor to the stack\n\t\t *\n\t\t * @param {Function} fulfilled The function to handle `then` for a `Promise`\n\t\t * @param {Function} rejected The function to handle `reject` for a `Promise`\n\t\t *\n\t\t * @return {Number} An ID used to remove interceptor later\n\t\t */\n\t\tInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n\t\t  this.handlers.push({\n\t\t    fulfilled: fulfilled,\n\t\t    rejected: rejected\n\t\t  });\n\t\t  return this.handlers.length - 1;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Remove an interceptor from the stack\n\t\t *\n\t\t * @param {Number} id The ID that was returned by `use`\n\t\t */\n\t\tInterceptorManager.prototype.eject = function eject(id) {\n\t\t  if (this.handlers[id]) {\n\t\t    this.handlers[id] = null;\n\t\t  }\n\t\t};\n\t\t\n\t\t/**\n\t\t * Iterate over all the registered interceptors\n\t\t *\n\t\t * This method is particularly useful for skipping over any\n\t\t * interceptors that may have become `null` calling `eject`.\n\t\t *\n\t\t * @param {Function} fn The function to call for each interceptor\n\t\t */\n\t\tInterceptorManager.prototype.forEach = function forEach(fn) {\n\t\t  utils.forEach(this.handlers, function forEachHandler(h) {\n\t\t    if (h !== null) {\n\t\t      fn(h);\n\t\t    }\n\t\t  });\n\t\t};\n\t\t\n\t\tmodule.exports = InterceptorManager;\n\t\n\t\n\t/***/ },\n\t/* 8 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\t\n\t\t/**\n\t\t * Dispatch a request to the server using whichever adapter\n\t\t * is supported by the current environment.\n\t\t *\n\t\t * @param {object} config The config that is to be used for the request\n\t\t * @returns {Promise} The Promise to be fulfilled\n\t\t */\n\t\tmodule.exports = function dispatchRequest(config) {\n\t\t  return new Promise(function executor(resolve, reject) {\n\t\t    try {\n\t\t      var adapter;\n\t\t\n\t\t      if (typeof config.adapter === 'function') {\n\t\t        // For custom adapter support\n\t\t        adapter = config.adapter;\n\t\t      } else if (typeof XMLHttpRequest !== 'undefined') {\n\t\t        // For browsers use XHR adapter\n\t\t        adapter = __webpack_require__(3);\n\t\t      } else if (typeof process !== 'undefined') {\n\t\t        // For node use HTTP adapter\n\t\t        adapter = __webpack_require__(3);\n\t\t      }\n\t\t\n\t\t      if (typeof adapter === 'function') {\n\t\t        adapter(resolve, reject, config);\n\t\t      }\n\t\t    } catch (e) {\n\t\t      reject(e);\n\t\t    }\n\t\t  });\n\t\t};\n\t\t\n\t\t\n\t\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\t\n\t/***/ },\n\t/* 9 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\tvar normalizeHeaderName = __webpack_require__(17);\n\t\t\n\t\tvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\n\t\tvar DEFAULT_CONTENT_TYPE = {\n\t\t  'Content-Type': 'application/x-www-form-urlencoded'\n\t\t};\n\t\t\n\t\tfunction setContentTypeIfUnset(headers, value) {\n\t\t  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n\t\t    headers['Content-Type'] = value;\n\t\t  }\n\t\t}\n\t\t\n\t\tmodule.exports = {\n\t\t  transformRequest: [function transformRequest(data, headers) {\n\t\t    normalizeHeaderName(headers, 'Content-Type');\n\t\t    if (utils.isFormData(data) ||\n\t\t      utils.isArrayBuffer(data) ||\n\t\t      utils.isStream(data) ||\n\t\t      utils.isFile(data) ||\n\t\t      utils.isBlob(data)\n\t\t    ) {\n\t\t      return data;\n\t\t    }\n\t\t    if (utils.isArrayBufferView(data)) {\n\t\t      return data.buffer;\n\t\t    }\n\t\t    if (utils.isURLSearchParams(data)) {\n\t\t      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n\t\t      return data.toString();\n\t\t    }\n\t\t    if (utils.isObject(data)) {\n\t\t      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n\t\t      return JSON.stringify(data);\n\t\t    }\n\t\t    return data;\n\t\t  }],\n\t\t\n\t\t  transformResponse: [function transformResponse(data) {\n\t\t    /*eslint no-param-reassign:0*/\n\t\t    if (typeof data === 'string') {\n\t\t      data = data.replace(PROTECTION_PREFIX, '');\n\t\t      try {\n\t\t        data = JSON.parse(data);\n\t\t      } catch (e) { /* Ignore */ }\n\t\t    }\n\t\t    return data;\n\t\t  }],\n\t\t\n\t\t  headers: {\n\t\t    common: {\n\t\t      'Accept': 'application/json, text/plain, */*'\n\t\t    },\n\t\t    patch: utils.merge(DEFAULT_CONTENT_TYPE),\n\t\t    post: utils.merge(DEFAULT_CONTENT_TYPE),\n\t\t    put: utils.merge(DEFAULT_CONTENT_TYPE)\n\t\t  },\n\t\t\n\t\t  timeout: 0,\n\t\t\n\t\t  xsrfCookieName: 'XSRF-TOKEN',\n\t\t  xsrfHeaderName: 'X-XSRF-TOKEN',\n\t\t\n\t\t  maxContentLength: -1,\n\t\t\n\t\t  validateStatus: function validateStatus(status) {\n\t\t    return status >= 200 && status < 300;\n\t\t  }\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 10 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\tmodule.exports = function bind(fn, thisArg) {\n\t\t  return function wrap() {\n\t\t    var args = new Array(arguments.length);\n\t\t    for (var i = 0; i < args.length; i++) {\n\t\t      args[i] = arguments[i];\n\t\t    }\n\t\t    return fn.apply(thisArg, args);\n\t\t  };\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 11 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\t\t\n\t\tvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\t\t\n\t\tfunction E() {\n\t\t  this.message = 'String contains an invalid character';\n\t\t}\n\t\tE.prototype = new Error;\n\t\tE.prototype.code = 5;\n\t\tE.prototype.name = 'InvalidCharacterError';\n\t\t\n\t\tfunction btoa(input) {\n\t\t  var str = String(input);\n\t\t  var output = '';\n\t\t  for (\n\t\t    // initialize result and counter\n\t\t    var block, charCode, idx = 0, map = chars;\n\t\t    // if the next str index does not exist:\n\t\t    //   change the mapping table to \"=\"\n\t\t    //   check if d has no fractional digits\n\t\t    str.charAt(idx | 0) || (map = '=', idx % 1);\n\t\t    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n\t\t    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n\t\t  ) {\n\t\t    charCode = str.charCodeAt(idx += 3 / 4);\n\t\t    if (charCode > 0xFF) {\n\t\t      throw new E();\n\t\t    }\n\t\t    block = block << 8 | charCode;\n\t\t  }\n\t\t  return output;\n\t\t}\n\t\t\n\t\tmodule.exports = btoa;\n\t\n\t\n\t/***/ },\n\t/* 12 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tfunction encode(val) {\n\t\t  return encodeURIComponent(val).\n\t\t    replace(/%40/gi, '@').\n\t\t    replace(/%3A/gi, ':').\n\t\t    replace(/%24/g, '$').\n\t\t    replace(/%2C/gi, ',').\n\t\t    replace(/%20/g, '+').\n\t\t    replace(/%5B/gi, '[').\n\t\t    replace(/%5D/gi, ']');\n\t\t}\n\t\t\n\t\t/**\n\t\t * Build a URL by appending params to the end\n\t\t *\n\t\t * @param {string} url The base of the url (e.g., http://www.google.com)\n\t\t * @param {object} [params] The params to be appended\n\t\t * @returns {string} The formatted url\n\t\t */\n\t\tmodule.exports = function buildURL(url, params, paramsSerializer) {\n\t\t  /*eslint no-param-reassign:0*/\n\t\t  if (!params) {\n\t\t    return url;\n\t\t  }\n\t\t\n\t\t  var serializedParams;\n\t\t  if (paramsSerializer) {\n\t\t    serializedParams = paramsSerializer(params);\n\t\t  } else if (utils.isURLSearchParams(params)) {\n\t\t    serializedParams = params.toString();\n\t\t  } else {\n\t\t    var parts = [];\n\t\t\n\t\t    utils.forEach(params, function serialize(val, key) {\n\t\t      if (val === null || typeof val === 'undefined') {\n\t\t        return;\n\t\t      }\n\t\t\n\t\t      if (utils.isArray(val)) {\n\t\t        key = key + '[]';\n\t\t      }\n\t\t\n\t\t      if (!utils.isArray(val)) {\n\t\t        val = [val];\n\t\t      }\n\t\t\n\t\t      utils.forEach(val, function parseValue(v) {\n\t\t        if (utils.isDate(v)) {\n\t\t          v = v.toISOString();\n\t\t        } else if (utils.isObject(v)) {\n\t\t          v = JSON.stringify(v);\n\t\t        }\n\t\t        parts.push(encode(key) + '=' + encode(v));\n\t\t      });\n\t\t    });\n\t\t\n\t\t    serializedParams = parts.join('&');\n\t\t  }\n\t\t\n\t\t  if (serializedParams) {\n\t\t    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n\t\t  }\n\t\t\n\t\t  return url;\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 13 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/**\n\t\t * Creates a new URL by combining the specified URLs\n\t\t *\n\t\t * @param {string} baseURL The base URL\n\t\t * @param {string} relativeURL The relative URL\n\t\t * @returns {string} The combined URL\n\t\t */\n\t\tmodule.exports = function combineURLs(baseURL, relativeURL) {\n\t\t  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 14 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tmodule.exports = (\n\t\t  utils.isStandardBrowserEnv() ?\n\t\t\n\t\t  // Standard browser envs support document.cookie\n\t\t  (function standardBrowserEnv() {\n\t\t    return {\n\t\t      write: function write(name, value, expires, path, domain, secure) {\n\t\t        var cookie = [];\n\t\t        cookie.push(name + '=' + encodeURIComponent(value));\n\t\t\n\t\t        if (utils.isNumber(expires)) {\n\t\t          cookie.push('expires=' + new Date(expires).toGMTString());\n\t\t        }\n\t\t\n\t\t        if (utils.isString(path)) {\n\t\t          cookie.push('path=' + path);\n\t\t        }\n\t\t\n\t\t        if (utils.isString(domain)) {\n\t\t          cookie.push('domain=' + domain);\n\t\t        }\n\t\t\n\t\t        if (secure === true) {\n\t\t          cookie.push('secure');\n\t\t        }\n\t\t\n\t\t        document.cookie = cookie.join('; ');\n\t\t      },\n\t\t\n\t\t      read: function read(name) {\n\t\t        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n\t\t        return (match ? decodeURIComponent(match[3]) : null);\n\t\t      },\n\t\t\n\t\t      remove: function remove(name) {\n\t\t        this.write(name, '', Date.now() - 86400000);\n\t\t      }\n\t\t    };\n\t\t  })() :\n\t\t\n\t\t  // Non standard browser env (web workers, react-native) lack needed support.\n\t\t  (function nonStandardBrowserEnv() {\n\t\t    return {\n\t\t      write: function write() {},\n\t\t      read: function read() { return null; },\n\t\t      remove: function remove() {}\n\t\t    };\n\t\t  })()\n\t\t);\n\t\n\t\n\t/***/ },\n\t/* 15 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/**\n\t\t * Determines whether the specified URL is absolute\n\t\t *\n\t\t * @param {string} url The URL to test\n\t\t * @returns {boolean} True if the specified URL is absolute, otherwise false\n\t\t */\n\t\tmodule.exports = function isAbsoluteURL(url) {\n\t\t  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n\t\t  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n\t\t  // by any combination of letters, digits, plus, period, or hyphen.\n\t\t  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 16 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tmodule.exports = (\n\t\t  utils.isStandardBrowserEnv() ?\n\t\t\n\t\t  // Standard browser envs have full support of the APIs needed to test\n\t\t  // whether the request URL is of the same origin as current location.\n\t\t  (function standardBrowserEnv() {\n\t\t    var msie = /(msie|trident)/i.test(navigator.userAgent);\n\t\t    var urlParsingNode = document.createElement('a');\n\t\t    var originURL;\n\t\t\n\t\t    /**\n\t\t    * Parse a URL to discover it's components\n\t\t    *\n\t\t    * @param {String} url The URL to be parsed\n\t\t    * @returns {Object}\n\t\t    */\n\t\t    function resolveURL(url) {\n\t\t      var href = url;\n\t\t\n\t\t      if (msie) {\n\t\t        // IE needs attribute set twice to normalize properties\n\t\t        urlParsingNode.setAttribute('href', href);\n\t\t        href = urlParsingNode.href;\n\t\t      }\n\t\t\n\t\t      urlParsingNode.setAttribute('href', href);\n\t\t\n\t\t      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n\t\t      return {\n\t\t        href: urlParsingNode.href,\n\t\t        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n\t\t        host: urlParsingNode.host,\n\t\t        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n\t\t        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n\t\t        hostname: urlParsingNode.hostname,\n\t\t        port: urlParsingNode.port,\n\t\t        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n\t\t                  urlParsingNode.pathname :\n\t\t                  '/' + urlParsingNode.pathname\n\t\t      };\n\t\t    }\n\t\t\n\t\t    originURL = resolveURL(window.location.href);\n\t\t\n\t\t    /**\n\t\t    * Determine if a URL shares the same origin as the current location\n\t\t    *\n\t\t    * @param {String} requestURL The URL to test\n\t\t    * @returns {boolean} True if URL shares the same origin, otherwise false\n\t\t    */\n\t\t    return function isURLSameOrigin(requestURL) {\n\t\t      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n\t\t      return (parsed.protocol === originURL.protocol &&\n\t\t            parsed.host === originURL.host);\n\t\t    };\n\t\t  })() :\n\t\t\n\t\t  // Non standard browser envs (web workers, react-native) lack needed support.\n\t\t  (function nonStandardBrowserEnv() {\n\t\t    return function isURLSameOrigin() {\n\t\t      return true;\n\t\t    };\n\t\t  })()\n\t\t);\n\t\n\t\n\t/***/ },\n\t/* 17 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n\t\t  utils.forEach(headers, function processHeader(value, name) {\n\t\t    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n\t\t      headers[normalizedName] = value;\n\t\t      delete headers[name];\n\t\t    }\n\t\t  });\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 18 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\t/**\n\t\t * Parse headers into an object\n\t\t *\n\t\t * ```\n\t\t * Date: Wed, 27 Aug 2014 08:58:49 GMT\n\t\t * Content-Type: application/json\n\t\t * Connection: keep-alive\n\t\t * Transfer-Encoding: chunked\n\t\t * ```\n\t\t *\n\t\t * @param {String} headers Headers needing to be parsed\n\t\t * @returns {Object} Headers parsed into an object\n\t\t */\n\t\tmodule.exports = function parseHeaders(headers) {\n\t\t  var parsed = {};\n\t\t  var key;\n\t\t  var val;\n\t\t  var i;\n\t\t\n\t\t  if (!headers) { return parsed; }\n\t\t\n\t\t  utils.forEach(headers.split('\\n'), function parser(line) {\n\t\t    i = line.indexOf(':');\n\t\t    key = utils.trim(line.substr(0, i)).toLowerCase();\n\t\t    val = utils.trim(line.substr(i + 1));\n\t\t\n\t\t    if (key) {\n\t\t      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n\t\t    }\n\t\t  });\n\t\t\n\t\t  return parsed;\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 19 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/**\n\t\t * Resolve or reject a Promise based on response status.\n\t\t *\n\t\t * @param {Function} resolve A function that resolves the promise.\n\t\t * @param {Function} reject A function that rejects the promise.\n\t\t * @param {object} response The response.\n\t\t */\n\t\tmodule.exports = function settle(resolve, reject, response) {\n\t\t  var validateStatus = response.config.validateStatus;\n\t\t  // Note: status is not exposed by XDomainRequest\n\t\t  if (!response.status || !validateStatus || validateStatus(response.status)) {\n\t\t    resolve(response);\n\t\t  } else {\n\t\t    reject(response);\n\t\t  }\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 20 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/**\n\t\t * Syntactic sugar for invoking a function and expanding an array for arguments.\n\t\t *\n\t\t * Common use case would be to use `Function.prototype.apply`.\n\t\t *\n\t\t *  ```js\n\t\t *  function f(x, y, z) {}\n\t\t *  var args = [1, 2, 3];\n\t\t *  f.apply(null, args);\n\t\t *  ```\n\t\t *\n\t\t * With `spread` this example can be re-written.\n\t\t *\n\t\t *  ```js\n\t\t *  spread(function(x, y, z) {})([1, 2, 3]);\n\t\t *  ```\n\t\t *\n\t\t * @param {Function} callback\n\t\t * @returns {Function}\n\t\t */\n\t\tmodule.exports = function spread(callback) {\n\t\t  return function wrap(arr) {\n\t\t    return callback.apply(null, arr);\n\t\t  };\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 21 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar require;var __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(process, global, module) {/*!\n\t\t * @overview es6-promise - a tiny implementation of Promises/A+.\n\t\t * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n\t\t * @license   Licensed under MIT license\n\t\t *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n\t\t * @version   3.2.1\n\t\t */\n\t\t\n\t\t(function() {\n\t\t    \"use strict\";\n\t\t    function lib$es6$promise$utils$$objectOrFunction(x) {\n\t\t      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$utils$$isFunction(x) {\n\t\t      return typeof x === 'function';\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$utils$$isMaybeThenable(x) {\n\t\t      return typeof x === 'object' && x !== null;\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$utils$$_isArray;\n\t\t    if (!Array.isArray) {\n\t\t      lib$es6$promise$utils$$_isArray = function (x) {\n\t\t        return Object.prototype.toString.call(x) === '[object Array]';\n\t\t      };\n\t\t    } else {\n\t\t      lib$es6$promise$utils$$_isArray = Array.isArray;\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n\t\t    var lib$es6$promise$asap$$len = 0;\n\t\t    var lib$es6$promise$asap$$vertxNext;\n\t\t    var lib$es6$promise$asap$$customSchedulerFn;\n\t\t\n\t\t    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n\t\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n\t\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n\t\t      lib$es6$promise$asap$$len += 2;\n\t\t      if (lib$es6$promise$asap$$len === 2) {\n\t\t        // If len is 2, that means that we need to schedule an async flush.\n\t\t        // If additional callbacks are queued before the queue is flushed, they\n\t\t        // will be processed by this flush that we are scheduling.\n\t\t        if (lib$es6$promise$asap$$customSchedulerFn) {\n\t\t          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n\t\t        } else {\n\t\t          lib$es6$promise$asap$$scheduleFlush();\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n\t\t      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$setAsap(asapFn) {\n\t\t      lib$es6$promise$asap$$asap = asapFn;\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n\t\t    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n\t\t    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n\t\t    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\t\t\n\t\t    // test for web worker but not in IE10\n\t\t    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n\t\t      typeof importScripts !== 'undefined' &&\n\t\t      typeof MessageChannel !== 'undefined';\n\t\t\n\t\t    // node\n\t\t    function lib$es6$promise$asap$$useNextTick() {\n\t\t      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n\t\t      // see https://github.com/cujojs/when/issues/410 for details\n\t\t      return function() {\n\t\t        process.nextTick(lib$es6$promise$asap$$flush);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    // vertx\n\t\t    function lib$es6$promise$asap$$useVertxTimer() {\n\t\t      return function() {\n\t\t        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$useMutationObserver() {\n\t\t      var iterations = 0;\n\t\t      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n\t\t      var node = document.createTextNode('');\n\t\t      observer.observe(node, { characterData: true });\n\t\t\n\t\t      return function() {\n\t\t        node.data = (iterations = ++iterations % 2);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    // web worker\n\t\t    function lib$es6$promise$asap$$useMessageChannel() {\n\t\t      var channel = new MessageChannel();\n\t\t      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n\t\t      return function () {\n\t\t        channel.port2.postMessage(0);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$useSetTimeout() {\n\t\t      return function() {\n\t\t        setTimeout(lib$es6$promise$asap$$flush, 1);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$asap$$queue = new Array(1000);\n\t\t    function lib$es6$promise$asap$$flush() {\n\t\t      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n\t\t        var callback = lib$es6$promise$asap$$queue[i];\n\t\t        var arg = lib$es6$promise$asap$$queue[i+1];\n\t\t\n\t\t        callback(arg);\n\t\t\n\t\t        lib$es6$promise$asap$$queue[i] = undefined;\n\t\t        lib$es6$promise$asap$$queue[i+1] = undefined;\n\t\t      }\n\t\t\n\t\t      lib$es6$promise$asap$$len = 0;\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$attemptVertx() {\n\t\t      try {\n\t\t        var r = require;\n\t\t        var vertx = __webpack_require__(27);\n\t\t        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n\t\t        return lib$es6$promise$asap$$useVertxTimer();\n\t\t      } catch(e) {\n\t\t        return lib$es6$promise$asap$$useSetTimeout();\n\t\t      }\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$asap$$scheduleFlush;\n\t\t    // Decide what async method to use to triggering processing of queued callbacks:\n\t\t    if (lib$es6$promise$asap$$isNode) {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n\t\t    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n\t\t    } else if (lib$es6$promise$asap$$isWorker) {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n\t\t    } else if (lib$es6$promise$asap$$browserWindow === undefined && \"function\" === 'function') {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n\t\t    } else {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n\t\t    }\n\t\t    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n\t\t      var parent = this;\n\t\t\n\t\t      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\t\t\n\t\t      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n\t\t        lib$es6$promise$$internal$$makePromise(child);\n\t\t      }\n\t\t\n\t\t      var state = parent._state;\n\t\t\n\t\t      if (state) {\n\t\t        var callback = arguments[state - 1];\n\t\t        lib$es6$promise$asap$$asap(function(){\n\t\t          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n\t\t        });\n\t\t      } else {\n\t\t        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n\t\t      }\n\t\t\n\t\t      return child;\n\t\t    }\n\t\t    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n\t\t    function lib$es6$promise$promise$resolve$$resolve(object) {\n\t\t      /*jshint validthis:true */\n\t\t      var Constructor = this;\n\t\t\n\t\t      if (object && typeof object === 'object' && object.constructor === Constructor) {\n\t\t        return object;\n\t\t      }\n\t\t\n\t\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\t      lib$es6$promise$$internal$$resolve(promise, object);\n\t\t      return promise;\n\t\t    }\n\t\t    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n\t\t    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\t\t\n\t\t    function lib$es6$promise$$internal$$noop() {}\n\t\t\n\t\t    var lib$es6$promise$$internal$$PENDING   = void 0;\n\t\t    var lib$es6$promise$$internal$$FULFILLED = 1;\n\t\t    var lib$es6$promise$$internal$$REJECTED  = 2;\n\t\t\n\t\t    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\t\n\t\t    function lib$es6$promise$$internal$$selfFulfillment() {\n\t\t      return new TypeError(\"You cannot resolve a promise with itself\");\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$cannotReturnOwn() {\n\t\t      return new TypeError('A promises callback cannot return that same promise.');\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$getThen(promise) {\n\t\t      try {\n\t\t        return promise.then;\n\t\t      } catch(error) {\n\t\t        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n\t\t        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n\t\t      try {\n\t\t        then.call(value, fulfillmentHandler, rejectionHandler);\n\t\t      } catch(e) {\n\t\t        return e;\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n\t\t       lib$es6$promise$asap$$asap(function(promise) {\n\t\t        var sealed = false;\n\t\t        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n\t\t          if (sealed) { return; }\n\t\t          sealed = true;\n\t\t          if (thenable !== value) {\n\t\t            lib$es6$promise$$internal$$resolve(promise, value);\n\t\t          } else {\n\t\t            lib$es6$promise$$internal$$fulfill(promise, value);\n\t\t          }\n\t\t        }, function(reason) {\n\t\t          if (sealed) { return; }\n\t\t          sealed = true;\n\t\t\n\t\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t\t        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\t\t\n\t\t        if (!sealed && error) {\n\t\t          sealed = true;\n\t\t          lib$es6$promise$$internal$$reject(promise, error);\n\t\t        }\n\t\t      }, promise);\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n\t\t      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n\t\t        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n\t\t      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n\t\t        lib$es6$promise$$internal$$reject(promise, thenable._result);\n\t\t      } else {\n\t\t        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n\t\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t\t        }, function(reason) {\n\t\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t\t        });\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n\t\t      if (maybeThenable.constructor === promise.constructor &&\n\t\t          then === lib$es6$promise$then$$default &&\n\t\t          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n\t\t        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n\t\t      } else {\n\t\t        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n\t\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n\t\t        } else if (then === undefined) {\n\t\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t\t        } else if (lib$es6$promise$utils$$isFunction(then)) {\n\t\t          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n\t\t        } else {\n\t\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$resolve(promise, value) {\n\t\t      if (promise === value) {\n\t\t        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n\t\t      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n\t\t        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n\t\t      } else {\n\t\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$publishRejection(promise) {\n\t\t      if (promise._onerror) {\n\t\t        promise._onerror(promise._result);\n\t\t      }\n\t\t\n\t\t      lib$es6$promise$$internal$$publish(promise);\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$fulfill(promise, value) {\n\t\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t\t\n\t\t      promise._result = value;\n\t\t      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\t\t\n\t\t      if (promise._subscribers.length !== 0) {\n\t\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$reject(promise, reason) {\n\t\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t\t      promise._state = lib$es6$promise$$internal$$REJECTED;\n\t\t      promise._result = reason;\n\t\t\n\t\t      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n\t\t      var subscribers = parent._subscribers;\n\t\t      var length = subscribers.length;\n\t\t\n\t\t      parent._onerror = null;\n\t\t\n\t\t      subscribers[length] = child;\n\t\t      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n\t\t      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\t\t\n\t\t      if (length === 0 && parent._state) {\n\t\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$publish(promise) {\n\t\t      var subscribers = promise._subscribers;\n\t\t      var settled = promise._state;\n\t\t\n\t\t      if (subscribers.length === 0) { return; }\n\t\t\n\t\t      var child, callback, detail = promise._result;\n\t\t\n\t\t      for (var i = 0; i < subscribers.length; i += 3) {\n\t\t        child = subscribers[i];\n\t\t        callback = subscribers[i + settled];\n\t\t\n\t\t        if (child) {\n\t\t          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n\t\t        } else {\n\t\t          callback(detail);\n\t\t        }\n\t\t      }\n\t\t\n\t\t      promise._subscribers.length = 0;\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$ErrorObject() {\n\t\t      this.error = null;\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\t\n\t\t    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n\t\t      try {\n\t\t        return callback(detail);\n\t\t      } catch(e) {\n\t\t        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n\t\t        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n\t\t      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n\t\t          value, error, succeeded, failed;\n\t\t\n\t\t      if (hasCallback) {\n\t\t        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\t\t\n\t\t        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n\t\t          failed = true;\n\t\t          error = value.error;\n\t\t          value = null;\n\t\t        } else {\n\t\t          succeeded = true;\n\t\t        }\n\t\t\n\t\t        if (promise === value) {\n\t\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n\t\t          return;\n\t\t        }\n\t\t\n\t\t      } else {\n\t\t        value = detail;\n\t\t        succeeded = true;\n\t\t      }\n\t\t\n\t\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n\t\t        // noop\n\t\t      } else if (hasCallback && succeeded) {\n\t\t        lib$es6$promise$$internal$$resolve(promise, value);\n\t\t      } else if (failed) {\n\t\t        lib$es6$promise$$internal$$reject(promise, error);\n\t\t      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n\t\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t\t      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n\t\t        lib$es6$promise$$internal$$reject(promise, value);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n\t\t      try {\n\t\t        resolver(function resolvePromise(value){\n\t\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t\t        }, function rejectPromise(reason) {\n\t\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t\t        });\n\t\t      } catch(e) {\n\t\t        lib$es6$promise$$internal$$reject(promise, e);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$$internal$$id = 0;\n\t\t    function lib$es6$promise$$internal$$nextId() {\n\t\t      return lib$es6$promise$$internal$$id++;\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$makePromise(promise) {\n\t\t      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n\t\t      promise._state = undefined;\n\t\t      promise._result = undefined;\n\t\t      promise._subscribers = [];\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$promise$all$$all(entries) {\n\t\t      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n\t\t    }\n\t\t    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n\t\t    function lib$es6$promise$promise$race$$race(entries) {\n\t\t      /*jshint validthis:true */\n\t\t      var Constructor = this;\n\t\t\n\t\t      if (!lib$es6$promise$utils$$isArray(entries)) {\n\t\t        return new Constructor(function(resolve, reject) {\n\t\t          reject(new TypeError('You must pass an array to race.'));\n\t\t        });\n\t\t      } else {\n\t\t        return new Constructor(function(resolve, reject) {\n\t\t          var length = entries.length;\n\t\t          for (var i = 0; i < length; i++) {\n\t\t            Constructor.resolve(entries[i]).then(resolve, reject);\n\t\t          }\n\t\t        });\n\t\t      }\n\t\t    }\n\t\t    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n\t\t    function lib$es6$promise$promise$reject$$reject(reason) {\n\t\t      /*jshint validthis:true */\n\t\t      var Constructor = this;\n\t\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\t      lib$es6$promise$$internal$$reject(promise, reason);\n\t\t      return promise;\n\t\t    }\n\t\t    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\t\t\n\t\t\n\t\t    function lib$es6$promise$promise$$needsResolver() {\n\t\t      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$promise$$needsNew() {\n\t\t      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n\t\t    /**\n\t\t      Promise objects represent the eventual result of an asynchronous operation. The\n\t\t      primary way of interacting with a promise is through its `then` method, which\n\t\t      registers callbacks to receive either a promise's eventual value or the reason\n\t\t      why the promise cannot be fulfilled.\n\t\t\n\t\t      Terminology\n\t\t      -----------\n\t\t\n\t\t      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n\t\t      - `thenable` is an object or function that defines a `then` method.\n\t\t      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n\t\t      - `exception` is a value that is thrown using the throw statement.\n\t\t      - `reason` is a value that indicates why a promise was rejected.\n\t\t      - `settled` the final resting state of a promise, fulfilled or rejected.\n\t\t\n\t\t      A promise can be in one of three states: pending, fulfilled, or rejected.\n\t\t\n\t\t      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n\t\t      state.  Promises that are rejected have a rejection reason and are in the\n\t\t      rejected state.  A fulfillment value is never a thenable.\n\t\t\n\t\t      Promises can also be said to *resolve* a value.  If this value is also a\n\t\t      promise, then the original promise's settled state will match the value's\n\t\t      settled state.  So a promise that *resolves* a promise that rejects will\n\t\t      itself reject, and a promise that *resolves* a promise that fulfills will\n\t\t      itself fulfill.\n\t\t\n\t\t\n\t\t      Basic Usage:\n\t\t      ------------\n\t\t\n\t\t      ```js\n\t\t      var promise = new Promise(function(resolve, reject) {\n\t\t        // on success\n\t\t        resolve(value);\n\t\t\n\t\t        // on failure\n\t\t        reject(reason);\n\t\t      });\n\t\t\n\t\t      promise.then(function(value) {\n\t\t        // on fulfillment\n\t\t      }, function(reason) {\n\t\t        // on rejection\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Advanced Usage:\n\t\t      ---------------\n\t\t\n\t\t      Promises shine when abstracting away asynchronous interactions such as\n\t\t      `XMLHttpRequest`s.\n\t\t\n\t\t      ```js\n\t\t      function getJSON(url) {\n\t\t        return new Promise(function(resolve, reject){\n\t\t          var xhr = new XMLHttpRequest();\n\t\t\n\t\t          xhr.open('GET', url);\n\t\t          xhr.onreadystatechange = handler;\n\t\t          xhr.responseType = 'json';\n\t\t          xhr.setRequestHeader('Accept', 'application/json');\n\t\t          xhr.send();\n\t\t\n\t\t          function handler() {\n\t\t            if (this.readyState === this.DONE) {\n\t\t              if (this.status === 200) {\n\t\t                resolve(this.response);\n\t\t              } else {\n\t\t                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n\t\t              }\n\t\t            }\n\t\t          };\n\t\t        });\n\t\t      }\n\t\t\n\t\t      getJSON('/posts.json').then(function(json) {\n\t\t        // on fulfillment\n\t\t      }, function(reason) {\n\t\t        // on rejection\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Unlike callbacks, promises are great composable primitives.\n\t\t\n\t\t      ```js\n\t\t      Promise.all([\n\t\t        getJSON('/posts'),\n\t\t        getJSON('/comments')\n\t\t      ]).then(function(values){\n\t\t        values[0] // => postsJSON\n\t\t        values[1] // => commentsJSON\n\t\t\n\t\t        return values;\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      @class Promise\n\t\t      @param {function} resolver\n\t\t      Useful for tooling.\n\t\t      @constructor\n\t\t    */\n\t\t    function lib$es6$promise$promise$$Promise(resolver) {\n\t\t      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n\t\t      this._result = this._state = undefined;\n\t\t      this._subscribers = [];\n\t\t\n\t\t      if (lib$es6$promise$$internal$$noop !== resolver) {\n\t\t        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n\t\t        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n\t\t      }\n\t\t    }\n\t\t\n\t\t    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n\t\t    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n\t\t    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n\t\t    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n\t\t    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n\t\t    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n\t\t    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\t\t\n\t\t    lib$es6$promise$promise$$Promise.prototype = {\n\t\t      constructor: lib$es6$promise$promise$$Promise,\n\t\t\n\t\t    /**\n\t\t      The primary way of interacting with a promise is through its `then` method,\n\t\t      which registers callbacks to receive either a promise's eventual value or the\n\t\t      reason why the promise cannot be fulfilled.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function(user){\n\t\t        // user is available\n\t\t      }, function(reason){\n\t\t        // user is unavailable, and you are given the reason why\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Chaining\n\t\t      --------\n\t\t\n\t\t      The return value of `then` is itself a promise.  This second, 'downstream'\n\t\t      promise is resolved with the return value of the first promise's fulfillment\n\t\t      or rejection handler, or rejected if the handler throws an exception.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function (user) {\n\t\t        return user.name;\n\t\t      }, function (reason) {\n\t\t        return 'default name';\n\t\t      }).then(function (userName) {\n\t\t        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n\t\t        // will be `'default name'`\n\t\t      });\n\t\t\n\t\t      findUser().then(function (user) {\n\t\t        throw new Error('Found user, but still unhappy');\n\t\t      }, function (reason) {\n\t\t        throw new Error('`findUser` rejected and we're unhappy');\n\t\t      }).then(function (value) {\n\t\t        // never reached\n\t\t      }, function (reason) {\n\t\t        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n\t\t        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n\t\t      });\n\t\t      ```\n\t\t      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function (user) {\n\t\t        throw new PedagogicalException('Upstream error');\n\t\t      }).then(function (value) {\n\t\t        // never reached\n\t\t      }).then(function (value) {\n\t\t        // never reached\n\t\t      }, function (reason) {\n\t\t        // The `PedgagocialException` is propagated all the way down to here\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Assimilation\n\t\t      ------------\n\t\t\n\t\t      Sometimes the value you want to propagate to a downstream promise can only be\n\t\t      retrieved asynchronously. This can be achieved by returning a promise in the\n\t\t      fulfillment or rejection handler. The downstream promise will then be pending\n\t\t      until the returned promise is settled. This is called *assimilation*.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function (user) {\n\t\t        return findCommentsByAuthor(user);\n\t\t      }).then(function (comments) {\n\t\t        // The user's comments are now available\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      If the assimliated promise rejects, then the downstream promise will also reject.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function (user) {\n\t\t        return findCommentsByAuthor(user);\n\t\t      }).then(function (comments) {\n\t\t        // If `findCommentsByAuthor` fulfills, we'll have the value here\n\t\t      }, function (reason) {\n\t\t        // If `findCommentsByAuthor` rejects, we'll have the reason here\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Simple Example\n\t\t      --------------\n\t\t\n\t\t      Synchronous Example\n\t\t\n\t\t      ```javascript\n\t\t      var result;\n\t\t\n\t\t      try {\n\t\t        result = findResult();\n\t\t        // success\n\t\t      } catch(reason) {\n\t\t        // failure\n\t\t      }\n\t\t      ```\n\t\t\n\t\t      Errback Example\n\t\t\n\t\t      ```js\n\t\t      findResult(function(result, err){\n\t\t        if (err) {\n\t\t          // failure\n\t\t        } else {\n\t\t          // success\n\t\t        }\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Promise Example;\n\t\t\n\t\t      ```javascript\n\t\t      findResult().then(function(result){\n\t\t        // success\n\t\t      }, function(reason){\n\t\t        // failure\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Advanced Example\n\t\t      --------------\n\t\t\n\t\t      Synchronous Example\n\t\t\n\t\t      ```javascript\n\t\t      var author, books;\n\t\t\n\t\t      try {\n\t\t        author = findAuthor();\n\t\t        books  = findBooksByAuthor(author);\n\t\t        // success\n\t\t      } catch(reason) {\n\t\t        // failure\n\t\t      }\n\t\t      ```\n\t\t\n\t\t      Errback Example\n\t\t\n\t\t      ```js\n\t\t\n\t\t      function foundBooks(books) {\n\t\t\n\t\t      }\n\t\t\n\t\t      function failure(reason) {\n\t\t\n\t\t      }\n\t\t\n\t\t      findAuthor(function(author, err){\n\t\t        if (err) {\n\t\t          failure(err);\n\t\t          // failure\n\t\t        } else {\n\t\t          try {\n\t\t            findBoooksByAuthor(author, function(books, err) {\n\t\t              if (err) {\n\t\t                failure(err);\n\t\t              } else {\n\t\t                try {\n\t\t                  foundBooks(books);\n\t\t                } catch(reason) {\n\t\t                  failure(reason);\n\t\t                }\n\t\t              }\n\t\t            });\n\t\t          } catch(error) {\n\t\t            failure(err);\n\t\t          }\n\t\t          // success\n\t\t        }\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Promise Example;\n\t\t\n\t\t      ```javascript\n\t\t      findAuthor().\n\t\t        then(findBooksByAuthor).\n\t\t        then(function(books){\n\t\t          // found books\n\t\t      }).catch(function(reason){\n\t\t        // something went wrong\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      @method then\n\t\t      @param {Function} onFulfilled\n\t\t      @param {Function} onRejected\n\t\t      Useful for tooling.\n\t\t      @return {Promise}\n\t\t    */\n\t\t      then: lib$es6$promise$then$$default,\n\t\t\n\t\t    /**\n\t\t      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n\t\t      as the catch block of a try/catch statement.\n\t\t\n\t\t      ```js\n\t\t      function findAuthor(){\n\t\t        throw new Error('couldn't find that author');\n\t\t      }\n\t\t\n\t\t      // synchronous\n\t\t      try {\n\t\t        findAuthor();\n\t\t      } catch(reason) {\n\t\t        // something went wrong\n\t\t      }\n\t\t\n\t\t      // async with promises\n\t\t      findAuthor().catch(function(reason){\n\t\t        // something went wrong\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      @method catch\n\t\t      @param {Function} onRejection\n\t\t      Useful for tooling.\n\t\t      @return {Promise}\n\t\t    */\n\t\t      'catch': function(onRejection) {\n\t\t        return this.then(null, onRejection);\n\t\t      }\n\t\t    };\n\t\t    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\t\t    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n\t\t      this._instanceConstructor = Constructor;\n\t\t      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\t\n\t\t      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n\t\t        lib$es6$promise$$internal$$makePromise(this.promise);\n\t\t      }\n\t\t\n\t\t      if (lib$es6$promise$utils$$isArray(input)) {\n\t\t        this._input     = input;\n\t\t        this.length     = input.length;\n\t\t        this._remaining = input.length;\n\t\t\n\t\t        this._result = new Array(this.length);\n\t\t\n\t\t        if (this.length === 0) {\n\t\t          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n\t\t        } else {\n\t\t          this.length = this.length || 0;\n\t\t          this._enumerate();\n\t\t          if (this._remaining === 0) {\n\t\t            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n\t\t          }\n\t\t        }\n\t\t      } else {\n\t\t        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$enumerator$$validationError() {\n\t\t      return new Error('Array Methods must be provided an Array');\n\t\t    }\n\t\t\n\t\t    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n\t\t      var length  = this.length;\n\t\t      var input   = this._input;\n\t\t\n\t\t      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n\t\t        this._eachEntry(input[i], i);\n\t\t      }\n\t\t    };\n\t\t\n\t\t    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n\t\t      var c = this._instanceConstructor;\n\t\t      var resolve = c.resolve;\n\t\t\n\t\t      if (resolve === lib$es6$promise$promise$resolve$$default) {\n\t\t        var then = lib$es6$promise$$internal$$getThen(entry);\n\t\t\n\t\t        if (then === lib$es6$promise$then$$default &&\n\t\t            entry._state !== lib$es6$promise$$internal$$PENDING) {\n\t\t          this._settledAt(entry._state, i, entry._result);\n\t\t        } else if (typeof then !== 'function') {\n\t\t          this._remaining--;\n\t\t          this._result[i] = entry;\n\t\t        } else if (c === lib$es6$promise$promise$$default) {\n\t\t          var promise = new c(lib$es6$promise$$internal$$noop);\n\t\t          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n\t\t          this._willSettleAt(promise, i);\n\t\t        } else {\n\t\t          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n\t\t        }\n\t\t      } else {\n\t\t        this._willSettleAt(resolve(entry), i);\n\t\t      }\n\t\t    };\n\t\t\n\t\t    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n\t\t      var promise = this.promise;\n\t\t\n\t\t      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n\t\t        this._remaining--;\n\t\t\n\t\t        if (state === lib$es6$promise$$internal$$REJECTED) {\n\t\t          lib$es6$promise$$internal$$reject(promise, value);\n\t\t        } else {\n\t\t          this._result[i] = value;\n\t\t        }\n\t\t      }\n\t\t\n\t\t      if (this._remaining === 0) {\n\t\t        lib$es6$promise$$internal$$fulfill(promise, this._result);\n\t\t      }\n\t\t    };\n\t\t\n\t\t    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n\t\t      var enumerator = this;\n\t\t\n\t\t      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n\t\t        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n\t\t      }, function(reason) {\n\t\t        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n\t\t      });\n\t\t    };\n\t\t    function lib$es6$promise$polyfill$$polyfill() {\n\t\t      var local;\n\t\t\n\t\t      if (typeof global !== 'undefined') {\n\t\t          local = global;\n\t\t      } else if (typeof self !== 'undefined') {\n\t\t          local = self;\n\t\t      } else {\n\t\t          try {\n\t\t              local = Function('return this')();\n\t\t          } catch (e) {\n\t\t              throw new Error('polyfill failed because global object is unavailable in this environment');\n\t\t          }\n\t\t      }\n\t\t\n\t\t      var P = local.Promise;\n\t\t\n\t\t      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n\t\t        return;\n\t\t      }\n\t\t\n\t\t      local.Promise = lib$es6$promise$promise$$default;\n\t\t    }\n\t\t    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\t\t\n\t\t    var lib$es6$promise$umd$$ES6Promise = {\n\t\t      'Promise': lib$es6$promise$promise$$default,\n\t\t      'polyfill': lib$es6$promise$polyfill$$default\n\t\t    };\n\t\t\n\t\t    /* global define:true module:true window: true */\n\t\t    if (\"function\" === 'function' && __webpack_require__(25)['amd']) {\n\t\t      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return lib$es6$promise$umd$$ES6Promise; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t    } else if (typeof module !== 'undefined' && module['exports']) {\n\t\t      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n\t\t    } else if (typeof this !== 'undefined') {\n\t\t      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n\t\t    }\n\t\t\n\t\t    lib$es6$promise$polyfill$$default();\n\t\t}).call(this);\n\t\t\n\t\t\n\t\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), (function() { return this; }()), __webpack_require__(26)(module)))\n\t\n\t/***/ },\n\t/* 22 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t/**\r\n\t\t* (C) Copyright IBM Corp. 2016. All Rights Reserved.\r\n\t\t*\r\n\t\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\r\n\t\t* use this file except in compliance with the License. You may obtain a copy of\r\n\t\t* the License at\r\n\t\t*\r\n\t\t* http://www.apache.org/licenses/LICENSE-2.0\r\n\t\t*\r\n\t\t* Unless required by applicable law or agreed to in writing, software\r\n\t\t* distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n\t\t* WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n\t\t* License for the specific language governing permissions and limitations under\r\n\t\t* the License.\r\n\t\t*/\r\n\t\t\r\n\t\tif ( typeof Promise === 'undefined' ) __webpack_require__(21).polyfill();\r\n\t\t\r\n\t\tvar assign = __webpack_require__(24);\r\n\t\tvar axios = __webpack_require__(5);\r\n\t\tvar storage = __webpack_require__(23);\r\n\t\t\r\n\t\tvar options = {\r\n\t\t\tbaseURL: 'https://dev.api.ibm.com/virtualagent/development/api/v1/',\r\n\t\t\ttimeout: 30 * 1000,\r\n\t\t\tuserID: null,\r\n\t\t\twithCredentials: false,\r\n\t\t\tXIBMClientID: false,\r\n\t\t\tXIBMClientSecret: false\r\n\t\t};\r\n\t\t\r\n\t\tvar api = axios.create( options );\r\n\t\t\r\n\t\tvar profileDataRe = /\\|&(.*?)\\|/g;\r\n\t\tvar insertUserProfileData = function(msg) {\r\n\t\t\tvar flatten = (typeof msg === 'string') ? msg : JSON.stringify(msg);\r\n\t\t\tvar matches = (flatten.match(profileDataRe) || []);\r\n\t\t\tflatten = matches.reduce(function(result, prof) {\r\n\t\t\t\tconst name = prof.slice( 2, -1 );\r\n\t\t\t\tconst value = storage.get(name) || name;\r\n\t\t\t\treturn result.replace( prof, value );\r\n\t\t\t}, flatten);\r\n\t\t\treturn (typeof msg === 'string') ? flatten : JSON.parse(flatten);\r\n\t\t};\r\n\t\t\r\n\t\t/**\r\n\t\t * @namespace SDK\r\n\t\t */\r\n\t\t\r\n\t\tvar SDK = module.exports = {\r\n\t\t\t/**\r\n\t\t\t * Configure the Client SDK\r\n\t\t\t * @function configure\r\n\t\t\t * @memberof SDK\r\n\t\t\t * @param {Object} config\r\n\t\t\t * @param {string} config.baseURL=https://dev.api.ibm.com/virtualagent/development/api/v1/ - Optional: The URL the SDK should prepend to requests.\r\n\t\t\t * @param {int} config.timeout=30000 - Optional: How long requests should wait before they error.\r\n\t\t\t * @param {string} config.userID - Optional: A user identifier, transformed by a one-way hashing algorithm. Used by your Metrics Dashboard to track usage.\r\n\t\t\t * @param {string} config.userLatLon - Optional: lat,lon or user ( eg. 28.3852,-81.5639 ). Used by your Metrics Dashboard to track usage.\r\n\t\t\t * @param {string} config.withCredentials - Optional: indicates whether or not cross-site Access-Control requests should be made using credentials\r\n\t\t\t * @param {string} config.XIBMClientID - Optional: Your X-IBM-Client-Id. This should not be made public in a public environment. Including this will add X-IBM-Client-Id as a header to your request.\r\n\t\t\t * @param {string} config.XIBMClientSecret - Optional: Your X-IBM-Client-Secret. This should not be made public in a public environment. Including this will add X-IBM-Client-Secret as a header to your request.\r\n\t\t\t * @example\r\n\t\t\t * SDK.configure({\r\n\t\t\t *   baseURL: 'https://server.mysite.com',\r\n\t\t\t *   userID: 'poiuytrewq',\r\n\t\t\t *   userLatLon: '28.3852,-81.5639'\r\n\t\t\t * });\r\n\t\t\t * @returns {SDK} Returns: The SDK singleton\r\n\t\t\t */\r\n\t\t\tconfigure: function( config ) {\r\n\t\t\t\tassign( options, config );\r\n\t\t\t\tapi = axios.create({\r\n\t\t\t\t\tbaseURL: options.baseURL,\r\n\t\t\t\t\ttimeout: options.timeout,\r\n\t\t\t\t\twithCredentials: options.withCredentials,\r\n\t\t\t\t\theaders: (options.XIBMClientID && options.XIBMClientSecret) ? {\r\n\t\t\t\t\t\t'X-IBM-Client-Id': options.XIBMClientID,\r\n\t\t\t\t\t\t'X-IBM-Client-Secret': options.XIBMClientSecret\r\n\t\t\t\t\t} : {}\r\n\t\t\t\t});\r\n\t\t\t\treturn SDK;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Start a new chat session\r\n\t\t\t * @function start\r\n\t\t\t * @memberof SDK\r\n\t\t\t * @param {string} botID - Your botID.\r\n\t\t\t * @example\r\n\t\t\t * SDK.start(botID)\r\n\t\t\t *    .then(function(res) {\r\n\t\t\t *      console.log(res.chatID, res.message);\r\n\t\t\t *    })\r\n\t\t\t *    .catch(function(err) {\r\n\t\t\t *      console.error(err);\r\n\t\t\t *    });\r\n\t\t\t * @returns {Promise({ chatID: \"string\", message: \"string\" })} Returns: A Promise that resolves when the chat session is started.\r\n\t\t\t */\r\n\t\t\tstart: function( botID ) {\r\n\t\t\t\tvar requestID = uuid();\r\n\t\t\t\tvar data = { userID: options.userID, userLatLon: options.userLatLon };\r\n\t\t\t\tvar endpoint = '/bots/'+ botID +'/dialogs';\r\n\t\t\t\tvar config = { 'headers': { 'X-Request-ID': requestID } };\r\n\t\t\t\treturn api\r\n\t\t\t\t\t.post( endpoint, data, config )\r\n\t\t\t\t\t.then( function( res ) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tchatID: res.data.dialog_id,\r\n\t\t\t\t\t\t\tmessage: insertUserProfileData(res.data.message)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})['catch']( function( err ) {\r\n\t\t\t\t\t\tconsole.error('Request failed:', requestID );\r\n\t\t\t\t\t\tonError( err );\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Send a message to a chat session\r\n\t\t\t * @function send\r\n\t\t\t * @memberof SDK\r\n\t\t\t * @param {string} botID - Your botID\r\n\t\t\t * @param {string} chatID - Your chatID provided by SDK.start\r\n\t\t\t * @param {string} message - Your message\r\n\t\t\t * @param {Object} context - (optional) Context variables to pass to your [Custom Workspaces](https://www.ibm.com/watson/developercloud/doc/conversation/dialog-build.html#context-variables)\r\n\t\t\t * @example\r\n\t\t\t * SDK.send(botID, chatID, 'Hello!')\r\n\t\t\t *    .then(function(data) {\r\n\t\t\t *      console.log(data.message);\r\n\t\t\t *    })\r\n\t\t\t *    .catch(function(err) {\r\n\t\t\t *      console.error(err);\r\n\t\t\t *    });\r\n\t\t\t * @returns {Promise({ message: \"string\" })} Returns: A Promise that resolves when the bot responds.\r\n\t\t\t */\r\n\t\t\tsend: function( botID, chatID, message, context ) {\r\n\t\t\t\tvar requestID = uuid();\r\n\t\t\t\tvar data = { message: message, userID: options.userID, userLatLon: options.userLatLon, context: context };\r\n\t\t\t\tvar endpoint = '/bots/'+ botID +'/dialogs/'+ chatID +'/messages';\r\n\t\t\t\tvar config = { 'headers': { 'X-Request-ID': requestID } };\r\n\t\t\t\treturn api\r\n\t\t\t\t\t.post( endpoint, data, config )\r\n\t\t\t\t\t.then( function( res ) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tmessage: insertUserProfileData(res.data.message)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t})['catch']( function( err ) {\r\n\t\t\t\t\t\tconsole.error('Request failed:', requestID );\r\n\t\t\t\t\t\tonError( err );\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t* Iterate profile data into a given message object.\r\n\t\t\t* @memberof SDK\r\n\t\t\t* @function parse\r\n\t\t\t* @param {Any} message - A string or message object to insert profile data into.\r\n\t\t\t* @returns {Any} Returns: The message in original format with variables replaced.\r\n\t\t\t* @example\r\n\t\t\t* var message = \"You owe |&bill_amount|.\";\r\n\t\t\t* var parsed = SDK.parse(message);\r\n\t\t\t*/\r\n\t\t\tparse: insertUserProfileData,\r\n\t\t\t/**\r\n\t\t\t * @namespace profile\r\n\t\t\t * @memberof SDK\r\n\t\t\t */\r\n\t\t\tprofile: {\r\n\t\t\t\t/**\r\n\t\t\t\t* Get an item from the user profile based on key.\r\n\t\t\t\t* @memberof SDK.profile\r\n\t\t\t\t* @function get\r\n\t\t\t\t* @param {string} key - The named key of the value you are accessing.\r\n\t\t\t\t* @example\r\n\t\t\t\t* SDK.profile.get('first_name');\r\n\t\t\t\t* @returns {Any} Returns: the value of the key in the profile map.\r\n\t\t\t\t*/\r\n\t\t\t\tget: storage.get,\r\n\t\t\t\t/**\r\n\t\t\t\t* Set an item from the user profile based on key.\r\n\t\t\t\t* @memberof SDK.profile\r\n\t\t\t\t* @function set\r\n\t\t\t\t* @param {string} key - The named key of the value you are setting.\r\n\t\t\t\t* @param {string} value - The value you are setting.\r\n\t\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\r\n\t\t\t\t* @example\r\n\t\t\t\t* SDK.profile.set('first_name', 'john');\r\n\t\t\t\t*/\r\n\t\t\t\tset: storage.set,\r\n\t\t\t\t/**\r\n\t\t\t\t* See if an item from the user profile exists based on key.\r\n\t\t\t\t* @memberof SDK.profile\r\n\t\t\t\t* @function has\r\n\t\t\t\t* @param {string} key - The named key of the value you are checking the existance of.\r\n\t\t\t\t* @example\r\n\t\t\t\t* SDK.profile.has('first_name');\r\n\t\t\t\t* @returns {Boolean} Returns: Boolean indicating if the key exists.\r\n\t\t\t\t*/\r\n\t\t\t\thas: storage.has,\r\n\t\t\t\t/**\r\n\t\t\t\t* Clear the entire user profile.\r\n\t\t\t\t* @memberof SDK.profile\r\n\t\t\t\t* @function clear\r\n\t\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\r\n\t\t\t\t* @example\r\n\t\t\t\t* SDK.profile.clear();\r\n\t\t\t\t*/\r\n\t\t\t\tclear: storage.clear,\r\n\t\t\t\t/**\r\n\t\t\t\t* Delete an item from the user profile based on key.\r\n\t\t\t\t* @memberof SDK.profile\r\n\t\t\t\t* @function delete\r\n\t\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\r\n\t\t\t\t* @param {string} key - The named key of the value you are deleting.\r\n\t\t\t\t* @example\r\n\t\t\t\t* SDK.profile.delete('first_name');\r\n\t\t\t\t*/\r\n\t\t\t\tdelete: storage.delete,\r\n\t\t\t\t/**\r\n\t\t\t\t* Iterate over the profile.\r\n\t\t\t\t* @memberof SDK.profile\r\n\t\t\t\t* @function forEach\r\n\t\t\t\t* @param {function} callback - The function you are calling on each item in the profile object. This function is passed key as the first argument and value as the second argument.\r\n\t\t\t\t* @param {Object} this - (optional) The context you wish to call the callback in.\r\n\t\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\r\n\t\t\t\t* @example\r\n\t\t\t\t* SDK.profile.forEach(function(key, value) {\r\n\t\t\t\t*   console.log(key, value);\r\n\t\t\t\t* });\r\n\t\t\t\t*/\r\n\t\t\t\tforEach: storage.forEach\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tvar uuid = function( ) {\r\n\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n\t\t\t\tvar r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n\t\t\t\treturn v.toString(16);\r\n\t\t\t});\r\n\t\t};\r\n\t\t\r\n\t\tvar onError = function( err ) {\r\n\t\t\tif ( !err.status )\r\n\t\t\t\tthrow err;\r\n\t\t\tvar status = err.status;\r\n\t\t\tvar statusText = err.statusText;\r\n\t\t\tvar error = new Error( statusText );\r\n\t\t\terror.status = status;\r\n\t\t\tthrow error;\r\n\t\t};\r\n\t\n\t\n\t/***/ },\n\t/* 23 */\n\t/***/ function(module, exports) {\n\t\n\t\t/**\r\n\t\t* (C) Copyright IBM Corp. 2016. All Rights Reserved.\r\n\t\t*\r\n\t\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\r\n\t\t* use this file except in compliance with the License. You may obtain a copy of\r\n\t\t* the License at\r\n\t\t*\r\n\t\t* http://www.apache.org/licenses/LICENSE-2.0\r\n\t\t*\r\n\t\t* Unless required by applicable law or agreed to in writing, software\r\n\t\t* distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n\t\t* WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n\t\t* License for the specific language governing permissions and limitations under\r\n\t\t* the License.\r\n\t\t*/\r\n\t\t\r\n\t\tvar profile = {};\r\n\t\tvar storage = {\r\n\t\t\tset: function(key, value) {\r\n\t\t\t\tprofile[key] = value;\r\n\t\t\t\treturn storage;\r\n\t\t\t},\r\n\t\t\tget: function(key) {\r\n\t\t\t\treturn profile[key] || '';\r\n\t\t\t},\r\n\t\t\thas: function(key) {\r\n\t\t\t\treturn (profile[key] !== undefined);\r\n\t\t\t},\r\n\t\t\tclear: function() {\r\n\t\t\t\tprofile = {};\r\n\t\t\t\treturn storage;\r\n\t\t\t},\r\n\t\t\tdelete: function(key) {\r\n\t\t\t\tdelete profile[key];\r\n\t\t\t\treturn storage;\r\n\t\t\t},\r\n\t\t\tforEach: function(cb, context) {\r\n\t\t\t\tObject.keys(profile).forEach(function(key) {\r\n\t\t\t\t\tif (context)\r\n\t\t\t\t\t\tcb(key, profile[key]).bind(context);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tcb(key, profile[key]);\r\n\t\t\t\t});\r\n\t\t\t\treturn storage;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tmodule.exports = storage;\r\n\t\n\t\n\t/***/ },\n\t/* 24 */\n\t/***/ function(module, exports) {\n\t\n\t\t/**\n\t\t * lodash (Custom Build) <https://lodash.com/>\n\t\t * Build: `lodash modularize exports=\"npm\" -o ./`\n\t\t * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n\t\t * Released under MIT license <https://lodash.com/license>\n\t\t * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n\t\t * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t\t */\n\t\t\n\t\t/** Used as references for various `Number` constants. */\n\t\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\t\n\t\t/** `Object#toString` result references. */\n\t\tvar argsTag = '[object Arguments]',\n\t\t    funcTag = '[object Function]',\n\t\t    genTag = '[object GeneratorFunction]',\n\t\t    stringTag = '[object String]';\n\t\t\n\t\t/** Used to detect unsigned integer values. */\n\t\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\t\t\n\t\t/**\n\t\t * A faster alternative to `Function#apply`, this function invokes `func`\n\t\t * with the `this` binding of `thisArg` and the arguments of `args`.\n\t\t *\n\t\t * @private\n\t\t * @param {Function} func The function to invoke.\n\t\t * @param {*} thisArg The `this` binding of `func`.\n\t\t * @param {Array} args The arguments to invoke `func` with.\n\t\t * @returns {*} Returns the result of `func`.\n\t\t */\n\t\tfunction apply(func, thisArg, args) {\n\t\t  switch (args.length) {\n\t\t    case 0: return func.call(thisArg);\n\t\t    case 1: return func.call(thisArg, args[0]);\n\t\t    case 2: return func.call(thisArg, args[0], args[1]);\n\t\t    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n\t\t  }\n\t\t  return func.apply(thisArg, args);\n\t\t}\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.property` without support for deep paths.\n\t\t *\n\t\t * @private\n\t\t * @param {string} key The key of the property to get.\n\t\t * @returns {Function} Returns the new accessor function.\n\t\t */\n\t\tfunction baseProperty(key) {\n\t\t  return function(object) {\n\t\t    return object == null ? undefined : object[key];\n\t\t  };\n\t\t}\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.times` without support for iteratee shorthands\n\t\t * or max array length checks.\n\t\t *\n\t\t * @private\n\t\t * @param {number} n The number of times to invoke `iteratee`.\n\t\t * @param {Function} iteratee The function invoked per iteration.\n\t\t * @returns {Array} Returns the array of results.\n\t\t */\n\t\tfunction baseTimes(n, iteratee) {\n\t\t  var index = -1,\n\t\t      result = Array(n);\n\t\t\n\t\t  while (++index < n) {\n\t\t    result[index] = iteratee(index);\n\t\t  }\n\t\t  return result;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Creates a function that invokes `func` with its first argument transformed.\n\t\t *\n\t\t * @private\n\t\t * @param {Function} func The function to wrap.\n\t\t * @param {Function} transform The argument transform.\n\t\t * @returns {Function} Returns the new function.\n\t\t */\n\t\tfunction overArg(func, transform) {\n\t\t  return function(arg) {\n\t\t    return func(transform(arg));\n\t\t  };\n\t\t}\n\t\t\n\t\t/** Used for built-in method references. */\n\t\tvar objectProto = Object.prototype;\n\t\t\n\t\t/** Used to check objects for own properties. */\n\t\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\t\n\t\t/**\n\t\t * Used to resolve the\n\t\t * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n\t\t * of values.\n\t\t */\n\t\tvar objectToString = objectProto.toString;\n\t\t\n\t\t/** Built-in value references. */\n\t\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\t\n\t\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\t\tvar nativeGetPrototype = Object.getPrototypeOf,\n\t\t    nativeKeys = Object.keys,\n\t\t    nativeMax = Math.max;\n\t\t\n\t\t/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\n\t\tvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\t\t\n\t\t/**\n\t\t * Assigns `value` to `key` of `object` if the existing value is not equivalent\n\t\t * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t\t * for equality comparisons.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} object The object to modify.\n\t\t * @param {string} key The key of the property to assign.\n\t\t * @param {*} value The value to assign.\n\t\t */\n\t\tfunction assignValue(object, key, value) {\n\t\t  var objValue = object[key];\n\t\t  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n\t\t      (value === undefined && !(key in object))) {\n\t\t    object[key] = value;\n\t\t  }\n\t\t}\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.has` without support for deep paths.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} [object] The object to query.\n\t\t * @param {Array|string} key The key to check.\n\t\t * @returns {boolean} Returns `true` if `key` exists, else `false`.\n\t\t */\n\t\tfunction baseHas(object, key) {\n\t\t  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n\t\t  // that are composed entirely of index properties, return `false` for\n\t\t  // `hasOwnProperty` checks of them.\n\t\t  return object != null &&\n\t\t    (hasOwnProperty.call(object, key) ||\n\t\t      (typeof object == 'object' && key in object && getPrototype(object) === null));\n\t\t}\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.keys` which doesn't skip the constructor\n\t\t * property of prototypes or treat sparse arrays as dense.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} object The object to query.\n\t\t * @returns {Array} Returns the array of property names.\n\t\t */\n\t\tvar baseKeys = overArg(nativeKeys, Object);\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n\t\t *\n\t\t * @private\n\t\t * @param {Function} func The function to apply a rest parameter to.\n\t\t * @param {number} [start=func.length-1] The start position of the rest parameter.\n\t\t * @returns {Function} Returns the new function.\n\t\t */\n\t\tfunction baseRest(func, start) {\n\t\t  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n\t\t  return function() {\n\t\t    var args = arguments,\n\t\t        index = -1,\n\t\t        length = nativeMax(args.length - start, 0),\n\t\t        array = Array(length);\n\t\t\n\t\t    while (++index < length) {\n\t\t      array[index] = args[start + index];\n\t\t    }\n\t\t    index = -1;\n\t\t    var otherArgs = Array(start + 1);\n\t\t    while (++index < start) {\n\t\t      otherArgs[index] = args[index];\n\t\t    }\n\t\t    otherArgs[start] = array;\n\t\t    return apply(func, this, otherArgs);\n\t\t  };\n\t\t}\n\t\t\n\t\t/**\n\t\t * Copies properties of `source` to `object`.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} source The object to copy properties from.\n\t\t * @param {Array} props The property identifiers to copy.\n\t\t * @param {Object} [object={}] The object to copy properties to.\n\t\t * @param {Function} [customizer] The function to customize copied values.\n\t\t * @returns {Object} Returns `object`.\n\t\t */\n\t\tfunction copyObject(source, props, object, customizer) {\n\t\t  object || (object = {});\n\t\t\n\t\t  var index = -1,\n\t\t      length = props.length;\n\t\t\n\t\t  while (++index < length) {\n\t\t    var key = props[index];\n\t\t\n\t\t    var newValue = customizer\n\t\t      ? customizer(object[key], source[key], key, object, source)\n\t\t      : undefined;\n\t\t\n\t\t    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n\t\t  }\n\t\t  return object;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Creates a function like `_.assign`.\n\t\t *\n\t\t * @private\n\t\t * @param {Function} assigner The function to assign values.\n\t\t * @returns {Function} Returns the new assigner function.\n\t\t */\n\t\tfunction createAssigner(assigner) {\n\t\t  return baseRest(function(object, sources) {\n\t\t    var index = -1,\n\t\t        length = sources.length,\n\t\t        customizer = length > 1 ? sources[length - 1] : undefined,\n\t\t        guard = length > 2 ? sources[2] : undefined;\n\t\t\n\t\t    customizer = (assigner.length > 3 && typeof customizer == 'function')\n\t\t      ? (length--, customizer)\n\t\t      : undefined;\n\t\t\n\t\t    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t\t      customizer = length < 3 ? undefined : customizer;\n\t\t      length = 1;\n\t\t    }\n\t\t    object = Object(object);\n\t\t    while (++index < length) {\n\t\t      var source = sources[index];\n\t\t      if (source) {\n\t\t        assigner(object, source, index, customizer);\n\t\t      }\n\t\t    }\n\t\t    return object;\n\t\t  });\n\t\t}\n\t\t\n\t\t/**\n\t\t * Gets the \"length\" property value of `object`.\n\t\t *\n\t\t * **Note:** This function is used to avoid a\n\t\t * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects\n\t\t * Safari on at least iOS 8.1-8.3 ARM64.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} object The object to query.\n\t\t * @returns {*} Returns the \"length\" value.\n\t\t */\n\t\tvar getLength = baseProperty('length');\n\t\t\n\t\t/**\n\t\t * Gets the `[[Prototype]]` of `value`.\n\t\t *\n\t\t * @private\n\t\t * @param {*} value The value to query.\n\t\t * @returns {null|Object} Returns the `[[Prototype]]`.\n\t\t */\n\t\tvar getPrototype = overArg(nativeGetPrototype, Object);\n\t\t\n\t\t/**\n\t\t * Creates an array of index keys for `object` values of arrays,\n\t\t * `arguments` objects, and strings, otherwise `null` is returned.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} object The object to query.\n\t\t * @returns {Array|null} Returns index keys, else `null`.\n\t\t */\n\t\tfunction indexKeys(object) {\n\t\t  var length = object ? object.length : undefined;\n\t\t  if (isLength(length) &&\n\t\t      (isArray(object) || isString(object) || isArguments(object))) {\n\t\t    return baseTimes(length, String);\n\t\t  }\n\t\t  return null;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is a valid array-like index.\n\t\t *\n\t\t * @private\n\t\t * @param {*} value The value to check.\n\t\t * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n\t\t * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n\t\t */\n\t\tfunction isIndex(value, length) {\n\t\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t\t  return !!length &&\n\t\t    (typeof value == 'number' || reIsUint.test(value)) &&\n\t\t    (value > -1 && value % 1 == 0 && value < length);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if the given arguments are from an iteratee call.\n\t\t *\n\t\t * @private\n\t\t * @param {*} value The potential iteratee value argument.\n\t\t * @param {*} index The potential iteratee index or key argument.\n\t\t * @param {*} object The potential iteratee object argument.\n\t\t * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n\t\t *  else `false`.\n\t\t */\n\t\tfunction isIterateeCall(value, index, object) {\n\t\t  if (!isObject(object)) {\n\t\t    return false;\n\t\t  }\n\t\t  var type = typeof index;\n\t\t  if (type == 'number'\n\t\t        ? (isArrayLike(object) && isIndex(index, object.length))\n\t\t        : (type == 'string' && index in object)\n\t\t      ) {\n\t\t    return eq(object[index], value);\n\t\t  }\n\t\t  return false;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is likely a prototype object.\n\t\t *\n\t\t * @private\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n\t\t */\n\t\tfunction isPrototype(value) {\n\t\t  var Ctor = value && value.constructor,\n\t\t      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\t\t\n\t\t  return value === proto;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Performs a\n\t\t * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t\t * comparison between two values to determine if they are equivalent.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to compare.\n\t\t * @param {*} other The other value to compare.\n\t\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t\t * @example\n\t\t *\n\t\t * var object = { 'a': 1 };\n\t\t * var other = { 'a': 1 };\n\t\t *\n\t\t * _.eq(object, object);\n\t\t * // => true\n\t\t *\n\t\t * _.eq(object, other);\n\t\t * // => false\n\t\t *\n\t\t * _.eq('a', 'a');\n\t\t * // => true\n\t\t *\n\t\t * _.eq('a', Object('a'));\n\t\t * // => false\n\t\t *\n\t\t * _.eq(NaN, NaN);\n\t\t * // => true\n\t\t */\n\t\tfunction eq(value, other) {\n\t\t  return value === other || (value !== value && other !== other);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is likely an `arguments` object.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.1.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n\t\t *  else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isArguments(function() { return arguments; }());\n\t\t * // => true\n\t\t *\n\t\t * _.isArguments([1, 2, 3]);\n\t\t * // => false\n\t\t */\n\t\tfunction isArguments(value) {\n\t\t  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n\t\t  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n\t\t    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is classified as an `Array` object.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.1.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isArray([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isArray(document.body.children);\n\t\t * // => false\n\t\t *\n\t\t * _.isArray('abc');\n\t\t * // => false\n\t\t *\n\t\t * _.isArray(_.noop);\n\t\t * // => false\n\t\t */\n\t\tvar isArray = Array.isArray;\n\t\t\n\t\t/**\n\t\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t\t * not a function and has a `value.length` that's an integer greater than or\n\t\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isArrayLike([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLike(document.body.children);\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLike('abc');\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLike(_.noop);\n\t\t * // => false\n\t\t */\n\t\tfunction isArrayLike(value) {\n\t\t  return value != null && isLength(getLength(value)) && !isFunction(value);\n\t\t}\n\t\t\n\t\t/**\n\t\t * This method is like `_.isArrayLike` except that it also checks if `value`\n\t\t * is an object.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is an array-like object,\n\t\t *  else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isArrayLikeObject([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLikeObject(document.body.children);\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLikeObject('abc');\n\t\t * // => false\n\t\t *\n\t\t * _.isArrayLikeObject(_.noop);\n\t\t * // => false\n\t\t */\n\t\tfunction isArrayLikeObject(value) {\n\t\t  return isObjectLike(value) && isArrayLike(value);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is classified as a `Function` object.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.1.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isFunction(_);\n\t\t * // => true\n\t\t *\n\t\t * _.isFunction(/abc/);\n\t\t * // => false\n\t\t */\n\t\tfunction isFunction(value) {\n\t\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t\t  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n\t\t  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n\t\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t\t  return tag == funcTag || tag == genTag;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is a valid array-like length.\n\t\t *\n\t\t * **Note:** This function is loosely based on\n\t\t * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is a valid length,\n\t\t *  else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isLength(3);\n\t\t * // => true\n\t\t *\n\t\t * _.isLength(Number.MIN_VALUE);\n\t\t * // => false\n\t\t *\n\t\t * _.isLength(Infinity);\n\t\t * // => false\n\t\t *\n\t\t * _.isLength('3');\n\t\t * // => false\n\t\t */\n\t\tfunction isLength(value) {\n\t\t  return typeof value == 'number' &&\n\t\t    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is the\n\t\t * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n\t\t * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.1.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isObject({});\n\t\t * // => true\n\t\t *\n\t\t * _.isObject([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isObject(_.noop);\n\t\t * // => true\n\t\t *\n\t\t * _.isObject(null);\n\t\t * // => false\n\t\t */\n\t\tfunction isObject(value) {\n\t\t  var type = typeof value;\n\t\t  return !!value && (type == 'object' || type == 'function');\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is object-like. A value is object-like if it's not `null`\n\t\t * and has a `typeof` result of \"object\".\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isObjectLike({});\n\t\t * // => true\n\t\t *\n\t\t * _.isObjectLike([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isObjectLike(_.noop);\n\t\t * // => false\n\t\t *\n\t\t * _.isObjectLike(null);\n\t\t * // => false\n\t\t */\n\t\tfunction isObjectLike(value) {\n\t\t  return !!value && typeof value == 'object';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is classified as a `String` primitive or object.\n\t\t *\n\t\t * @static\n\t\t * @since 0.1.0\n\t\t * @memberOf _\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isString('abc');\n\t\t * // => true\n\t\t *\n\t\t * _.isString(1);\n\t\t * // => false\n\t\t */\n\t\tfunction isString(value) {\n\t\t  return typeof value == 'string' ||\n\t\t    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Assigns own enumerable string keyed properties of source objects to the\n\t\t * destination object. Source objects are applied from left to right.\n\t\t * Subsequent sources overwrite property assignments of previous sources.\n\t\t *\n\t\t * **Note:** This method mutates `object` and is loosely based on\n\t\t * [`Object.assign`](https://mdn.io/Object/assign).\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.10.0\n\t\t * @category Object\n\t\t * @param {Object} object The destination object.\n\t\t * @param {...Object} [sources] The source objects.\n\t\t * @returns {Object} Returns `object`.\n\t\t * @see _.assignIn\n\t\t * @example\n\t\t *\n\t\t * function Foo() {\n\t\t *   this.a = 1;\n\t\t * }\n\t\t *\n\t\t * function Bar() {\n\t\t *   this.c = 3;\n\t\t * }\n\t\t *\n\t\t * Foo.prototype.b = 2;\n\t\t * Bar.prototype.d = 4;\n\t\t *\n\t\t * _.assign({ 'a': 0 }, new Foo, new Bar);\n\t\t * // => { 'a': 1, 'c': 3 }\n\t\t */\n\t\tvar assign = createAssigner(function(object, source) {\n\t\t  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n\t\t    copyObject(source, keys(source), object);\n\t\t    return;\n\t\t  }\n\t\t  for (var key in source) {\n\t\t    if (hasOwnProperty.call(source, key)) {\n\t\t      assignValue(object, key, source[key]);\n\t\t    }\n\t\t  }\n\t\t});\n\t\t\n\t\t/**\n\t\t * Creates an array of the own enumerable property names of `object`.\n\t\t *\n\t\t * **Note:** Non-object values are coerced to objects. See the\n\t\t * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n\t\t * for more details.\n\t\t *\n\t\t * @static\n\t\t * @since 0.1.0\n\t\t * @memberOf _\n\t\t * @category Object\n\t\t * @param {Object} object The object to query.\n\t\t * @returns {Array} Returns the array of property names.\n\t\t * @example\n\t\t *\n\t\t * function Foo() {\n\t\t *   this.a = 1;\n\t\t *   this.b = 2;\n\t\t * }\n\t\t *\n\t\t * Foo.prototype.c = 3;\n\t\t *\n\t\t * _.keys(new Foo);\n\t\t * // => ['a', 'b'] (iteration order is not guaranteed)\n\t\t *\n\t\t * _.keys('hi');\n\t\t * // => ['0', '1']\n\t\t */\n\t\tfunction keys(object) {\n\t\t  var isProto = isPrototype(object);\n\t\t  if (!(isProto || isArrayLike(object))) {\n\t\t    return baseKeys(object);\n\t\t  }\n\t\t  var indexes = indexKeys(object),\n\t\t      skipIndexes = !!indexes,\n\t\t      result = indexes || [],\n\t\t      length = result.length;\n\t\t\n\t\t  for (var key in object) {\n\t\t    if (baseHas(object, key) &&\n\t\t        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n\t\t        !(isProto && key == 'constructor')) {\n\t\t      result.push(key);\n\t\t    }\n\t\t  }\n\t\t  return result;\n\t\t}\n\t\t\n\t\tmodule.exports = assign;\n\t\n\t\n\t/***/ },\n\t/* 25 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\t\n\t\n\t/***/ },\n\t/* 26 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(module) {\r\n\t\t\tif(!module.webpackPolyfill) {\r\n\t\t\t\tmodule.deprecate = function() {};\r\n\t\t\t\tmodule.paths = [];\r\n\t\t\t\t// module.parent = undefined by default\r\n\t\t\t\tmodule.children = [];\r\n\t\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t\t}\r\n\t\t\treturn module;\r\n\t\t}\r\n\t\n\t\n\t/***/ },\n\t/* 27 */\n\t/***/ function(module, exports) {\n\t\n\t\t/* (ignored) */\n\t\n\t/***/ }\n\t/******/ ])\n\t});\n\t;\n\t//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBlYWM3NzRlZDYyMjc0OWUzZGZiOCIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYnRvYS5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9zZGsuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2guYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vL3ZlcnR4IChpZ25vcmVkKSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztBQ1ZBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDdENBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsT0FBTztBQUNsQixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBVyxPQUFPO0FBQ2xCLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLE9BQU87QUFDbEIsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDZCQUE0QixVQUFVOzs7Ozs7O0FDbkx0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMEM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUE4QixzQkFBc0I7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXFCLCtCQUErQjtBQUNwRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULFFBQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLFFBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQSxVQUFTO0FBQ1Qsd0JBQXVCLFFBQVE7QUFDL0I7O0FBRUE7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG1FQUFrRSxRQUFROztBQUUxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUVBQWtFLFFBQVE7QUFDMUU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNDQUFxQyxRQUFROztBQUU3Qzs7QUFFQSxzQkFBcUIsd0JBQXdCO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBLFVBQVM7QUFDVCxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsUUFBTztBQUNQO0FBQ0E7QUFDQSwwQkFBeUIsWUFBWTtBQUNyQztBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFPOztBQUVQO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQSxlQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQU87O0FBRVA7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWU7QUFDZjtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixZQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBLGVBQWMsU0FBUztBQUN2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QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0EsaUJBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxPQUFPO0FBQ2xCLFlBQVcsVUFBVTtBQUNyQixjQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWEsU0FBUztBQUN0QixXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsT0FBTztBQUNsQixjQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7OztBQ3RzQkEsOEJBQTZCLG1EQUFtRDs7Ozs7OztBQ0FoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1RBLGdCIiwiZmlsZSI6IndlYi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiU0RLXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlNES1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJTREtcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiBcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb25cbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIGVhYzc3NGVkNjIyNzQ5ZTNkZmI4XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKmdsb2JhbCB0b1N0cmluZzp0cnVlKi9cblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0ZpbGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZpbGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Jsb2IodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHZhbCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcztcbn1cblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpLnJlcGxhY2UoL1xccyokLywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IC0+IHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgIWlzQXJyYXkob2JqKSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICB0cmltOiB0cmltXG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL3V0aWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL3BhcnNlSGVhZGVycycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9pc1VSTFNhbWVPcmlnaW4nKTtcbnZhciBidG9hID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5idG9hKSB8fCByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnRvYScpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvc2V0dGxlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihyZXNvbHZlLCByZWplY3QsIGNvbmZpZykge1xuICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cbiAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpKSB7XG4gICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICB9XG5cbiAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgdmFyIGxvYWRFdmVudCA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xuICB2YXIgeERvbWFpbiA9IGZhbHNlO1xuXG4gIC8vIEZvciBJRSA4LzkgQ09SUyBzdXBwb3J0XG4gIC8vIE9ubHkgc3VwcG9ydHMgUE9TVCBhbmQgR0VUIGNhbGxzIGFuZCBkb2Vzbid0IHJldHVybnMgdGhlIHJlc3BvbnNlIGhlYWRlcnMuXG4gIC8vIERPTidUIGRvIHRoaXMgZm9yIHRlc3RpbmcgYi9jIFhNTEh0dHBSZXF1ZXN0IGlzIG1vY2tlZCwgbm90IFhEb21haW5SZXF1ZXN0LlxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0JyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiByZXF1ZXN0KSAmJiAhaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSB7XG4gICAgcmVxdWVzdCA9IG5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QoKTtcbiAgICBsb2FkRXZlbnQgPSAnb25sb2FkJztcbiAgICB4RG9tYWluID0gdHJ1ZTtcbiAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBoYW5kbGVQcm9ncmVzcygpIHt9O1xuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHt9O1xuICB9XG5cbiAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcbiAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICB9XG5cbiAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gIHJlcXVlc3RbbG9hZEV2ZW50XSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgaWYgKCFyZXF1ZXN0IHx8IChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQgJiYgIXhEb21haW4pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICB2YXIgcmVzcG9uc2VEYXRhID0gIWNvbmZpZy5yZXNwb25zZVR5cGUgfHwgY29uZmlnLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8gcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgIGRhdGE6IHRyYW5zZm9ybURhdGEoXG4gICAgICAgIHJlc3BvbnNlRGF0YSxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICksXG4gICAgICAvLyBJRSBzZW5kcyAxMjIzIGluc3RlYWQgb2YgMjA0IChodHRwczovL2dpdGh1Yi5jb20vbXphYnJpc2tpZS9heGlvcy9pc3N1ZXMvMjAxKVxuICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICB9O1xuXG4gICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgIHJlcXVlc3QgPSBudWxsO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgcmVqZWN0KG5ldyBFcnJvcignTmV0d29yayBFcnJvcicpKTtcblxuICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICByZXF1ZXN0ID0gbnVsbDtcbiAgfTtcblxuICAvLyBIYW5kbGUgdGltZW91dFxuICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnKTtcbiAgICBlcnIudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuICAgIGVyci5jb2RlID0gJ0VDT05OQUJPUlRFRCc7XG4gICAgcmVqZWN0KGVycik7XG5cbiAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgcmVxdWVzdCA9IG51bGw7XG4gIH07XG5cbiAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIHZhciB4c3JmVmFsdWUgPSBjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSA/XG4gICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgdW5kZWZpbmVkO1xuXG4gICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBhZGQgaGVhZGVyIHRvIHRoZSByZXF1ZXN0XG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gIGlmIChjb25maWcud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICB9XG5cbiAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuICAgIHRyeSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKHJlcXVlc3QucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gIGlmIChjb25maWcucHJvZ3Jlc3MpIHtcbiAgICBpZiAoY29uZmlnLm1ldGhvZCA9PT0gJ3Bvc3QnIHx8IGNvbmZpZy5tZXRob2QgPT09ICdwdXQnKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5wcm9ncmVzcyk7XG4gICAgfSBlbHNlIGlmIChjb25maWcubWV0aG9kID09PSAnZ2V0Jykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5wcm9ncmVzcyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gIH1cblxuICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3RyYW5zZm9ybURhdGEuanNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBkaXNwYXRjaFJlcXVlc3QgPSByZXF1aXJlKCcuL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0Jyk7XG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyID0gcmVxdWlyZSgnLi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vaGVscGVycy90cmFuc2Zvcm1EYXRhJyk7XG5cbmZ1bmN0aW9uIEF4aW9zKGRlZmF1bHRDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IHV0aWxzLm1lcmdlKHt9LCBkZWZhdWx0Q29uZmlnKTtcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSB1dGlscy5tZXJnZSh7XG4gICAgICB1cmw6IGFyZ3VtZW50c1swXVxuICAgIH0sIGFyZ3VtZW50c1sxXSk7XG4gIH1cblxuICBjb25maWcgPSB1dGlscy5tZXJnZShkZWZhdWx0cywgdGhpcy5kZWZhdWx0cywgeyBtZXRob2Q6ICdnZXQnIH0sIGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRG9uJ3QgYWxsb3cgb3ZlcnJpZGluZyBkZWZhdWx0cy53aXRoQ3JlZGVudGlhbHNcbiAgY29uZmlnLndpdGhDcmVkZW50aWFscyA9IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgdGhpcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHM7XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG52YXIgZGVmYXVsdEluc3RhbmNlID0gbmV3IEF4aW9zKGRlZmF1bHRzKTtcbnZhciBheGlvcyA9IG1vZHVsZS5leHBvcnRzID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgZGVmYXVsdEluc3RhbmNlKTtcbmF4aW9zLnJlcXVlc3QgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBkZWZhdWx0SW5zdGFuY2UpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEV4cG9zZSBwcm9wZXJ0aWVzIGZyb20gZGVmYXVsdEluc3RhbmNlXG5heGlvcy5kZWZhdWx0cyA9IGRlZmF1bHRJbnN0YW5jZS5kZWZhdWx0cztcbmF4aW9zLmludGVyY2VwdG9ycyA9IGRlZmF1bHRJbnN0YW5jZS5pbnRlcmNlcHRvcnM7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShkZWZhdWx0Q29uZmlnKSB7XG4gIHJldHVybiBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG59O1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsXG4gICAgfSkpO1xuICB9O1xuICBheGlvc1ttZXRob2RdID0gYmluZChBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSwgZGVmYXVsdEluc3RhbmNlKTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xuICBheGlvc1ttZXRob2RdID0gYmluZChBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSwgZGVmYXVsdEluc3RhbmNlKTtcbn0pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2F4aW9zLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qc1xuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB3aGljaGV2ZXIgYWRhcHRlclxuICogaXMgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGVudmlyb25tZW50LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBhZGFwdGVyO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZy5hZGFwdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIEZvciBjdXN0b20gYWRhcHRlciBzdXBwb3J0XG4gICAgICAgIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlcjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuLi9hZGFwdGVycy94aHInKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICAgICAgYWRhcHRlciA9IHJlcXVpcmUoJy4uL2FkYXB0ZXJzL2h0dHAnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhZGFwdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFkYXB0ZXIocmVzb2x2ZSwgcmVqZWN0LCBjb25maWcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBQUk9URUNUSU9OX1BSRUZJWCA9IC9eXFwpXFxdXFx9Jyw/XFxuLztcbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoUFJPVEVDVElPTl9QUkVGSVgsICcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgaGVhZGVyczoge1xuICAgIGNvbW1vbjoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gICAgfSxcbiAgICBwYXRjaDogdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpLFxuICAgIHBvc3Q6IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKSxcbiAgICBwdXQ6IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKVxuICB9LFxuXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvZGVmYXVsdHMuanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLy8gYnRvYSBwb2x5ZmlsbCBmb3IgSUU8MTAgY291cnRlc3kgaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkY2hhbWJlcnMvQmFzZTY0LmpzXG5cbnZhciBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbmZ1bmN0aW9uIEUoKSB7XG4gIHRoaXMubWVzc2FnZSA9ICdTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXInO1xufVxuRS5wcm90b3R5cGUgPSBuZXcgRXJyb3I7XG5FLnByb3RvdHlwZS5jb2RlID0gNTtcbkUucHJvdG90eXBlLm5hbWUgPSAnSW52YWxpZENoYXJhY3RlckVycm9yJztcblxuZnVuY3Rpb24gYnRvYShpbnB1dCkge1xuICB2YXIgc3RyID0gU3RyaW5nKGlucHV0KTtcbiAgdmFyIG91dHB1dCA9ICcnO1xuICBmb3IgKFxuICAgIC8vIGluaXRpYWxpemUgcmVzdWx0IGFuZCBjb3VudGVyXG4gICAgdmFyIGJsb2NrLCBjaGFyQ29kZSwgaWR4ID0gMCwgbWFwID0gY2hhcnM7XG4gICAgLy8gaWYgdGhlIG5leHQgc3RyIGluZGV4IGRvZXMgbm90IGV4aXN0OlxuICAgIC8vICAgY2hhbmdlIHRoZSBtYXBwaW5nIHRhYmxlIHRvIFwiPVwiXG4gICAgLy8gICBjaGVjayBpZiBkIGhhcyBubyBmcmFjdGlvbmFsIGRpZ2l0c1xuICAgIHN0ci5jaGFyQXQoaWR4IHwgMCkgfHwgKG1hcCA9ICc9JywgaWR4ICUgMSk7XG4gICAgLy8gXCI4IC0gaWR4ICUgMSAqIDhcIiBnZW5lcmF0ZXMgdGhlIHNlcXVlbmNlIDIsIDQsIDYsIDhcbiAgICBvdXRwdXQgKz0gbWFwLmNoYXJBdCg2MyAmIGJsb2NrID4+IDggLSBpZHggJSAxICogOClcbiAgKSB7XG4gICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpZHggKz0gMyAvIDQpO1xuICAgIGlmIChjaGFyQ29kZSA+IDB4RkYpIHtcbiAgICAgIHRocm93IG5ldyBFKCk7XG4gICAgfVxuICAgIGJsb2NrID0gYmxvY2sgPDwgOCB8IGNoYXJDb2RlO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnRvYTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2J0b2EuanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH1cblxuICAgICAgaWYgKCF1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qc1xuICoqIG1vZHVsZSBpZCA9IDEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9KSgpXG4pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgIH1cblxuICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKVxuKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qc1xuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICAvLyBOb3RlOiBzdGF0dXMgaXMgbm90IGV4cG9zZWQgYnkgWERvbWFpblJlcXVlc3RcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QocmVzcG9uc2UpO1xuICB9XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvc2V0dGxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qc1xuICoqIG1vZHVsZSBpZCA9IDIwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKiFcbiAqIEBvdmVydmlldyBlczYtcHJvbWlzZSAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vamFrZWFyY2hpYmFsZC9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICAzLjIuMVxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJG9iamVjdE9yRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nIHx8ICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzTWF5YmVUaGVuYWJsZSh4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkgPSBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID0gMDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbl0gPSBjYWxsYmFjaztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICsgMV0gPSBhcmc7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICs9IDI7XG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9PT0gMikge1xuICAgICAgICAvLyBJZiBsZW4gaXMgMiwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbihsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldEFzYXAoYXNhcEZuKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcCA9IGFzYXBGbjtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpID8gd2luZG93IDogdW5kZWZpbmVkO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93IHx8IHt9O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc05vZGUgPSB0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHt9LnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJztcblxuICAgIC8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc1dvcmtlciA9IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuICAgIC8vIG5vZGVcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2soKSB7XG4gICAgICAvLyBub2RlIHZlcnNpb24gMC4xMC54IGRpc3BsYXlzIGEgZGVwcmVjYXRpb24gd2FybmluZyB3aGVuIG5leHRUaWNrIGlzIHVzZWQgcmVjdXJzaXZlbHlcbiAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHZlcnR4XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVZlcnR4VGltZXIoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgbGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIG5vZGUuZGF0YSA9IChpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHdlYiB3b3JrZXJcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2g7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0VGltZW91dChsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gsIDEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbjsgaSs9Mikge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaV07XG4gICAgICAgIHZhciBhcmcgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaSsxXTtcblxuICAgICAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2krMV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydHgoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgciA9IHJlcXVpcmU7XG4gICAgICAgIHZhciB2ZXJ0eCA9IHIoJ3ZlcnR4Jyk7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVZlcnR4VGltZXIoKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2g7XG4gICAgLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbiAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGlzTm9kZSkge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2soKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlcigpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXR0ZW1wdFZlcnR4KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHRoZW4kJHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcblxuICAgICAgaWYgKGNoaWxkW2xpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbWFrZVByb21pc2UoY2hpbGQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW3N0YXRlIC0gMV07XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc3RhdGUsIGNoaWxkLCBjYWxsYmFjaywgcGFyZW50Ll9yZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR0aGVuJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHRoZW4kJHRoZW47XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkcmVzb2x2ZShvYmplY3QpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gICAgICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDE2KTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3AoKSB7fVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgICA9IHZvaWQgMDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEID0gMTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQgID0gMjtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUiA9IG5ldyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc2VsZkZ1bGZpbGxtZW50KCkge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGNhbm5vdFJldHVybk93bigpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbihwcm9taXNlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuO1xuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUi5lcnJvciA9IGVycm9yO1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAoZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeVRoZW4odGhlbiwgdGhlbmFibGUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHNlYWxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgIGlmIChzZWFsZWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcblxuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9LCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSkge1xuICAgICAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHRoZW5hYmxlLCB1bmRlZmluZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pIHtcbiAgICAgIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgdGhlbiA9PT0gbGliJGVzNiRwcm9taXNlJHRoZW4kJGRlZmF1bHQgJiZcbiAgICAgICAgICBjb25zdHJ1Y3Rvci5yZXNvbHZlID09PSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0KSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoZW4gPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SLmVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzZWxmRnVsZmlsbG1lbnQoKSk7XG4gICAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbih2YWx1ZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgICAgICBwcm9taXNlLl9vbmVycm9yKHByb21pc2UuX3Jlc3VsdCk7XG4gICAgICB9XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gocHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7IHJldHVybjsgfVxuXG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSB2YWx1ZTtcbiAgICAgIHByb21pc2UuX3N0YXRlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEO1xuXG4gICAgICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gsIHByb21pc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQ7XG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSByZWFzb247XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVycztcbiAgICAgIHZhciBsZW5ndGggPSBzdWJzY3JpYmVycy5sZW5ndGg7XG5cbiAgICAgIHBhcmVudC5fb25lcnJvciA9IG51bGw7XG5cbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURURdICA9IG9uUmVqZWN0aW9uO1xuXG4gICAgICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaCwgcGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoKHByb21pc2UpIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICAgICAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTtcblxuICAgICAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgICAgdmFyIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsID0gcHJvbWlzZS5fcmVzdWx0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgICAgIGNhbGxiYWNrID0gc3Vic2NyaWJlcnNbaSArIHNldHRsZWRdO1xuXG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKSB7XG4gICAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SID0gbmV3IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCk7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZGV0YWlsKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IuZXJyb3IgPSBlO1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHZhciBoYXNDYWxsYmFjayA9IGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICAgICAgdmFsdWUsIGVycm9yLCBzdWNjZWVkZWQsIGZhaWxlZDtcblxuICAgICAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgICAgIHZhbHVlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgIGVycm9yID0gdmFsdWUuZXJyb3I7XG4gICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkY2Fubm90UmV0dXJuT3duKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGRldGFpbDtcbiAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgIC8vIG5vb3BcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXNvbHZlcihmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSl7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaWQgPSAwO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5leHRJZCgpIHtcbiAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpZCsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG1ha2VQcm9taXNlKHByb21pc2UpIHtcbiAgICAgIHByb21pc2VbbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRF0gPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpZCsrO1xuICAgICAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICBwcm9taXNlLl9zdWJzY3JpYmVycyA9IFtdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsKGVudHJpZXMpIHtcbiAgICAgIHJldHVybiBuZXcgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJGRlZmF1bHQodGhpcywgZW50cmllcykucHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2UoZW50cmllcykge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAgIGlmICghbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRyYWNlO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0KHJlYXNvbikge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJHJlamVjdDtcblxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzTmV3KCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZTtcbiAgICAvKipcbiAgICAgIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgICAgIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsIHdoaWNoXG4gICAgICByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZSByZWFzb25cbiAgICAgIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gICAgICBUZXJtaW5vbG9neVxuICAgICAgLS0tLS0tLS0tLS1cblxuICAgICAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgICAgIC0gYHRoZW5hYmxlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gdGhhdCBkZWZpbmVzIGEgYHRoZW5gIG1ldGhvZC5cbiAgICAgIC0gYHZhbHVlYCBpcyBhbnkgbGVnYWwgSmF2YVNjcmlwdCB2YWx1ZSAoaW5jbHVkaW5nIHVuZGVmaW5lZCwgYSB0aGVuYWJsZSwgb3IgYSBwcm9taXNlKS5cbiAgICAgIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAgICAgLSBgcmVhc29uYCBpcyBhIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoeSBhIHByb21pc2Ugd2FzIHJlamVjdGVkLlxuICAgICAgLSBgc2V0dGxlZGAgdGhlIGZpbmFsIHJlc3Rpbmcgc3RhdGUgb2YgYSBwcm9taXNlLCBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQuXG5cbiAgICAgIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICAgICAgUHJvbWlzZXMgdGhhdCBhcmUgZnVsZmlsbGVkIGhhdmUgYSBmdWxmaWxsbWVudCB2YWx1ZSBhbmQgYXJlIGluIHRoZSBmdWxmaWxsZWRcbiAgICAgIHN0YXRlLiAgUHJvbWlzZXMgdGhhdCBhcmUgcmVqZWN0ZWQgaGF2ZSBhIHJlamVjdGlvbiByZWFzb24gYW5kIGFyZSBpbiB0aGVcbiAgICAgIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gICAgICBQcm9taXNlcyBjYW4gYWxzbyBiZSBzYWlkIHRvICpyZXNvbHZlKiBhIHZhbHVlLiAgSWYgdGhpcyB2YWx1ZSBpcyBhbHNvIGFcbiAgICAgIHByb21pc2UsIHRoZW4gdGhlIG9yaWdpbmFsIHByb21pc2UncyBzZXR0bGVkIHN0YXRlIHdpbGwgbWF0Y2ggdGhlIHZhbHVlJ3NcbiAgICAgIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICAgICAgaXRzZWxmIHJlamVjdCwgYW5kIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2lsbFxuICAgICAgaXRzZWxmIGZ1bGZpbGwuXG5cblxuICAgICAgQmFzaWMgVXNhZ2U6XG4gICAgICAtLS0tLS0tLS0tLS1cblxuICAgICAgYGBganNcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIG9uIHN1Y2Nlc3NcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAgICAgLy8gb24gZmFpbHVyZVxuICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuXG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAvLyBvbiByZWplY3Rpb25cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEFkdmFuY2VkIFVzYWdlOlxuICAgICAgLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFByb21pc2VzIHNoaW5lIHdoZW4gYWJzdHJhY3RpbmcgYXdheSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIHN1Y2ggYXNcbiAgICAgIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gICAgICBgYGBqc1xuICAgICAgZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICAgICAgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuRE9ORSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgICAgICAvLyBvbiBmdWxmaWxsbWVudFxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIC8vIG9uIHJlamVjdGlvblxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICAgICAgYGBganNcbiAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgICAgIGdldEpTT04oJy9jb21tZW50cycpXG4gICAgICBdKS50aGVuKGZ1bmN0aW9uKHZhbHVlcyl7XG4gICAgICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICAgICAgdmFsdWVzWzFdIC8vID0+IGNvbW1lbnRzSlNPTlxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAY2xhc3MgUHJvbWlzZVxuICAgICAgQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZXJcbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEBjb25zdHJ1Y3RvclxuICAgICovXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UocmVzb2x2ZXIpIHtcbiAgICAgIHRoaXNbbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRF0gPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRuZXh0SWQoKTtcbiAgICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcblxuICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3AgIT09IHJlc29sdmVyKSB7XG4gICAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlcigpO1xuICAgICAgICB0aGlzIGluc3RhbmNlb2YgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UgPyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcikgOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5hbGwgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmFjZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVzb2x2ZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVqZWN0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9zZXRTY2hlZHVsZXIgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyO1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9zZXRBc2FwID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldEFzYXA7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX2FzYXAgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcDtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSxcblxuICAgIC8qKlxuICAgICAgVGhlIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsXG4gICAgICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICAgICAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHVzZXIpe1xuICAgICAgICAvLyB1c2VyIGlzIGF2YWlsYWJsZVxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gdXNlciBpcyB1bmF2YWlsYWJsZSwgYW5kIHlvdSBhcmUgZ2l2ZW4gdGhlIHJlYXNvbiB3aHlcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIENoYWluaW5nXG4gICAgICAtLS0tLS0tLVxuXG4gICAgICBUaGUgcmV0dXJuIHZhbHVlIG9mIGB0aGVuYCBpcyBpdHNlbGYgYSBwcm9taXNlLiAgVGhpcyBzZWNvbmQsICdkb3duc3RyZWFtJ1xuICAgICAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICAgICAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHVzZXIubmFtZTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuICdkZWZhdWx0IG5hbWUnO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodXNlck5hbWUpIHtcbiAgICAgICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgICAgICAvLyB3aWxsIGJlIGAnZGVmYXVsdCBuYW1lJ2BcbiAgICAgIH0pO1xuXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gaWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGByZWFzb25gIHdpbGwgYmUgJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jy5cbiAgICAgICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gICAgICB9KTtcbiAgICAgIGBgYFxuICAgICAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQXNzaW1pbGF0aW9uXG4gICAgICAtLS0tLS0tLS0tLS1cblxuICAgICAgU29tZXRpbWVzIHRoZSB2YWx1ZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgdG8gYSBkb3duc3RyZWFtIHByb21pc2UgY2FuIG9ubHkgYmVcbiAgICAgIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgICAgIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gICAgICB1bnRpbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBzZXR0bGVkLiBUaGlzIGlzIGNhbGxlZCAqYXNzaW1pbGF0aW9uKi5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgICAvLyBUaGUgdXNlcidzIGNvbW1lbnRzIGFyZSBub3cgYXZhaWxhYmxlXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgcmVqZWN0cywgd2UnbGwgaGF2ZSB0aGUgcmVhc29uIGhlcmVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFNpbXBsZSBFeGFtcGxlXG4gICAgICAtLS0tLS0tLS0tLS0tLVxuXG4gICAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfVxuICAgICAgYGBgXG5cbiAgICAgIEVycmJhY2sgRXhhbXBsZVxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAvLyBmYWlsdXJlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBQcm9taXNlIEV4YW1wbGU7XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIGZpbmRSZXN1bHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIGZhaWx1cmVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEFkdmFuY2VkIEV4YW1wbGVcbiAgICAgIC0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFN5bmNocm9ub3VzIEV4YW1wbGVcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIGF1dGhvciwgYm9va3M7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF1dGhvciA9IGZpbmRBdXRob3IoKTtcbiAgICAgICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfVxuICAgICAgYGBgXG5cbiAgICAgIEVycmJhY2sgRXhhbXBsZVxuXG4gICAgICBgYGBqc1xuXG4gICAgICBmdW5jdGlvbiBmb3VuZEJvb2tzKGJvb2tzKSB7XG5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcblxuICAgICAgfVxuXG4gICAgICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAvLyBmYWlsdXJlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgIGZhaWx1cmUocmVhc29uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBQcm9taXNlIEV4YW1wbGU7XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIGZpbmRBdXRob3IoKS5cbiAgICAgICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgICAgIC8vIGZvdW5kIGJvb2tzXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQG1ldGhvZCB0aGVuXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQHJldHVybiB7UHJvbWlzZX1cbiAgICAqL1xuICAgICAgdGhlbjogbGliJGVzNiRwcm9taXNlJHRoZW4kJGRlZmF1bHQsXG5cbiAgICAvKipcbiAgICAgIGBjYXRjaGAgaXMgc2ltcGx5IHN1Z2FyIGZvciBgdGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uKWAgd2hpY2ggbWFrZXMgaXQgdGhlIHNhbWVcbiAgICAgIGFzIHRoZSBjYXRjaCBibG9jayBvZiBhIHRyeS9jYXRjaCBzdGF0ZW1lbnQuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICAgICAgfVxuXG4gICAgICAvLyBzeW5jaHJvbm91c1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEF1dGhvcigpO1xuICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgIH1cblxuICAgICAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICAgICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIGNhdGNoXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGlvblxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQHJldHVybiB7UHJvbWlzZX1cbiAgICAqL1xuICAgICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvcjtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvcihDb25zdHJ1Y3RvciwgaW5wdXQpIHtcbiAgICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcblxuICAgICAgaWYgKCF0aGlzLnByb21pc2VbbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRF0pIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgdGhpcy5faW5wdXQgICAgID0gaW5wdXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoICAgICA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLmxlbmd0aCB8fCAwO1xuICAgICAgICAgIHRoaXMuX2VudW1lcmF0ZSgpO1xuICAgICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHRoaXMucHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJHZhbGlkYXRpb25FcnJvcigpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkdmFsaWRhdGlvbkVycm9yKCkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Jyk7XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsZW5ndGggID0gdGhpcy5sZW5ndGg7XG4gICAgICB2YXIgaW5wdXQgICA9IHRoaXMuX2lucHV0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgJiYgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24oZW50cnksIGkpIHtcbiAgICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICAgIHZhciByZXNvbHZlID0gYy5yZXNvbHZlO1xuXG4gICAgICBpZiAocmVzb2x2ZSA9PT0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCkge1xuICAgICAgICB2YXIgdGhlbiA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4oZW50cnkpO1xuXG4gICAgICAgIGlmICh0aGVuID09PSBsaWIkZXM2JHByb21pc2UkdGhlbiQkZGVmYXVsdCAmJlxuICAgICAgICAgICAgZW50cnkuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSBlbnRyeTtcbiAgICAgICAgfSBlbHNlIGlmIChjID09PSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCkge1xuICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IGMobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBlbnRyeSwgdGhlbik7XG4gICAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChuZXcgYyhmdW5jdGlvbihyZXNvbHZlKSB7IHJlc29sdmUoZW50cnkpOyB9KSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fc2V0dGxlZEF0ID0gZnVuY3Rpb24oc3RhdGUsIGksIHZhbHVlKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcblxuICAgICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uKHByb21pc2UsIGkpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCwgaSwgdmFsdWUpO1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3NldHRsZWRBdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbCgpIHtcbiAgICAgIHZhciBsb2NhbDtcblxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbG9jYWwgPSBnbG9iYWw7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsID0gc2VsZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgbG9jYWwgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBQID0gbG9jYWwuUHJvbWlzZTtcblxuICAgICAgaWYgKFAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKSA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsb2NhbC5Qcm9taXNlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQ7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2UgPSB7XG4gICAgICAnUHJvbWlzZSc6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0LFxuICAgICAgJ3BvbHlmaWxsJzogbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0XG4gICAgfTtcblxuICAgIC8qIGdsb2JhbCBkZWZpbmU6dHJ1ZSBtb2R1bGU6dHJ1ZSB3aW5kb3c6IHRydWUgKi9cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlOyB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZVsnZXhwb3J0cyddKSB7XG4gICAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXNbJ0VTNlByb21pc2UnXSA9IGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0KCk7XG59KS5jYWxsKHRoaXMpO1xuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzXG4gKiogbW9kdWxlIGlkID0gMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxyXG4qIChDKSBDb3B5cmlnaHQgSUJNIENvcnAuIDIwMTYuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdFxyXG4qIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mXHJcbiogdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxyXG4qIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxyXG4qIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyXHJcbiogdGhlIExpY2Vuc2UuXHJcbiovXHJcblxyXG5pZiAoIHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyApIHJlcXVpcmUoJ2VzNi1wcm9taXNlJykucG9seWZpbGwoKTtcclxuXHJcbnZhciBhc3NpZ24gPSByZXF1aXJlKCdsb2Rhc2guYXNzaWduJyk7XHJcbnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XHJcbnZhciBzdG9yYWdlID0gcmVxdWlyZSgnLi9zdG9yYWdlJyk7XHJcblxyXG52YXIgb3B0aW9ucyA9IHtcclxuXHRiYXNlVVJMOiAnaHR0cHM6Ly9kZXYuYXBpLmlibS5jb20vdmlydHVhbGFnZW50L2RldmVsb3BtZW50L2FwaS92MS8nLFxyXG5cdHRpbWVvdXQ6IDMwICogMTAwMCxcclxuXHR1c2VySUQ6IG51bGwsXHJcblx0d2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcclxuXHRYSUJNQ2xpZW50SUQ6IGZhbHNlLFxyXG5cdFhJQk1DbGllbnRTZWNyZXQ6IGZhbHNlXHJcbn07XHJcblxyXG52YXIgYXBpID0gYXhpb3MuY3JlYXRlKCBvcHRpb25zICk7XHJcblxyXG52YXIgcHJvZmlsZURhdGFSZSA9IC9cXHwmKC4qPylcXHwvZztcclxudmFyIGluc2VydFVzZXJQcm9maWxlRGF0YSA9IGZ1bmN0aW9uKG1zZykge1xyXG5cdHZhciBmbGF0dGVuID0gKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSA/IG1zZyA6IEpTT04uc3RyaW5naWZ5KG1zZyk7XHJcblx0dmFyIG1hdGNoZXMgPSAoZmxhdHRlbi5tYXRjaChwcm9maWxlRGF0YVJlKSB8fCBbXSk7XHJcblx0ZmxhdHRlbiA9IG1hdGNoZXMucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgcHJvZikge1xyXG5cdFx0Y29uc3QgbmFtZSA9IHByb2Yuc2xpY2UoIDIsIC0xICk7XHJcblx0XHRjb25zdCB2YWx1ZSA9IHN0b3JhZ2UuZ2V0KG5hbWUpIHx8IG5hbWU7XHJcblx0XHRyZXR1cm4gcmVzdWx0LnJlcGxhY2UoIHByb2YsIHZhbHVlICk7XHJcblx0fSwgZmxhdHRlbik7XHJcblx0cmV0dXJuICh0eXBlb2YgbXNnID09PSAnc3RyaW5nJykgPyBmbGF0dGVuIDogSlNPTi5wYXJzZShmbGF0dGVuKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAbmFtZXNwYWNlIFNES1xyXG4gKi9cclxuXHJcbnZhciBTREsgPSBtb2R1bGUuZXhwb3J0cyA9IHtcclxuXHQvKipcclxuXHQgKiBDb25maWd1cmUgdGhlIENsaWVudCBTREtcclxuXHQgKiBAZnVuY3Rpb24gY29uZmlndXJlXHJcblx0ICogQG1lbWJlcm9mIFNES1xyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmJhc2VVUkw9aHR0cHM6Ly9kZXYuYXBpLmlibS5jb20vdmlydHVhbGFnZW50L2RldmVsb3BtZW50L2FwaS92MS8gLSBPcHRpb25hbDogVGhlIFVSTCB0aGUgU0RLIHNob3VsZCBwcmVwZW5kIHRvIHJlcXVlc3RzLlxyXG5cdCAqIEBwYXJhbSB7aW50fSBjb25maWcudGltZW91dD0zMDAwMCAtIE9wdGlvbmFsOiBIb3cgbG9uZyByZXF1ZXN0cyBzaG91bGQgd2FpdCBiZWZvcmUgdGhleSBlcnJvci5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLnVzZXJJRCAtIE9wdGlvbmFsOiBBIHVzZXIgaWRlbnRpZmllciwgdHJhbnNmb3JtZWQgYnkgYSBvbmUtd2F5IGhhc2hpbmcgYWxnb3JpdGhtLiBVc2VkIGJ5IHlvdXIgTWV0cmljcyBEYXNoYm9hcmQgdG8gdHJhY2sgdXNhZ2UuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy51c2VyTGF0TG9uIC0gT3B0aW9uYWw6IGxhdCxsb24gb3IgdXNlciAoIGVnLiAyOC4zODUyLC04MS41NjM5ICkuIFVzZWQgYnkgeW91ciBNZXRyaWNzIERhc2hib2FyZCB0byB0cmFjayB1c2FnZS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLndpdGhDcmVkZW50aWFscyAtIE9wdGlvbmFsOiBpbmRpY2F0ZXMgd2hldGhlciBvciBub3QgY3Jvc3Mtc2l0ZSBBY2Nlc3MtQ29udHJvbCByZXF1ZXN0cyBzaG91bGQgYmUgbWFkZSB1c2luZyBjcmVkZW50aWFsc1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcuWElCTUNsaWVudElEIC0gT3B0aW9uYWw6IFlvdXIgWC1JQk0tQ2xpZW50LUlkLiBUaGlzIHNob3VsZCBub3QgYmUgbWFkZSBwdWJsaWMgaW4gYSBwdWJsaWMgZW52aXJvbm1lbnQuIEluY2x1ZGluZyB0aGlzIHdpbGwgYWRkIFgtSUJNLUNsaWVudC1JZCBhcyBhIGhlYWRlciB0byB5b3VyIHJlcXVlc3QuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5YSUJNQ2xpZW50U2VjcmV0IC0gT3B0aW9uYWw6IFlvdXIgWC1JQk0tQ2xpZW50LVNlY3JldC4gVGhpcyBzaG91bGQgbm90IGJlIG1hZGUgcHVibGljIGluIGEgcHVibGljIGVudmlyb25tZW50LiBJbmNsdWRpbmcgdGhpcyB3aWxsIGFkZCBYLUlCTS1DbGllbnQtU2VjcmV0IGFzIGEgaGVhZGVyIHRvIHlvdXIgcmVxdWVzdC5cclxuXHQgKiBAZXhhbXBsZVxyXG5cdCAqIFNESy5jb25maWd1cmUoe1xyXG5cdCAqICAgYmFzZVVSTDogJ2h0dHBzOi8vc2VydmVyLm15c2l0ZS5jb20nLFxyXG5cdCAqICAgdXNlcklEOiAncG9pdXl0cmV3cScsXHJcblx0ICogICB1c2VyTGF0TG9uOiAnMjguMzg1MiwtODEuNTYzOSdcclxuXHQgKiB9KTtcclxuXHQgKiBAcmV0dXJucyB7U0RLfSBSZXR1cm5zOiBUaGUgU0RLIHNpbmdsZXRvblxyXG5cdCAqL1xyXG5cdGNvbmZpZ3VyZTogZnVuY3Rpb24oIGNvbmZpZyApIHtcclxuXHRcdGFzc2lnbiggb3B0aW9ucywgY29uZmlnICk7XHJcblx0XHRhcGkgPSBheGlvcy5jcmVhdGUoe1xyXG5cdFx0XHRiYXNlVVJMOiBvcHRpb25zLmJhc2VVUkwsXHJcblx0XHRcdHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCxcclxuXHRcdFx0d2l0aENyZWRlbnRpYWxzOiBvcHRpb25zLndpdGhDcmVkZW50aWFscyxcclxuXHRcdFx0aGVhZGVyczogKG9wdGlvbnMuWElCTUNsaWVudElEICYmIG9wdGlvbnMuWElCTUNsaWVudFNlY3JldCkgPyB7XHJcblx0XHRcdFx0J1gtSUJNLUNsaWVudC1JZCc6IG9wdGlvbnMuWElCTUNsaWVudElELFxyXG5cdFx0XHRcdCdYLUlCTS1DbGllbnQtU2VjcmV0Jzogb3B0aW9ucy5YSUJNQ2xpZW50U2VjcmV0XHJcblx0XHRcdH0gOiB7fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gU0RLO1xyXG5cdH0sXHJcblx0LyoqXHJcblx0ICogU3RhcnQgYSBuZXcgY2hhdCBzZXNzaW9uXHJcblx0ICogQGZ1bmN0aW9uIHN0YXJ0XHJcblx0ICogQG1lbWJlcm9mIFNES1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBib3RJRCAtIFlvdXIgYm90SUQuXHJcblx0ICogQGV4YW1wbGVcclxuXHQgKiBTREsuc3RhcnQoYm90SUQpXHJcblx0ICogICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0ICogICAgICBjb25zb2xlLmxvZyhyZXMuY2hhdElELCByZXMubWVzc2FnZSk7XHJcblx0ICogICAgfSlcclxuXHQgKiAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0ICogICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcblx0ICogICAgfSk7XHJcblx0ICogQHJldHVybnMge1Byb21pc2UoeyBjaGF0SUQ6IFwic3RyaW5nXCIsIG1lc3NhZ2U6IFwic3RyaW5nXCIgfSl9IFJldHVybnM6IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNoYXQgc2Vzc2lvbiBpcyBzdGFydGVkLlxyXG5cdCAqL1xyXG5cdHN0YXJ0OiBmdW5jdGlvbiggYm90SUQgKSB7XHJcblx0XHR2YXIgcmVxdWVzdElEID0gdXVpZCgpO1xyXG5cdFx0dmFyIGRhdGEgPSB7IHVzZXJJRDogb3B0aW9ucy51c2VySUQsIHVzZXJMYXRMb246IG9wdGlvbnMudXNlckxhdExvbiB9O1xyXG5cdFx0dmFyIGVuZHBvaW50ID0gJy9ib3RzLycrIGJvdElEICsnL2RpYWxvZ3MnO1xyXG5cdFx0dmFyIGNvbmZpZyA9IHsgJ2hlYWRlcnMnOiB7ICdYLVJlcXVlc3QtSUQnOiByZXF1ZXN0SUQgfSB9O1xyXG5cdFx0cmV0dXJuIGFwaVxyXG5cdFx0XHQucG9zdCggZW5kcG9pbnQsIGRhdGEsIGNvbmZpZyApXHJcblx0XHRcdC50aGVuKCBmdW5jdGlvbiggcmVzICkge1xyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRjaGF0SUQ6IHJlcy5kYXRhLmRpYWxvZ19pZCxcclxuXHRcdFx0XHRcdG1lc3NhZ2U6IGluc2VydFVzZXJQcm9maWxlRGF0YShyZXMuZGF0YS5tZXNzYWdlKVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0pWydjYXRjaCddKCBmdW5jdGlvbiggZXJyICkge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgZmFpbGVkOicsIHJlcXVlc3RJRCApO1xyXG5cdFx0XHRcdG9uRXJyb3IoIGVyciApO1xyXG5cdFx0XHR9KTtcclxuXHR9LFxyXG5cdC8qKlxyXG5cdCAqIFNlbmQgYSBtZXNzYWdlIHRvIGEgY2hhdCBzZXNzaW9uXHJcblx0ICogQGZ1bmN0aW9uIHNlbmRcclxuXHQgKiBAbWVtYmVyb2YgU0RLXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGJvdElEIC0gWW91ciBib3RJRFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjaGF0SUQgLSBZb3VyIGNoYXRJRCBwcm92aWRlZCBieSBTREsuc3RhcnRcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFlvdXIgbWVzc2FnZVxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0IC0gKG9wdGlvbmFsKSBDb250ZXh0IHZhcmlhYmxlcyB0byBwYXNzIHRvIHlvdXIgW0N1c3RvbSBXb3Jrc3BhY2VzXShodHRwczovL3d3dy5pYm0uY29tL3dhdHNvbi9kZXZlbG9wZXJjbG91ZC9kb2MvY29udmVyc2F0aW9uL2RpYWxvZy1idWlsZC5odG1sI2NvbnRleHQtdmFyaWFibGVzKVxyXG5cdCAqIEBleGFtcGxlXHJcblx0ICogU0RLLnNlbmQoYm90SUQsIGNoYXRJRCwgJ0hlbGxvIScpXHJcblx0ICogICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG5cdCAqICAgICAgY29uc29sZS5sb2coZGF0YS5tZXNzYWdlKTtcclxuXHQgKiAgICB9KVxyXG5cdCAqICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHQgKiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuXHQgKiAgICB9KTtcclxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZSh7IG1lc3NhZ2U6IFwic3RyaW5nXCIgfSl9IFJldHVybnM6IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGJvdCByZXNwb25kcy5cclxuXHQgKi9cclxuXHRzZW5kOiBmdW5jdGlvbiggYm90SUQsIGNoYXRJRCwgbWVzc2FnZSwgY29udGV4dCApIHtcclxuXHRcdHZhciByZXF1ZXN0SUQgPSB1dWlkKCk7XHJcblx0XHR2YXIgZGF0YSA9IHsgbWVzc2FnZTogbWVzc2FnZSwgdXNlcklEOiBvcHRpb25zLnVzZXJJRCwgdXNlckxhdExvbjogb3B0aW9ucy51c2VyTGF0TG9uLCBjb250ZXh0OiBjb250ZXh0IH07XHJcblx0XHR2YXIgZW5kcG9pbnQgPSAnL2JvdHMvJysgYm90SUQgKycvZGlhbG9ncy8nKyBjaGF0SUQgKycvbWVzc2FnZXMnO1xyXG5cdFx0dmFyIGNvbmZpZyA9IHsgJ2hlYWRlcnMnOiB7ICdYLVJlcXVlc3QtSUQnOiByZXF1ZXN0SUQgfSB9O1xyXG5cdFx0cmV0dXJuIGFwaVxyXG5cdFx0XHQucG9zdCggZW5kcG9pbnQsIGRhdGEsIGNvbmZpZyApXHJcblx0XHRcdC50aGVuKCBmdW5jdGlvbiggcmVzICkge1xyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRtZXNzYWdlOiBpbnNlcnRVc2VyUHJvZmlsZURhdGEocmVzLmRhdGEubWVzc2FnZSlcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9KVsnY2F0Y2gnXSggZnVuY3Rpb24oIGVyciApIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdSZXF1ZXN0IGZhaWxlZDonLCByZXF1ZXN0SUQgKTtcclxuXHRcdFx0XHRvbkVycm9yKCBlcnIgKTtcclxuXHRcdFx0fSk7XHJcblx0fSxcclxuXHQvKipcclxuXHQqIEl0ZXJhdGUgcHJvZmlsZSBkYXRhIGludG8gYSBnaXZlbiBtZXNzYWdlIG9iamVjdC5cclxuXHQqIEBtZW1iZXJvZiBTREtcclxuXHQqIEBmdW5jdGlvbiBwYXJzZVxyXG5cdCogQHBhcmFtIHtBbnl9IG1lc3NhZ2UgLSBBIHN0cmluZyBvciBtZXNzYWdlIG9iamVjdCB0byBpbnNlcnQgcHJvZmlsZSBkYXRhIGludG8uXHJcblx0KiBAcmV0dXJucyB7QW55fSBSZXR1cm5zOiBUaGUgbWVzc2FnZSBpbiBvcmlnaW5hbCBmb3JtYXQgd2l0aCB2YXJpYWJsZXMgcmVwbGFjZWQuXHJcblx0KiBAZXhhbXBsZVxyXG5cdCogdmFyIG1lc3NhZ2UgPSBcIllvdSBvd2UgfCZiaWxsX2Ftb3VudHwuXCI7XHJcblx0KiB2YXIgcGFyc2VkID0gU0RLLnBhcnNlKG1lc3NhZ2UpO1xyXG5cdCovXHJcblx0cGFyc2U6IGluc2VydFVzZXJQcm9maWxlRGF0YSxcclxuXHQvKipcclxuXHQgKiBAbmFtZXNwYWNlIHByb2ZpbGVcclxuXHQgKiBAbWVtYmVyb2YgU0RLXHJcblx0ICovXHJcblx0cHJvZmlsZToge1xyXG5cdFx0LyoqXHJcblx0XHQqIEdldCBhbiBpdGVtIGZyb20gdGhlIHVzZXIgcHJvZmlsZSBiYXNlZCBvbiBrZXkuXHJcblx0XHQqIEBtZW1iZXJvZiBTREsucHJvZmlsZVxyXG5cdFx0KiBAZnVuY3Rpb24gZ2V0XHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIGFjY2Vzc2luZy5cclxuXHRcdCogQGV4YW1wbGVcclxuXHRcdCogU0RLLnByb2ZpbGUuZ2V0KCdmaXJzdF9uYW1lJyk7XHJcblx0XHQqIEByZXR1cm5zIHtBbnl9IFJldHVybnM6IHRoZSB2YWx1ZSBvZiB0aGUga2V5IGluIHRoZSBwcm9maWxlIG1hcC5cclxuXHRcdCovXHJcblx0XHRnZXQ6IHN0b3JhZ2UuZ2V0LFxyXG5cdFx0LyoqXHJcblx0XHQqIFNldCBhbiBpdGVtIGZyb20gdGhlIHVzZXIgcHJvZmlsZSBiYXNlZCBvbiBrZXkuXHJcblx0XHQqIEBtZW1iZXJvZiBTREsucHJvZmlsZVxyXG5cdFx0KiBAZnVuY3Rpb24gc2V0XHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIHNldHRpbmcuXHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSB2YWx1ZSB5b3UgYXJlIHNldHRpbmcuXHJcblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cclxuXHRcdCogQGV4YW1wbGVcclxuXHRcdCogU0RLLnByb2ZpbGUuc2V0KCdmaXJzdF9uYW1lJywgJ2pvaG4nKTtcclxuXHRcdCovXHJcblx0XHRzZXQ6IHN0b3JhZ2Uuc2V0LFxyXG5cdFx0LyoqXHJcblx0XHQqIFNlZSBpZiBhbiBpdGVtIGZyb20gdGhlIHVzZXIgcHJvZmlsZSBleGlzdHMgYmFzZWQgb24ga2V5LlxyXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcclxuXHRcdCogQGZ1bmN0aW9uIGhhc1xyXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIG5hbWVkIGtleSBvZiB0aGUgdmFsdWUgeW91IGFyZSBjaGVja2luZyB0aGUgZXhpc3RhbmNlIG9mLlxyXG5cdFx0KiBAZXhhbXBsZVxyXG5cdFx0KiBTREsucHJvZmlsZS5oYXMoJ2ZpcnN0X25hbWUnKTtcclxuXHRcdCogQHJldHVybnMge0Jvb2xlYW59IFJldHVybnM6IEJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUga2V5IGV4aXN0cy5cclxuXHRcdCovXHJcblx0XHRoYXM6IHN0b3JhZ2UuaGFzLFxyXG5cdFx0LyoqXHJcblx0XHQqIENsZWFyIHRoZSBlbnRpcmUgdXNlciBwcm9maWxlLlxyXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcclxuXHRcdCogQGZ1bmN0aW9uIGNsZWFyXHJcblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cclxuXHRcdCogQGV4YW1wbGVcclxuXHRcdCogU0RLLnByb2ZpbGUuY2xlYXIoKTtcclxuXHRcdCovXHJcblx0XHRjbGVhcjogc3RvcmFnZS5jbGVhcixcclxuXHRcdC8qKlxyXG5cdFx0KiBEZWxldGUgYW4gaXRlbSBmcm9tIHRoZSB1c2VyIHByb2ZpbGUgYmFzZWQgb24ga2V5LlxyXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcclxuXHRcdCogQGZ1bmN0aW9uIGRlbGV0ZVxyXG5cdFx0KiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zOiBBbiBpbnN0YW5jZSBvZiBTREsucHJvZmlsZSBmb3IgY2hhaW5pbmcuXHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIGRlbGV0aW5nLlxyXG5cdFx0KiBAZXhhbXBsZVxyXG5cdFx0KiBTREsucHJvZmlsZS5kZWxldGUoJ2ZpcnN0X25hbWUnKTtcclxuXHRcdCovXHJcblx0XHRkZWxldGU6IHN0b3JhZ2UuZGVsZXRlLFxyXG5cdFx0LyoqXHJcblx0XHQqIEl0ZXJhdGUgb3ZlciB0aGUgcHJvZmlsZS5cclxuXHRcdCogQG1lbWJlcm9mIFNESy5wcm9maWxlXHJcblx0XHQqIEBmdW5jdGlvbiBmb3JFYWNoXHJcblx0XHQqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHlvdSBhcmUgY2FsbGluZyBvbiBlYWNoIGl0ZW0gaW4gdGhlIHByb2ZpbGUgb2JqZWN0LiBUaGlzIGZ1bmN0aW9uIGlzIHBhc3NlZCBrZXkgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IGFuZCB2YWx1ZSBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxyXG5cdFx0KiBAcGFyYW0ge09iamVjdH0gdGhpcyAtIChvcHRpb25hbCkgVGhlIGNvbnRleHQgeW91IHdpc2ggdG8gY2FsbCB0aGUgY2FsbGJhY2sgaW4uXHJcblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cclxuXHRcdCogQGV4YW1wbGVcclxuXHRcdCogU0RLLnByb2ZpbGUuZm9yRWFjaChmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcblx0XHQqICAgY29uc29sZS5sb2coa2V5LCB2YWx1ZSk7XHJcblx0XHQqIH0pO1xyXG5cdFx0Ki9cclxuXHRcdGZvckVhY2g6IHN0b3JhZ2UuZm9yRWFjaFxyXG5cdH1cclxufTtcclxuXHJcbnZhciB1dWlkID0gZnVuY3Rpb24oICkge1xyXG5cdHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcclxuXHRcdHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLCB2ID0gYyA9PSAneCcgPyByIDogKHImMHgzfDB4OCk7XHJcblx0XHRyZXR1cm4gdi50b1N0cmluZygxNik7XHJcblx0fSk7XHJcbn07XHJcblxyXG52YXIgb25FcnJvciA9IGZ1bmN0aW9uKCBlcnIgKSB7XHJcblx0aWYgKCAhZXJyLnN0YXR1cyApXHJcblx0XHR0aHJvdyBlcnI7XHJcblx0dmFyIHN0YXR1cyA9IGVyci5zdGF0dXM7XHJcblx0dmFyIHN0YXR1c1RleHQgPSBlcnIuc3RhdHVzVGV4dDtcclxuXHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoIHN0YXR1c1RleHQgKTtcclxuXHRlcnJvci5zdGF0dXMgPSBzdGF0dXM7XHJcblx0dGhyb3cgZXJyb3I7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvc2RrLmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxyXG4qIChDKSBDb3B5cmlnaHQgSUJNIENvcnAuIDIwMTYuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdFxyXG4qIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mXHJcbiogdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxyXG4qIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxyXG4qIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyXHJcbiogdGhlIExpY2Vuc2UuXHJcbiovXHJcblxyXG52YXIgcHJvZmlsZSA9IHt9O1xyXG52YXIgc3RvcmFnZSA9IHtcclxuXHRzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuXHRcdHByb2ZpbGVba2V5XSA9IHZhbHVlO1xyXG5cdFx0cmV0dXJuIHN0b3JhZ2U7XHJcblx0fSxcclxuXHRnZXQ6IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0cmV0dXJuIHByb2ZpbGVba2V5XSB8fCAnJztcclxuXHR9LFxyXG5cdGhhczogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRyZXR1cm4gKHByb2ZpbGVba2V5XSAhPT0gdW5kZWZpbmVkKTtcclxuXHR9LFxyXG5cdGNsZWFyOiBmdW5jdGlvbigpIHtcclxuXHRcdHByb2ZpbGUgPSB7fTtcclxuXHRcdHJldHVybiBzdG9yYWdlO1xyXG5cdH0sXHJcblx0ZGVsZXRlOiBmdW5jdGlvbihrZXkpIHtcclxuXHRcdGRlbGV0ZSBwcm9maWxlW2tleV07XHJcblx0XHRyZXR1cm4gc3RvcmFnZTtcclxuXHR9LFxyXG5cdGZvckVhY2g6IGZ1bmN0aW9uKGNiLCBjb250ZXh0KSB7XHJcblx0XHRPYmplY3Qua2V5cyhwcm9maWxlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0XHRpZiAoY29udGV4dClcclxuXHRcdFx0XHRjYihrZXksIHByb2ZpbGVba2V5XSkuYmluZChjb250ZXh0KTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGNiKGtleSwgcHJvZmlsZVtrZXldKTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHN0b3JhZ2U7XHJcblx0fVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBzdG9yYWdlO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3N0b3JhZ2UuanNcbiAqKiBtb2R1bGUgaWQgPSAyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBmaXJzdCBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgIG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyoqIERldGVjdCBpZiBwcm9wZXJ0aWVzIHNoYWRvd2luZyB0aG9zZSBvbiBgT2JqZWN0LnByb3RvdHlwZWAgYXJlIG5vbi1lbnVtZXJhYmxlLiAqL1xudmFyIG5vbkVudW1TaGFkb3dzID0gIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoeyAndmFsdWVPZic6IDEgfSwgJ3ZhbHVlT2YnKTtcblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAvLyBBdm9pZCBhIGJ1ZyBpbiBJRSAxMC0xMSB3aGVyZSBvYmplY3RzIHdpdGggYSBbW1Byb3RvdHlwZV1dIG9mIGBudWxsYCxcbiAgLy8gdGhhdCBhcmUgY29tcG9zZWQgZW50aXJlbHkgb2YgaW5kZXggcHJvcGVydGllcywgcmV0dXJuIGBmYWxzZWAgZm9yXG4gIC8vIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2tzIG9mIHRoZW0uXG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJlxuICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSB8fFxuICAgICAgKHR5cGVvZiBvYmplY3QgPT0gJ29iamVjdCcgJiYga2V5IGluIG9iamVjdCAmJiBnZXRQcm90b3R5cGUob2JqZWN0KSA9PT0gbnVsbCkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3Qgc2tpcCB0aGUgY29uc3RydWN0b3JcbiAqIHByb3BlcnR5IG9mIHByb3RvdHlwZXMgb3IgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xudmFyIGJhc2VLZXlzID0gb3ZlckFyZyhuYXRpdmVLZXlzLCBPYmplY3QpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSBhcnJheTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlID09PSB1bmRlZmluZWQgPyBzb3VyY2Vba2V5XSA6IG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgdmFsdWUgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhdm9pZCBhXG4gKiBbSklUIGJ1Z10oaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE0Mjc5MikgdGhhdCBhZmZlY3RzXG4gKiBTYWZhcmkgb24gYXQgbGVhc3QgaU9TIDguMS04LjMgQVJNNjQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBcImxlbmd0aFwiIHZhbHVlLlxuICovXG52YXIgZ2V0TGVuZ3RoID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cbiAqL1xudmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcobmF0aXZlR2V0UHJvdG90eXBlLCBPYmplY3QpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgaW5kZXgga2V5cyBmb3IgYG9iamVjdGAgdmFsdWVzIG9mIGFycmF5cyxcbiAqIGBhcmd1bWVudHNgIG9iamVjdHMsIGFuZCBzdHJpbmdzLCBvdGhlcndpc2UgYG51bGxgIGlzIHJldHVybmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl8bnVsbH0gUmV0dXJucyBpbmRleCBrZXlzLCBlbHNlIGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gaW5kZXhLZXlzKG9iamVjdCkge1xuICB2YXIgbGVuZ3RoID0gb2JqZWN0ID8gb2JqZWN0Lmxlbmd0aCA6IHVuZGVmaW5lZDtcbiAgaWYgKGlzTGVuZ3RoKGxlbmd0aCkgJiZcbiAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNTdHJpbmcob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKSkge1xuICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBTdHJpbmcpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIC8vIFNhZmFyaSA4LjEgaW5jb3JyZWN0bHkgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgKCFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJnc1RhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aChnZXRMZW5ndGgodmFsdWUpKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCB3ZWFrIG1hcCBjb25zdHJ1Y3RvcnMsXG4gIC8vIGFuZCBQaGFudG9tSlMgMS45IHdoaWNoIHJldHVybnMgJ2Z1bmN0aW9uJyBmb3IgYE5vZGVMaXN0YCBpbnN0YW5jZXMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N0cmluZygnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N0cmluZygxKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAoIWlzQXJyYXkodmFsdWUpICYmIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbn1cblxuLyoqXG4gKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gKiBTdWJzZXF1ZW50IHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgT2JqZWN0LmFzc2lnbmBdKGh0dHBzOi8vbWRuLmlvL09iamVjdC9hc3NpZ24pLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAc2VlIF8uYXNzaWduSW5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIGZ1bmN0aW9uIEJhcigpIHtcbiAqICAgdGhpcy5jID0gMztcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICovXG52YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgaWYgKG5vbkVudW1TaGFkb3dzIHx8IGlzUHJvdG90eXBlKHNvdXJjZSkgfHwgaXNBcnJheUxpa2Uoc291cmNlKSkge1xuICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCk7XG4gIGlmICghKGlzUHJvdG8gfHwgaXNBcnJheUxpa2Uob2JqZWN0KSkpIHtcbiAgICByZXR1cm4gYmFzZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgaW5kZXhlcyA9IGluZGV4S2V5cyhvYmplY3QpLFxuICAgICAgc2tpcEluZGV4ZXMgPSAhIWluZGV4ZXMsXG4gICAgICByZXN1bHQgPSBpbmRleGVzIHx8IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKGJhc2VIYXMob2JqZWN0LCBrZXkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKGtleSA9PSAnbGVuZ3RoJyB8fCBpc0luZGV4KGtleSwgbGVuZ3RoKSkpICYmXG4gICAgICAgICEoaXNQcm90byAmJiBrZXkgPT0gJ2NvbnN0cnVjdG9yJykpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoLmFzc2lnbi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbmUgY2Fubm90IGJlIHVzZWQgaW5kaXJlY3RcIik7IH07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL2J1aWxkaW4vYW1kLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qIChpZ25vcmVkKSAqL1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogdmVydHggKGlnbm9yZWQpXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=\n\n/***/ },\n/* 6 */\n/*!****************************!*\\\n  !*** ./~/lodash/assign.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar assignValue = __webpack_require__(/*! ./_assignValue */ 12),\n\t    copyObject = __webpack_require__(/*! ./_copyObject */ 31),\n\t    createAssigner = __webpack_require__(/*! ./_createAssigner */ 32),\n\t    isArrayLike = __webpack_require__(/*! ./isArrayLike */ 8),\n\t    isPrototype = __webpack_require__(/*! ./_isPrototype */ 14),\n\t    keys = __webpack_require__(/*! ./keys */ 42);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/** Built-in value references. */\n\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\n\t/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\n\tvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\t\n\t/**\n\t * Assigns own enumerable string keyed properties of source objects to the\n\t * destination object. Source objects are applied from left to right.\n\t * Subsequent sources overwrite property assignments of previous sources.\n\t *\n\t * **Note:** This method mutates `object` and is loosely based on\n\t * [`Object.assign`](https://mdn.io/Object/assign).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.10.0\n\t * @category Object\n\t * @param {Object} object The destination object.\n\t * @param {...Object} [sources] The source objects.\n\t * @returns {Object} Returns `object`.\n\t * @see _.assignIn\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t * }\n\t *\n\t * function Bar() {\n\t *   this.c = 3;\n\t * }\n\t *\n\t * Foo.prototype.b = 2;\n\t * Bar.prototype.d = 4;\n\t *\n\t * _.assign({ 'a': 0 }, new Foo, new Bar);\n\t * // => { 'a': 1, 'c': 3 }\n\t */\n\tvar assign = createAssigner(function(object, source) {\n\t  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n\t    copyObject(source, keys(source), object);\n\t    return;\n\t  }\n\t  for (var key in source) {\n\t    if (hasOwnProperty.call(source, key)) {\n\t      assignValue(object, key, source[key]);\n\t    }\n\t  }\n\t});\n\t\n\tmodule.exports = assign;\n\n\n/***/ },\n/* 7 */\n/*!********************************!*\\\n  !*** ./src/templates/index.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\n\t  input: __webpack_require__(/*! ./input.html */ 58),\n\t  receive: __webpack_require__(/*! ./receive.html */ 60),\n\t  send: __webpack_require__(/*! ./send.html */ 61),\n\t  start: __webpack_require__(/*! ./start.html */ 62),\n\t  loading: __webpack_require__(/*! ./loading.html */ 59)\n\t};\n\n\n/***/ },\n/* 8 */\n/*!*********************************!*\\\n  !*** ./~/lodash/isArrayLike.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isFunction = __webpack_require__(/*! ./isFunction */ 39),\n\t    isLength = __webpack_require__(/*! ./isLength */ 40);\n\t\n\t/**\n\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t * not a function and has a `value.length` that's an integer greater than or\n\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t * @example\n\t *\n\t * _.isArrayLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLike(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLike('abc');\n\t * // => true\n\t *\n\t * _.isArrayLike(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLike(value) {\n\t  return value != null && isLength(value.length) && !isFunction(value);\n\t}\n\t\n\tmodule.exports = isArrayLike;\n\n\n/***/ },\n/* 9 */\n/*!******************************!*\\\n  !*** ./src/profile/index.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 5);\n\tvar profile = BotSDK.profile;\n\t\n\tmodule.exports = profile;\n\n\n/***/ },\n/* 10 */\n/*!***********************!*\\\n  !*** ./src/styles.js ***!\n  \\***********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ./state */ 2);\n\tvar css = __webpack_require__(/*! ./styles.css */ 57);\n\t\n\tvar defaultStyles = {\n\t  background: 'rgba(61, 61, 61, 1)',\n\t  accentBackground: '#BA8FF7',\n\t  accentText: '#ffffff',\n\t  text: '#ffffff',\n\t  link: '#AF6EE8',\n\t  secondaryBackground: 'rgba(90, 90, 90, 1)',\n\t  secondaryText: 'rgba(247, 247, 247, 1)',\n\t  inputBackground: 'rgba(90, 90, 90, 1)',\n\t  inputText: 'rgba(247, 247, 247, 1)',\n\t  errorBackground: '#e86e6e',\n\t  errorText: '#ffffff',\n\t  fontSize: '15px',\n\t  fontFamily: '\"Helvetica Neue\",HelveticaNeue,Helvetica,sans-serif'\n\t};\n\t\n\tfunction _attachStylesToDOM(styles, current) {\n\t  var css = document.createElement('style');\n\t  css.type = \"text/css\";\n\t  css.classList.add('styles-' + current.chatStyleID);\n\t  if (css.styleSheet)\n\t    css.styleSheet.cssText = styles;\n\t  else\n\t    css.appendChild(document.createTextNode(styles));\n\t  document.getElementsByTagName(\"head\")[0].appendChild(css);\n\t}\n\t\n\tfunction _getStyles(current) {\n\t  var containerClass = \".\" + current.chatStyleID;\n\t  var noOpacityBackgroundArray = _hexToRGBArray(normalizeToHex(current.styles.background));\n\t  var noOpacityBackground = \"rgba(\" + noOpacityBackgroundArray[0] + \",\" + noOpacityBackgroundArray[1] + \",\" + noOpacityBackgroundArray[2] + \",0.8)\";\n\t  var opacityBackground = \"rgba(\" + noOpacityBackgroundArray[0] + \",\" + noOpacityBackgroundArray[1] + \",\" + noOpacityBackgroundArray[2] + \",0)\";\n\t  var styles = '';\n\t  styles += containerClass + \"{ overflow:hidden;}\";\n\t  styles += containerClass + \" .IBMChat-outer-container {font-size: \" + current.styles.fontSize + \"; line-height: \" + current.styles.fontSize + \"; font-family: \" + current.styles.fontFamily + \";}\";\n\t  styles += containerClass + \" .IBMChat-outer-container textarea {font-size: \" + current.styles.fontSize + \"; font-family: \" + current.styles.fontFamily + \";}\";\n\t  styles += containerClass + \" .IBMChat-default-colors {background-color: \" + current.styles.background + \"; color: \" + current.styles.text + \";}\";\n\t  styles += containerClass + \" .IBMChat-secondary-colors {background-color: \" + current.styles.secondaryBackground + \"; color: \" + current.styles.secondaryText + \";}\";\n\t  styles += containerClass + \" .IBMChat-secondary-colors-button {background-color: transparent; border: 1px solid \" + current.styles.secondaryBackground + \"; color: \" + current.styles.secondaryBackground + \";}\";\n\t  styles += containerClass + \" .IBMChat-accent-colors {background-color: \" + current.styles.accentBackground + \"; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentText + \";}\";\n\t  styles += containerClass + \" .IBMChat-accent-colors-button {background-color: transparent; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentBackground + \";}\";\n\t  styles += containerClass + \" .IBMChat-accent-colors-button:hover {background-color: \" + current.styles.accentBackground + \"; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentText + \";}\";\n\t  styles += containerClass + \" .IBMChat-accent-colors-button[disabled]:hover {background-color: transparent; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentBackground + \";}\";\n\t  styles += containerClass + \" .IBMChat-error-colors {background-color: \" + current.styles.errorBackground + \"; color: \" + current.styles.errorText + \";}\";\n\t  styles += containerClass + \" .IBMChat-input-colors {background-color: \" + current.styles.inputBackground + \"; color: \" + current.styles.inputText + \"; border-bottom: 1px solid \" + current.styles.inputText + \";}\";\n\t  styles += containerClass + \" .IBMChat-watson-message-line {border-left: 3px solid \" + current.styles.accentBackground + \";}\";\n\t  styles += containerClass + \" a {border: 0; color: \" + current.styles.link + \"; font-weight: normal; text-decoration: none; font-size:1em;}\";\n\t  styles += containerClass + \" a:hover, \";\n\t  styles += containerClass + \" a:visited, \";\n\t  styles += containerClass + \" a:active {color: \" + current.styles.link + \"; font-weight: normal; text-decoration: underline; font-size:1em;}\";\n\t  styles += containerClass + \" .IBMChat-watson-intent a,\" +\n\t                             \" .IBMChat-watson-intent a:hover,\" +\n\t                             \" .IBMChat-watson-intent a:visited,\" +\n\t                             \" .IBMChat-watson-intent a:active {\" +\n\t                             \"   font-weight: bold; text-decoration: underline;\";\n\t  if (current.styles.intentLink) {\n\t    styles +=                \"   color: \" + current.styles.intentLink + \";\";\n\t  }\n\t  styles +=                  \" }\";\n\t  styles += containerClass + \" .IBMChat-chat-textbox {border-bottom: solid 1px \" + current.styles.text + \";}\";\n\t  styles += containerClass + \" .IBMChat-chat-textbox:focus {border-bottom: solid 2px \" + current.styles.accentBackground + \";}\";\n\t  styles += containerClass + \" ::-webkit-input-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \";}\";\n\t  styles += containerClass + \" ::-moz-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \"; opacity: 1;}\";\n\t  styles += containerClass + \" :-ms-input-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \"; opacity: 1;}\";\n\t  styles += containerClass + \" .IBMChat-ball {background-color: \" + normalizeToHex(current.styles.accentBackground) + \";}\";\n\t  styles += containerClass + \" .IBMChat-fade {left: 0; height: 10%; max-height: 32px; position: absolute; top: 0; width: 100%; z-index: 2; background: linear-gradient(to bottom, \" + noOpacityBackground + \" 0%, \" + opacityBackground + \" 100%);}\";\n\t  styles += containerClass + \" .IBMChat-loading-message {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \";}\";\n\t  return styles;\n\t}\n\t\n\tfunction _placeHolderColor(text, background) {\n\t  var rgb_beginning = _hexToRGBArray(normalizeToHex(text)),\n\t    rgb_end = _hexToRGBArray(normalizeToHex(background)),\n\t    p = 0.6,\n\t    w = p * 2 - 1,\n\t    w1 = (w + 1) / 2.0,\n\t    w2 = 1 - w1,\n\t    rgb = [\n\t      parseInt(rgb_beginning[0] * w1 + rgb_end[0] * w2),\n\t      parseInt(rgb_beginning[1] * w1 + rgb_end[1] * w2),\n\t      parseInt(rgb_beginning[2] * w1 + rgb_end[2] * w2)\n\t    ];\n\t  var rgba = 'rgb(' + rgb[0] + ',' + rgb[1] + ',' + rgb[2] + ')';\n\t  return normalizeToHex(rgba);\n\t}\n\t\n\tfunction normalizeToHex(color) {\n\t  function rgb2hex(rgb) {\n\t    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n\t    return (rgb && rgb.length === 4) ?\n\t      (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +\n\t      (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) +\n\t      (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : '';\n\t  }\n\t  if (color.indexOf('#') > -1)\n\t    return color;\n\t  else\n\t    return '#' + rgb2hex(color);\n\t}\n\t\n\tfunction _hexToRGBArray(hex) {\n\t  var rgb = [];\n\t  hex = hex.replace('#', '');\n\t  rgb.push(parseInt(hex.substring(0, 2), 16));\n\t  rgb.push(parseInt(hex.substring(2, 4), 16));\n\t  rgb.push(parseInt(hex.substring(4, 6), 16));\n\t  return rgb;\n\t}\n\t\n\tfunction convertHexToRGBA(hex, opacity) {\n\t  var rgb = _hexToRGBArray(hex),\n\t    r = rgb[0],\n\t    g = rgb[1],\n\t    b = rgb[2];\n\t  return 'rgba(' + r + ',' + g + ',' + b + ',' + opacity / 100 + ')';\n\t}\n\t\n\t\n\tfunction attachPlaybackStyles(chatID) {\n\t  var current = state.get()[chatID];\n\t  var styles = _getStyles(current);\n\t  _attachStylesToDOM(styles);\n\t}\n\t\n\tfunction attachStyles() {\n\t  var current = state.get();\n\t  var styles = _getStyles(current);\n\t  _attachStylesToDOM(css, current);\n\t  _attachStylesToDOM(styles, current);\n\t}\n\t\n\tfunction removeStyles(root, chatStyleID, chatID) {\n\t  var elements = document.querySelectorAll('.styles-' + chatStyleID);\n\t  if (elements && elements.length > 0) {\n\t    for (var i = 0; elements.length > i; i++)\n\t      elements[i].parentNode.removeChild(elements[i]);\n\t  }\n\t  if (root)\n\t    root.classList.remove('IBMChat-isLarge', 'IBMChat-relative', chatStyleID, 'chatID-' + chatID);\n\t}\n\t\n\tmodule.exports = {\n\t  defaultStyles: defaultStyles,\n\t  attachStyles: attachStyles,\n\t  removeStyles: removeStyles,\n\t  attachPlaybackStyles: attachPlaybackStyles,\n\t  convertHexToRGBA: convertHexToRGBA,\n\t  normalizeToHex: normalizeToHex\n\t};\n\n\n/***/ },\n/* 11 */\n/*!*******************************************!*\\\n  !*** ./~/intl-messageformat/lib/utils.js ***!\n  \\*******************************************/\n/***/ function(module, exports) {\n\n\t/*\n\tCopyright (c) 2014, Yahoo! Inc. All rights reserved.\n\tCopyrights licensed under the New BSD License.\n\tSee the accompanying LICENSE file for terms.\n\t*/\n\t\n\t/* jslint esnext: true */\n\t\n\t\"use strict\";\n\texports.extend = extend;\n\tvar hop = Object.prototype.hasOwnProperty;\n\t\n\tfunction extend(obj) {\n\t    var sources = Array.prototype.slice.call(arguments, 1),\n\t        i, len, source, key;\n\t\n\t    for (i = 0, len = sources.length; i < len; i += 1) {\n\t        source = sources[i];\n\t        if (!source) { continue; }\n\t\n\t        for (key in source) {\n\t            if (hop.call(source, key)) {\n\t                obj[key] = source[key];\n\t            }\n\t        }\n\t    }\n\t\n\t    return obj;\n\t}\n\texports.hop = hop;\n\t\n\t//# sourceMappingURL=utils.js.map\n\n/***/ },\n/* 12 */\n/*!**********************************!*\\\n  !*** ./~/lodash/_assignValue.js ***!\n  \\**********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar eq = __webpack_require__(/*! ./eq */ 15);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Assigns `value` to `key` of `object` if the existing value is not equivalent\n\t * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n\t * for equality comparisons.\n\t *\n\t * @private\n\t * @param {Object} object The object to modify.\n\t * @param {string} key The key of the property to assign.\n\t * @param {*} value The value to assign.\n\t */\n\tfunction assignValue(object, key, value) {\n\t  var objValue = object[key];\n\t  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n\t      (value === undefined && !(key in object))) {\n\t    object[key] = value;\n\t  }\n\t}\n\t\n\tmodule.exports = assignValue;\n\n\n/***/ },\n/* 13 */\n/*!******************************!*\\\n  !*** ./~/lodash/_isIndex.js ***!\n  \\******************************/\n/***/ function(module, exports) {\n\n\t/** Used as references for various `Number` constants. */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\n\t/** Used to detect unsigned integer values. */\n\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\t\n\t/**\n\t * Checks if `value` is a valid array-like index.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n\t * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n\t */\n\tfunction isIndex(value, length) {\n\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t  return !!length &&\n\t    (typeof value == 'number' || reIsUint.test(value)) &&\n\t    (value > -1 && value % 1 == 0 && value < length);\n\t}\n\t\n\tmodule.exports = isIndex;\n\n\n/***/ },\n/* 14 */\n/*!**********************************!*\\\n  !*** ./~/lodash/_isPrototype.js ***!\n  \\**********************************/\n/***/ function(module, exports) {\n\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/**\n\t * Checks if `value` is likely a prototype object.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n\t */\n\tfunction isPrototype(value) {\n\t  var Ctor = value && value.constructor,\n\t      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\t\n\t  return value === proto;\n\t}\n\t\n\tmodule.exports = isPrototype;\n\n\n/***/ },\n/* 15 */\n/*!************************!*\\\n  !*** ./~/lodash/eq.js ***!\n  \\************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * Performs a\n\t * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n\t * comparison between two values to determine if they are equivalent.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to compare.\n\t * @param {*} other The other value to compare.\n\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t * @example\n\t *\n\t * var object = { 'a': 1 };\n\t * var other = { 'a': 1 };\n\t *\n\t * _.eq(object, object);\n\t * // => true\n\t *\n\t * _.eq(object, other);\n\t * // => false\n\t *\n\t * _.eq('a', 'a');\n\t * // => true\n\t *\n\t * _.eq('a', Object('a'));\n\t * // => false\n\t *\n\t * _.eq(NaN, NaN);\n\t * // => true\n\t */\n\tfunction eq(value, other) {\n\t  return value === other || (value !== value && other !== other);\n\t}\n\t\n\tmodule.exports = eq;\n\n\n/***/ },\n/* 16 */\n/*!******************************!*\\\n  !*** ./~/lodash/isObject.js ***!\n  \\******************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * Checks if `value` is the\n\t * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n\t * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t * @example\n\t *\n\t * _.isObject({});\n\t * // => true\n\t *\n\t * _.isObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObject(_.noop);\n\t * // => true\n\t *\n\t * _.isObject(null);\n\t * // => false\n\t */\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\t\n\tmodule.exports = isObject;\n\n\n/***/ },\n/* 17 */\n/*!**********************************************!*\\\n  !*** ./~/intl-messageformat-parser/index.js ***!\n  \\**********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports = module.exports = __webpack_require__(/*! ./lib/parser */ 18)['default'];\n\texports['default'] = exports;\n\n\n/***/ },\n/* 18 */\n/*!***************************************************!*\\\n  !*** ./~/intl-messageformat-parser/lib/parser.js ***!\n  \\***************************************************/\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports[\"default\"] = (function() {\n\t  /*\n\t   * Generated by PEG.js 0.8.0.\n\t   *\n\t   * http://pegjs.majda.cz/\n\t   */\n\t\n\t  function peg$subclass(child, parent) {\n\t    function ctor() { this.constructor = child; }\n\t    ctor.prototype = parent.prototype;\n\t    child.prototype = new ctor();\n\t  }\n\t\n\t  function SyntaxError(message, expected, found, offset, line, column) {\n\t    this.message  = message;\n\t    this.expected = expected;\n\t    this.found    = found;\n\t    this.offset   = offset;\n\t    this.line     = line;\n\t    this.column   = column;\n\t\n\t    this.name     = \"SyntaxError\";\n\t  }\n\t\n\t  peg$subclass(SyntaxError, Error);\n\t\n\t  function parse(input) {\n\t    var options = arguments.length > 1 ? arguments[1] : {},\n\t\n\t        peg$FAILED = {},\n\t\n\t        peg$startRuleFunctions = { start: peg$parsestart },\n\t        peg$startRuleFunction  = peg$parsestart,\n\t\n\t        peg$c0 = [],\n\t        peg$c1 = function(elements) {\n\t                return {\n\t                    type    : 'messageFormatPattern',\n\t                    elements: elements\n\t                };\n\t            },\n\t        peg$c2 = peg$FAILED,\n\t        peg$c3 = function(text) {\n\t                var string = '',\n\t                    i, j, outerLen, inner, innerLen;\n\t\n\t                for (i = 0, outerLen = text.length; i < outerLen; i += 1) {\n\t                    inner = text[i];\n\t\n\t                    for (j = 0, innerLen = inner.length; j < innerLen; j += 1) {\n\t                        string += inner[j];\n\t                    }\n\t                }\n\t\n\t                return string;\n\t            },\n\t        peg$c4 = function(messageText) {\n\t                return {\n\t                    type : 'messageTextElement',\n\t                    value: messageText\n\t                };\n\t            },\n\t        peg$c5 = /^[^ \\t\\n\\r,.+={}#]/,\n\t        peg$c6 = { type: \"class\", value: \"[^ \\\\t\\\\n\\\\r,.+={}#]\", description: \"[^ \\\\t\\\\n\\\\r,.+={}#]\" },\n\t        peg$c7 = \"{\",\n\t        peg$c8 = { type: \"literal\", value: \"{\", description: \"\\\"{\\\"\" },\n\t        peg$c9 = null,\n\t        peg$c10 = \",\",\n\t        peg$c11 = { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n\t        peg$c12 = \"}\",\n\t        peg$c13 = { type: \"literal\", value: \"}\", description: \"\\\"}\\\"\" },\n\t        peg$c14 = function(id, format) {\n\t                return {\n\t                    type  : 'argumentElement',\n\t                    id    : id,\n\t                    format: format && format[2]\n\t                };\n\t            },\n\t        peg$c15 = \"number\",\n\t        peg$c16 = { type: \"literal\", value: \"number\", description: \"\\\"number\\\"\" },\n\t        peg$c17 = \"date\",\n\t        peg$c18 = { type: \"literal\", value: \"date\", description: \"\\\"date\\\"\" },\n\t        peg$c19 = \"time\",\n\t        peg$c20 = { type: \"literal\", value: \"time\", description: \"\\\"time\\\"\" },\n\t        peg$c21 = function(type, style) {\n\t                return {\n\t                    type : type + 'Format',\n\t                    style: style && style[2]\n\t                };\n\t            },\n\t        peg$c22 = \"plural\",\n\t        peg$c23 = { type: \"literal\", value: \"plural\", description: \"\\\"plural\\\"\" },\n\t        peg$c24 = function(pluralStyle) {\n\t                return {\n\t                    type   : pluralStyle.type,\n\t                    ordinal: false,\n\t                    offset : pluralStyle.offset || 0,\n\t                    options: pluralStyle.options\n\t                };\n\t            },\n\t        peg$c25 = \"selectordinal\",\n\t        peg$c26 = { type: \"literal\", value: \"selectordinal\", description: \"\\\"selectordinal\\\"\" },\n\t        peg$c27 = function(pluralStyle) {\n\t                return {\n\t                    type   : pluralStyle.type,\n\t                    ordinal: true,\n\t                    offset : pluralStyle.offset || 0,\n\t                    options: pluralStyle.options\n\t                }\n\t            },\n\t        peg$c28 = \"select\",\n\t        peg$c29 = { type: \"literal\", value: \"select\", description: \"\\\"select\\\"\" },\n\t        peg$c30 = function(options) {\n\t                return {\n\t                    type   : 'selectFormat',\n\t                    options: options\n\t                };\n\t            },\n\t        peg$c31 = \"=\",\n\t        peg$c32 = { type: \"literal\", value: \"=\", description: \"\\\"=\\\"\" },\n\t        peg$c33 = function(selector, pattern) {\n\t                return {\n\t                    type    : 'optionalFormatPattern',\n\t                    selector: selector,\n\t                    value   : pattern\n\t                };\n\t            },\n\t        peg$c34 = \"offset:\",\n\t        peg$c35 = { type: \"literal\", value: \"offset:\", description: \"\\\"offset:\\\"\" },\n\t        peg$c36 = function(number) {\n\t                return number;\n\t            },\n\t        peg$c37 = function(offset, options) {\n\t                return {\n\t                    type   : 'pluralFormat',\n\t                    offset : offset,\n\t                    options: options\n\t                };\n\t            },\n\t        peg$c38 = { type: \"other\", description: \"whitespace\" },\n\t        peg$c39 = /^[ \\t\\n\\r]/,\n\t        peg$c40 = { type: \"class\", value: \"[ \\\\t\\\\n\\\\r]\", description: \"[ \\\\t\\\\n\\\\r]\" },\n\t        peg$c41 = { type: \"other\", description: \"optionalWhitespace\" },\n\t        peg$c42 = /^[0-9]/,\n\t        peg$c43 = { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n\t        peg$c44 = /^[0-9a-f]/i,\n\t        peg$c45 = { type: \"class\", value: \"[0-9a-f]i\", description: \"[0-9a-f]i\" },\n\t        peg$c46 = \"0\",\n\t        peg$c47 = { type: \"literal\", value: \"0\", description: \"\\\"0\\\"\" },\n\t        peg$c48 = /^[1-9]/,\n\t        peg$c49 = { type: \"class\", value: \"[1-9]\", description: \"[1-9]\" },\n\t        peg$c50 = function(digits) {\n\t            return parseInt(digits, 10);\n\t        },\n\t        peg$c51 = /^[^{}\\\\\\0-\\x1F \\t\\n\\r]/,\n\t        peg$c52 = { type: \"class\", value: \"[^{}\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\", description: \"[^{}\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\" },\n\t        peg$c53 = \"\\\\\\\\\",\n\t        peg$c54 = { type: \"literal\", value: \"\\\\\\\\\", description: \"\\\"\\\\\\\\\\\\\\\\\\\"\" },\n\t        peg$c55 = function() { return '\\\\'; },\n\t        peg$c56 = \"\\\\#\",\n\t        peg$c57 = { type: \"literal\", value: \"\\\\#\", description: \"\\\"\\\\\\\\#\\\"\" },\n\t        peg$c58 = function() { return '\\\\#'; },\n\t        peg$c59 = \"\\\\{\",\n\t        peg$c60 = { type: \"literal\", value: \"\\\\{\", description: \"\\\"\\\\\\\\{\\\"\" },\n\t        peg$c61 = function() { return '\\u007B'; },\n\t        peg$c62 = \"\\\\}\",\n\t        peg$c63 = { type: \"literal\", value: \"\\\\}\", description: \"\\\"\\\\\\\\}\\\"\" },\n\t        peg$c64 = function() { return '\\u007D'; },\n\t        peg$c65 = \"\\\\u\",\n\t        peg$c66 = { type: \"literal\", value: \"\\\\u\", description: \"\\\"\\\\\\\\u\\\"\" },\n\t        peg$c67 = function(digits) {\n\t                return String.fromCharCode(parseInt(digits, 16));\n\t            },\n\t        peg$c68 = function(chars) { return chars.join(''); },\n\t\n\t        peg$currPos          = 0,\n\t        peg$reportedPos      = 0,\n\t        peg$cachedPos        = 0,\n\t        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },\n\t        peg$maxFailPos       = 0,\n\t        peg$maxFailExpected  = [],\n\t        peg$silentFails      = 0,\n\t\n\t        peg$result;\n\t\n\t    if (\"startRule\" in options) {\n\t      if (!(options.startRule in peg$startRuleFunctions)) {\n\t        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n\t      }\n\t\n\t      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n\t    }\n\t\n\t    function text() {\n\t      return input.substring(peg$reportedPos, peg$currPos);\n\t    }\n\t\n\t    function offset() {\n\t      return peg$reportedPos;\n\t    }\n\t\n\t    function line() {\n\t      return peg$computePosDetails(peg$reportedPos).line;\n\t    }\n\t\n\t    function column() {\n\t      return peg$computePosDetails(peg$reportedPos).column;\n\t    }\n\t\n\t    function expected(description) {\n\t      throw peg$buildException(\n\t        null,\n\t        [{ type: \"other\", description: description }],\n\t        peg$reportedPos\n\t      );\n\t    }\n\t\n\t    function error(message) {\n\t      throw peg$buildException(message, null, peg$reportedPos);\n\t    }\n\t\n\t    function peg$computePosDetails(pos) {\n\t      function advance(details, startPos, endPos) {\n\t        var p, ch;\n\t\n\t        for (p = startPos; p < endPos; p++) {\n\t          ch = input.charAt(p);\n\t          if (ch === \"\\n\") {\n\t            if (!details.seenCR) { details.line++; }\n\t            details.column = 1;\n\t            details.seenCR = false;\n\t          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n\t            details.line++;\n\t            details.column = 1;\n\t            details.seenCR = true;\n\t          } else {\n\t            details.column++;\n\t            details.seenCR = false;\n\t          }\n\t        }\n\t      }\n\t\n\t      if (peg$cachedPos !== pos) {\n\t        if (peg$cachedPos > pos) {\n\t          peg$cachedPos = 0;\n\t          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };\n\t        }\n\t        advance(peg$cachedPosDetails, peg$cachedPos, pos);\n\t        peg$cachedPos = pos;\n\t      }\n\t\n\t      return peg$cachedPosDetails;\n\t    }\n\t\n\t    function peg$fail(expected) {\n\t      if (peg$currPos < peg$maxFailPos) { return; }\n\t\n\t      if (peg$currPos > peg$maxFailPos) {\n\t        peg$maxFailPos = peg$currPos;\n\t        peg$maxFailExpected = [];\n\t      }\n\t\n\t      peg$maxFailExpected.push(expected);\n\t    }\n\t\n\t    function peg$buildException(message, expected, pos) {\n\t      function cleanupExpected(expected) {\n\t        var i = 1;\n\t\n\t        expected.sort(function(a, b) {\n\t          if (a.description < b.description) {\n\t            return -1;\n\t          } else if (a.description > b.description) {\n\t            return 1;\n\t          } else {\n\t            return 0;\n\t          }\n\t        });\n\t\n\t        while (i < expected.length) {\n\t          if (expected[i - 1] === expected[i]) {\n\t            expected.splice(i, 1);\n\t          } else {\n\t            i++;\n\t          }\n\t        }\n\t      }\n\t\n\t      function buildMessage(expected, found) {\n\t        function stringEscape(s) {\n\t          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\t\n\t          return s\n\t            .replace(/\\\\/g,   '\\\\\\\\')\n\t            .replace(/\"/g,    '\\\\\"')\n\t            .replace(/\\x08/g, '\\\\b')\n\t            .replace(/\\t/g,   '\\\\t')\n\t            .replace(/\\n/g,   '\\\\n')\n\t            .replace(/\\f/g,   '\\\\f')\n\t            .replace(/\\r/g,   '\\\\r')\n\t            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n\t            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n\t            .replace(/[\\u0180-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n\t            .replace(/[\\u1080-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n\t        }\n\t\n\t        var expectedDescs = new Array(expected.length),\n\t            expectedDesc, foundDesc, i;\n\t\n\t        for (i = 0; i < expected.length; i++) {\n\t          expectedDescs[i] = expected[i].description;\n\t        }\n\t\n\t        expectedDesc = expected.length > 1\n\t          ? expectedDescs.slice(0, -1).join(\", \")\n\t              + \" or \"\n\t              + expectedDescs[expected.length - 1]\n\t          : expectedDescs[0];\n\t\n\t        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\t\n\t        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n\t      }\n\t\n\t      var posDetails = peg$computePosDetails(pos),\n\t          found      = pos < input.length ? input.charAt(pos) : null;\n\t\n\t      if (expected !== null) {\n\t        cleanupExpected(expected);\n\t      }\n\t\n\t      return new SyntaxError(\n\t        message !== null ? message : buildMessage(expected, found),\n\t        expected,\n\t        found,\n\t        pos,\n\t        posDetails.line,\n\t        posDetails.column\n\t      );\n\t    }\n\t\n\t    function peg$parsestart() {\n\t      var s0;\n\t\n\t      s0 = peg$parsemessageFormatPattern();\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsemessageFormatPattern() {\n\t      var s0, s1, s2;\n\t\n\t      s0 = peg$currPos;\n\t      s1 = [];\n\t      s2 = peg$parsemessageFormatElement();\n\t      while (s2 !== peg$FAILED) {\n\t        s1.push(s2);\n\t        s2 = peg$parsemessageFormatElement();\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        peg$reportedPos = s0;\n\t        s1 = peg$c1(s1);\n\t      }\n\t      s0 = s1;\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsemessageFormatElement() {\n\t      var s0;\n\t\n\t      s0 = peg$parsemessageTextElement();\n\t      if (s0 === peg$FAILED) {\n\t        s0 = peg$parseargumentElement();\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsemessageText() {\n\t      var s0, s1, s2, s3, s4, s5;\n\t\n\t      s0 = peg$currPos;\n\t      s1 = [];\n\t      s2 = peg$currPos;\n\t      s3 = peg$parse_();\n\t      if (s3 !== peg$FAILED) {\n\t        s4 = peg$parsechars();\n\t        if (s4 !== peg$FAILED) {\n\t          s5 = peg$parse_();\n\t          if (s5 !== peg$FAILED) {\n\t            s3 = [s3, s4, s5];\n\t            s2 = s3;\n\t          } else {\n\t            peg$currPos = s2;\n\t            s2 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s2;\n\t          s2 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s2;\n\t        s2 = peg$c2;\n\t      }\n\t      if (s2 !== peg$FAILED) {\n\t        while (s2 !== peg$FAILED) {\n\t          s1.push(s2);\n\t          s2 = peg$currPos;\n\t          s3 = peg$parse_();\n\t          if (s3 !== peg$FAILED) {\n\t            s4 = peg$parsechars();\n\t            if (s4 !== peg$FAILED) {\n\t              s5 = peg$parse_();\n\t              if (s5 !== peg$FAILED) {\n\t                s3 = [s3, s4, s5];\n\t                s2 = s3;\n\t              } else {\n\t                peg$currPos = s2;\n\t                s2 = peg$c2;\n\t              }\n\t            } else {\n\t              peg$currPos = s2;\n\t              s2 = peg$c2;\n\t            }\n\t          } else {\n\t            peg$currPos = s2;\n\t            s2 = peg$c2;\n\t          }\n\t        }\n\t      } else {\n\t        s1 = peg$c2;\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        peg$reportedPos = s0;\n\t        s1 = peg$c3(s1);\n\t      }\n\t      s0 = s1;\n\t      if (s0 === peg$FAILED) {\n\t        s0 = peg$currPos;\n\t        s1 = peg$parsews();\n\t        if (s1 !== peg$FAILED) {\n\t          s1 = input.substring(s0, peg$currPos);\n\t        }\n\t        s0 = s1;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsemessageTextElement() {\n\t      var s0, s1;\n\t\n\t      s0 = peg$currPos;\n\t      s1 = peg$parsemessageText();\n\t      if (s1 !== peg$FAILED) {\n\t        peg$reportedPos = s0;\n\t        s1 = peg$c4(s1);\n\t      }\n\t      s0 = s1;\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parseargument() {\n\t      var s0, s1, s2;\n\t\n\t      s0 = peg$parsenumber();\n\t      if (s0 === peg$FAILED) {\n\t        s0 = peg$currPos;\n\t        s1 = [];\n\t        if (peg$c5.test(input.charAt(peg$currPos))) {\n\t          s2 = input.charAt(peg$currPos);\n\t          peg$currPos++;\n\t        } else {\n\t          s2 = peg$FAILED;\n\t          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n\t        }\n\t        if (s2 !== peg$FAILED) {\n\t          while (s2 !== peg$FAILED) {\n\t            s1.push(s2);\n\t            if (peg$c5.test(input.charAt(peg$currPos))) {\n\t              s2 = input.charAt(peg$currPos);\n\t              peg$currPos++;\n\t            } else {\n\t              s2 = peg$FAILED;\n\t              if (peg$silentFails === 0) { peg$fail(peg$c6); }\n\t            }\n\t          }\n\t        } else {\n\t          s1 = peg$c2;\n\t        }\n\t        if (s1 !== peg$FAILED) {\n\t          s1 = input.substring(s0, peg$currPos);\n\t        }\n\t        s0 = s1;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parseargumentElement() {\n\t      var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\t\n\t      s0 = peg$currPos;\n\t      if (input.charCodeAt(peg$currPos) === 123) {\n\t        s1 = peg$c7;\n\t        peg$currPos++;\n\t      } else {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c8); }\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        s2 = peg$parse_();\n\t        if (s2 !== peg$FAILED) {\n\t          s3 = peg$parseargument();\n\t          if (s3 !== peg$FAILED) {\n\t            s4 = peg$parse_();\n\t            if (s4 !== peg$FAILED) {\n\t              s5 = peg$currPos;\n\t              if (input.charCodeAt(peg$currPos) === 44) {\n\t                s6 = peg$c10;\n\t                peg$currPos++;\n\t              } else {\n\t                s6 = peg$FAILED;\n\t                if (peg$silentFails === 0) { peg$fail(peg$c11); }\n\t              }\n\t              if (s6 !== peg$FAILED) {\n\t                s7 = peg$parse_();\n\t                if (s7 !== peg$FAILED) {\n\t                  s8 = peg$parseelementFormat();\n\t                  if (s8 !== peg$FAILED) {\n\t                    s6 = [s6, s7, s8];\n\t                    s5 = s6;\n\t                  } else {\n\t                    peg$currPos = s5;\n\t                    s5 = peg$c2;\n\t                  }\n\t                } else {\n\t                  peg$currPos = s5;\n\t                  s5 = peg$c2;\n\t                }\n\t              } else {\n\t                peg$currPos = s5;\n\t                s5 = peg$c2;\n\t              }\n\t              if (s5 === peg$FAILED) {\n\t                s5 = peg$c9;\n\t              }\n\t              if (s5 !== peg$FAILED) {\n\t                s6 = peg$parse_();\n\t                if (s6 !== peg$FAILED) {\n\t                  if (input.charCodeAt(peg$currPos) === 125) {\n\t                    s7 = peg$c12;\n\t                    peg$currPos++;\n\t                  } else {\n\t                    s7 = peg$FAILED;\n\t                    if (peg$silentFails === 0) { peg$fail(peg$c13); }\n\t                  }\n\t                  if (s7 !== peg$FAILED) {\n\t                    peg$reportedPos = s0;\n\t                    s1 = peg$c14(s3, s5);\n\t                    s0 = s1;\n\t                  } else {\n\t                    peg$currPos = s0;\n\t                    s0 = peg$c2;\n\t                  }\n\t                } else {\n\t                  peg$currPos = s0;\n\t                  s0 = peg$c2;\n\t                }\n\t              } else {\n\t                peg$currPos = s0;\n\t                s0 = peg$c2;\n\t              }\n\t            } else {\n\t              peg$currPos = s0;\n\t              s0 = peg$c2;\n\t            }\n\t          } else {\n\t            peg$currPos = s0;\n\t            s0 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s0;\n\t          s0 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s0;\n\t        s0 = peg$c2;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parseelementFormat() {\n\t      var s0;\n\t\n\t      s0 = peg$parsesimpleFormat();\n\t      if (s0 === peg$FAILED) {\n\t        s0 = peg$parsepluralFormat();\n\t        if (s0 === peg$FAILED) {\n\t          s0 = peg$parseselectOrdinalFormat();\n\t          if (s0 === peg$FAILED) {\n\t            s0 = peg$parseselectFormat();\n\t          }\n\t        }\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsesimpleFormat() {\n\t      var s0, s1, s2, s3, s4, s5, s6;\n\t\n\t      s0 = peg$currPos;\n\t      if (input.substr(peg$currPos, 6) === peg$c15) {\n\t        s1 = peg$c15;\n\t        peg$currPos += 6;\n\t      } else {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c16); }\n\t      }\n\t      if (s1 === peg$FAILED) {\n\t        if (input.substr(peg$currPos, 4) === peg$c17) {\n\t          s1 = peg$c17;\n\t          peg$currPos += 4;\n\t        } else {\n\t          s1 = peg$FAILED;\n\t          if (peg$silentFails === 0) { peg$fail(peg$c18); }\n\t        }\n\t        if (s1 === peg$FAILED) {\n\t          if (input.substr(peg$currPos, 4) === peg$c19) {\n\t            s1 = peg$c19;\n\t            peg$currPos += 4;\n\t          } else {\n\t            s1 = peg$FAILED;\n\t            if (peg$silentFails === 0) { peg$fail(peg$c20); }\n\t          }\n\t        }\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        s2 = peg$parse_();\n\t        if (s2 !== peg$FAILED) {\n\t          s3 = peg$currPos;\n\t          if (input.charCodeAt(peg$currPos) === 44) {\n\t            s4 = peg$c10;\n\t            peg$currPos++;\n\t          } else {\n\t            s4 = peg$FAILED;\n\t            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n\t          }\n\t          if (s4 !== peg$FAILED) {\n\t            s5 = peg$parse_();\n\t            if (s5 !== peg$FAILED) {\n\t              s6 = peg$parsechars();\n\t              if (s6 !== peg$FAILED) {\n\t                s4 = [s4, s5, s6];\n\t                s3 = s4;\n\t              } else {\n\t                peg$currPos = s3;\n\t                s3 = peg$c2;\n\t              }\n\t            } else {\n\t              peg$currPos = s3;\n\t              s3 = peg$c2;\n\t            }\n\t          } else {\n\t            peg$currPos = s3;\n\t            s3 = peg$c2;\n\t          }\n\t          if (s3 === peg$FAILED) {\n\t            s3 = peg$c9;\n\t          }\n\t          if (s3 !== peg$FAILED) {\n\t            peg$reportedPos = s0;\n\t            s1 = peg$c21(s1, s3);\n\t            s0 = s1;\n\t          } else {\n\t            peg$currPos = s0;\n\t            s0 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s0;\n\t          s0 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s0;\n\t        s0 = peg$c2;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsepluralFormat() {\n\t      var s0, s1, s2, s3, s4, s5;\n\t\n\t      s0 = peg$currPos;\n\t      if (input.substr(peg$currPos, 6) === peg$c22) {\n\t        s1 = peg$c22;\n\t        peg$currPos += 6;\n\t      } else {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c23); }\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        s2 = peg$parse_();\n\t        if (s2 !== peg$FAILED) {\n\t          if (input.charCodeAt(peg$currPos) === 44) {\n\t            s3 = peg$c10;\n\t            peg$currPos++;\n\t          } else {\n\t            s3 = peg$FAILED;\n\t            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n\t          }\n\t          if (s3 !== peg$FAILED) {\n\t            s4 = peg$parse_();\n\t            if (s4 !== peg$FAILED) {\n\t              s5 = peg$parsepluralStyle();\n\t              if (s5 !== peg$FAILED) {\n\t                peg$reportedPos = s0;\n\t                s1 = peg$c24(s5);\n\t                s0 = s1;\n\t              } else {\n\t                peg$currPos = s0;\n\t                s0 = peg$c2;\n\t              }\n\t            } else {\n\t              peg$currPos = s0;\n\t              s0 = peg$c2;\n\t            }\n\t          } else {\n\t            peg$currPos = s0;\n\t            s0 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s0;\n\t          s0 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s0;\n\t        s0 = peg$c2;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parseselectOrdinalFormat() {\n\t      var s0, s1, s2, s3, s4, s5;\n\t\n\t      s0 = peg$currPos;\n\t      if (input.substr(peg$currPos, 13) === peg$c25) {\n\t        s1 = peg$c25;\n\t        peg$currPos += 13;\n\t      } else {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c26); }\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        s2 = peg$parse_();\n\t        if (s2 !== peg$FAILED) {\n\t          if (input.charCodeAt(peg$currPos) === 44) {\n\t            s3 = peg$c10;\n\t            peg$currPos++;\n\t          } else {\n\t            s3 = peg$FAILED;\n\t            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n\t          }\n\t          if (s3 !== peg$FAILED) {\n\t            s4 = peg$parse_();\n\t            if (s4 !== peg$FAILED) {\n\t              s5 = peg$parsepluralStyle();\n\t              if (s5 !== peg$FAILED) {\n\t                peg$reportedPos = s0;\n\t                s1 = peg$c27(s5);\n\t                s0 = s1;\n\t              } else {\n\t                peg$currPos = s0;\n\t                s0 = peg$c2;\n\t              }\n\t            } else {\n\t              peg$currPos = s0;\n\t              s0 = peg$c2;\n\t            }\n\t          } else {\n\t            peg$currPos = s0;\n\t            s0 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s0;\n\t          s0 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s0;\n\t        s0 = peg$c2;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parseselectFormat() {\n\t      var s0, s1, s2, s3, s4, s5, s6;\n\t\n\t      s0 = peg$currPos;\n\t      if (input.substr(peg$currPos, 6) === peg$c28) {\n\t        s1 = peg$c28;\n\t        peg$currPos += 6;\n\t      } else {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c29); }\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        s2 = peg$parse_();\n\t        if (s2 !== peg$FAILED) {\n\t          if (input.charCodeAt(peg$currPos) === 44) {\n\t            s3 = peg$c10;\n\t            peg$currPos++;\n\t          } else {\n\t            s3 = peg$FAILED;\n\t            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n\t          }\n\t          if (s3 !== peg$FAILED) {\n\t            s4 = peg$parse_();\n\t            if (s4 !== peg$FAILED) {\n\t              s5 = [];\n\t              s6 = peg$parseoptionalFormatPattern();\n\t              if (s6 !== peg$FAILED) {\n\t                while (s6 !== peg$FAILED) {\n\t                  s5.push(s6);\n\t                  s6 = peg$parseoptionalFormatPattern();\n\t                }\n\t              } else {\n\t                s5 = peg$c2;\n\t              }\n\t              if (s5 !== peg$FAILED) {\n\t                peg$reportedPos = s0;\n\t                s1 = peg$c30(s5);\n\t                s0 = s1;\n\t              } else {\n\t                peg$currPos = s0;\n\t                s0 = peg$c2;\n\t              }\n\t            } else {\n\t              peg$currPos = s0;\n\t              s0 = peg$c2;\n\t            }\n\t          } else {\n\t            peg$currPos = s0;\n\t            s0 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s0;\n\t          s0 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s0;\n\t        s0 = peg$c2;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parseselector() {\n\t      var s0, s1, s2, s3;\n\t\n\t      s0 = peg$currPos;\n\t      s1 = peg$currPos;\n\t      if (input.charCodeAt(peg$currPos) === 61) {\n\t        s2 = peg$c31;\n\t        peg$currPos++;\n\t      } else {\n\t        s2 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n\t      }\n\t      if (s2 !== peg$FAILED) {\n\t        s3 = peg$parsenumber();\n\t        if (s3 !== peg$FAILED) {\n\t          s2 = [s2, s3];\n\t          s1 = s2;\n\t        } else {\n\t          peg$currPos = s1;\n\t          s1 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s1;\n\t        s1 = peg$c2;\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        s1 = input.substring(s0, peg$currPos);\n\t      }\n\t      s0 = s1;\n\t      if (s0 === peg$FAILED) {\n\t        s0 = peg$parsechars();\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parseoptionalFormatPattern() {\n\t      var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\t\n\t      s0 = peg$currPos;\n\t      s1 = peg$parse_();\n\t      if (s1 !== peg$FAILED) {\n\t        s2 = peg$parseselector();\n\t        if (s2 !== peg$FAILED) {\n\t          s3 = peg$parse_();\n\t          if (s3 !== peg$FAILED) {\n\t            if (input.charCodeAt(peg$currPos) === 123) {\n\t              s4 = peg$c7;\n\t              peg$currPos++;\n\t            } else {\n\t              s4 = peg$FAILED;\n\t              if (peg$silentFails === 0) { peg$fail(peg$c8); }\n\t            }\n\t            if (s4 !== peg$FAILED) {\n\t              s5 = peg$parse_();\n\t              if (s5 !== peg$FAILED) {\n\t                s6 = peg$parsemessageFormatPattern();\n\t                if (s6 !== peg$FAILED) {\n\t                  s7 = peg$parse_();\n\t                  if (s7 !== peg$FAILED) {\n\t                    if (input.charCodeAt(peg$currPos) === 125) {\n\t                      s8 = peg$c12;\n\t                      peg$currPos++;\n\t                    } else {\n\t                      s8 = peg$FAILED;\n\t                      if (peg$silentFails === 0) { peg$fail(peg$c13); }\n\t                    }\n\t                    if (s8 !== peg$FAILED) {\n\t                      peg$reportedPos = s0;\n\t                      s1 = peg$c33(s2, s6);\n\t                      s0 = s1;\n\t                    } else {\n\t                      peg$currPos = s0;\n\t                      s0 = peg$c2;\n\t                    }\n\t                  } else {\n\t                    peg$currPos = s0;\n\t                    s0 = peg$c2;\n\t                  }\n\t                } else {\n\t                  peg$currPos = s0;\n\t                  s0 = peg$c2;\n\t                }\n\t              } else {\n\t                peg$currPos = s0;\n\t                s0 = peg$c2;\n\t              }\n\t            } else {\n\t              peg$currPos = s0;\n\t              s0 = peg$c2;\n\t            }\n\t          } else {\n\t            peg$currPos = s0;\n\t            s0 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s0;\n\t          s0 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s0;\n\t        s0 = peg$c2;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parseoffset() {\n\t      var s0, s1, s2, s3;\n\t\n\t      s0 = peg$currPos;\n\t      if (input.substr(peg$currPos, 7) === peg$c34) {\n\t        s1 = peg$c34;\n\t        peg$currPos += 7;\n\t      } else {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c35); }\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        s2 = peg$parse_();\n\t        if (s2 !== peg$FAILED) {\n\t          s3 = peg$parsenumber();\n\t          if (s3 !== peg$FAILED) {\n\t            peg$reportedPos = s0;\n\t            s1 = peg$c36(s3);\n\t            s0 = s1;\n\t          } else {\n\t            peg$currPos = s0;\n\t            s0 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s0;\n\t          s0 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s0;\n\t        s0 = peg$c2;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsepluralStyle() {\n\t      var s0, s1, s2, s3, s4;\n\t\n\t      s0 = peg$currPos;\n\t      s1 = peg$parseoffset();\n\t      if (s1 === peg$FAILED) {\n\t        s1 = peg$c9;\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        s2 = peg$parse_();\n\t        if (s2 !== peg$FAILED) {\n\t          s3 = [];\n\t          s4 = peg$parseoptionalFormatPattern();\n\t          if (s4 !== peg$FAILED) {\n\t            while (s4 !== peg$FAILED) {\n\t              s3.push(s4);\n\t              s4 = peg$parseoptionalFormatPattern();\n\t            }\n\t          } else {\n\t            s3 = peg$c2;\n\t          }\n\t          if (s3 !== peg$FAILED) {\n\t            peg$reportedPos = s0;\n\t            s1 = peg$c37(s1, s3);\n\t            s0 = s1;\n\t          } else {\n\t            peg$currPos = s0;\n\t            s0 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s0;\n\t          s0 = peg$c2;\n\t        }\n\t      } else {\n\t        peg$currPos = s0;\n\t        s0 = peg$c2;\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsews() {\n\t      var s0, s1;\n\t\n\t      peg$silentFails++;\n\t      s0 = [];\n\t      if (peg$c39.test(input.charAt(peg$currPos))) {\n\t        s1 = input.charAt(peg$currPos);\n\t        peg$currPos++;\n\t      } else {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c40); }\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        while (s1 !== peg$FAILED) {\n\t          s0.push(s1);\n\t          if (peg$c39.test(input.charAt(peg$currPos))) {\n\t            s1 = input.charAt(peg$currPos);\n\t            peg$currPos++;\n\t          } else {\n\t            s1 = peg$FAILED;\n\t            if (peg$silentFails === 0) { peg$fail(peg$c40); }\n\t          }\n\t        }\n\t      } else {\n\t        s0 = peg$c2;\n\t      }\n\t      peg$silentFails--;\n\t      if (s0 === peg$FAILED) {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c38); }\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parse_() {\n\t      var s0, s1, s2;\n\t\n\t      peg$silentFails++;\n\t      s0 = peg$currPos;\n\t      s1 = [];\n\t      s2 = peg$parsews();\n\t      while (s2 !== peg$FAILED) {\n\t        s1.push(s2);\n\t        s2 = peg$parsews();\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        s1 = input.substring(s0, peg$currPos);\n\t      }\n\t      s0 = s1;\n\t      peg$silentFails--;\n\t      if (s0 === peg$FAILED) {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c41); }\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsedigit() {\n\t      var s0;\n\t\n\t      if (peg$c42.test(input.charAt(peg$currPos))) {\n\t        s0 = input.charAt(peg$currPos);\n\t        peg$currPos++;\n\t      } else {\n\t        s0 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c43); }\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsehexDigit() {\n\t      var s0;\n\t\n\t      if (peg$c44.test(input.charAt(peg$currPos))) {\n\t        s0 = input.charAt(peg$currPos);\n\t        peg$currPos++;\n\t      } else {\n\t        s0 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c45); }\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsenumber() {\n\t      var s0, s1, s2, s3, s4, s5;\n\t\n\t      s0 = peg$currPos;\n\t      if (input.charCodeAt(peg$currPos) === 48) {\n\t        s1 = peg$c46;\n\t        peg$currPos++;\n\t      } else {\n\t        s1 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c47); }\n\t      }\n\t      if (s1 === peg$FAILED) {\n\t        s1 = peg$currPos;\n\t        s2 = peg$currPos;\n\t        if (peg$c48.test(input.charAt(peg$currPos))) {\n\t          s3 = input.charAt(peg$currPos);\n\t          peg$currPos++;\n\t        } else {\n\t          s3 = peg$FAILED;\n\t          if (peg$silentFails === 0) { peg$fail(peg$c49); }\n\t        }\n\t        if (s3 !== peg$FAILED) {\n\t          s4 = [];\n\t          s5 = peg$parsedigit();\n\t          while (s5 !== peg$FAILED) {\n\t            s4.push(s5);\n\t            s5 = peg$parsedigit();\n\t          }\n\t          if (s4 !== peg$FAILED) {\n\t            s3 = [s3, s4];\n\t            s2 = s3;\n\t          } else {\n\t            peg$currPos = s2;\n\t            s2 = peg$c2;\n\t          }\n\t        } else {\n\t          peg$currPos = s2;\n\t          s2 = peg$c2;\n\t        }\n\t        if (s2 !== peg$FAILED) {\n\t          s2 = input.substring(s1, peg$currPos);\n\t        }\n\t        s1 = s2;\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        peg$reportedPos = s0;\n\t        s1 = peg$c50(s1);\n\t      }\n\t      s0 = s1;\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsechar() {\n\t      var s0, s1, s2, s3, s4, s5, s6, s7;\n\t\n\t      if (peg$c51.test(input.charAt(peg$currPos))) {\n\t        s0 = input.charAt(peg$currPos);\n\t        peg$currPos++;\n\t      } else {\n\t        s0 = peg$FAILED;\n\t        if (peg$silentFails === 0) { peg$fail(peg$c52); }\n\t      }\n\t      if (s0 === peg$FAILED) {\n\t        s0 = peg$currPos;\n\t        if (input.substr(peg$currPos, 2) === peg$c53) {\n\t          s1 = peg$c53;\n\t          peg$currPos += 2;\n\t        } else {\n\t          s1 = peg$FAILED;\n\t          if (peg$silentFails === 0) { peg$fail(peg$c54); }\n\t        }\n\t        if (s1 !== peg$FAILED) {\n\t          peg$reportedPos = s0;\n\t          s1 = peg$c55();\n\t        }\n\t        s0 = s1;\n\t        if (s0 === peg$FAILED) {\n\t          s0 = peg$currPos;\n\t          if (input.substr(peg$currPos, 2) === peg$c56) {\n\t            s1 = peg$c56;\n\t            peg$currPos += 2;\n\t          } else {\n\t            s1 = peg$FAILED;\n\t            if (peg$silentFails === 0) { peg$fail(peg$c57); }\n\t          }\n\t          if (s1 !== peg$FAILED) {\n\t            peg$reportedPos = s0;\n\t            s1 = peg$c58();\n\t          }\n\t          s0 = s1;\n\t          if (s0 === peg$FAILED) {\n\t            s0 = peg$currPos;\n\t            if (input.substr(peg$currPos, 2) === peg$c59) {\n\t              s1 = peg$c59;\n\t              peg$currPos += 2;\n\t            } else {\n\t              s1 = peg$FAILED;\n\t              if (peg$silentFails === 0) { peg$fail(peg$c60); }\n\t            }\n\t            if (s1 !== peg$FAILED) {\n\t              peg$reportedPos = s0;\n\t              s1 = peg$c61();\n\t            }\n\t            s0 = s1;\n\t            if (s0 === peg$FAILED) {\n\t              s0 = peg$currPos;\n\t              if (input.substr(peg$currPos, 2) === peg$c62) {\n\t                s1 = peg$c62;\n\t                peg$currPos += 2;\n\t              } else {\n\t                s1 = peg$FAILED;\n\t                if (peg$silentFails === 0) { peg$fail(peg$c63); }\n\t              }\n\t              if (s1 !== peg$FAILED) {\n\t                peg$reportedPos = s0;\n\t                s1 = peg$c64();\n\t              }\n\t              s0 = s1;\n\t              if (s0 === peg$FAILED) {\n\t                s0 = peg$currPos;\n\t                if (input.substr(peg$currPos, 2) === peg$c65) {\n\t                  s1 = peg$c65;\n\t                  peg$currPos += 2;\n\t                } else {\n\t                  s1 = peg$FAILED;\n\t                  if (peg$silentFails === 0) { peg$fail(peg$c66); }\n\t                }\n\t                if (s1 !== peg$FAILED) {\n\t                  s2 = peg$currPos;\n\t                  s3 = peg$currPos;\n\t                  s4 = peg$parsehexDigit();\n\t                  if (s4 !== peg$FAILED) {\n\t                    s5 = peg$parsehexDigit();\n\t                    if (s5 !== peg$FAILED) {\n\t                      s6 = peg$parsehexDigit();\n\t                      if (s6 !== peg$FAILED) {\n\t                        s7 = peg$parsehexDigit();\n\t                        if (s7 !== peg$FAILED) {\n\t                          s4 = [s4, s5, s6, s7];\n\t                          s3 = s4;\n\t                        } else {\n\t                          peg$currPos = s3;\n\t                          s3 = peg$c2;\n\t                        }\n\t                      } else {\n\t                        peg$currPos = s3;\n\t                        s3 = peg$c2;\n\t                      }\n\t                    } else {\n\t                      peg$currPos = s3;\n\t                      s3 = peg$c2;\n\t                    }\n\t                  } else {\n\t                    peg$currPos = s3;\n\t                    s3 = peg$c2;\n\t                  }\n\t                  if (s3 !== peg$FAILED) {\n\t                    s3 = input.substring(s2, peg$currPos);\n\t                  }\n\t                  s2 = s3;\n\t                  if (s2 !== peg$FAILED) {\n\t                    peg$reportedPos = s0;\n\t                    s1 = peg$c67(s2);\n\t                    s0 = s1;\n\t                  } else {\n\t                    peg$currPos = s0;\n\t                    s0 = peg$c2;\n\t                  }\n\t                } else {\n\t                  peg$currPos = s0;\n\t                  s0 = peg$c2;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t\n\t      return s0;\n\t    }\n\t\n\t    function peg$parsechars() {\n\t      var s0, s1, s2;\n\t\n\t      s0 = peg$currPos;\n\t      s1 = [];\n\t      s2 = peg$parsechar();\n\t      if (s2 !== peg$FAILED) {\n\t        while (s2 !== peg$FAILED) {\n\t          s1.push(s2);\n\t          s2 = peg$parsechar();\n\t        }\n\t      } else {\n\t        s1 = peg$c2;\n\t      }\n\t      if (s1 !== peg$FAILED) {\n\t        peg$reportedPos = s0;\n\t        s1 = peg$c68(s1);\n\t      }\n\t      s0 = s1;\n\t\n\t      return s0;\n\t    }\n\t\n\t    peg$result = peg$startRuleFunction();\n\t\n\t    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n\t      return peg$result;\n\t    } else {\n\t      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n\t        peg$fail({ type: \"end\", description: \"end of input\" });\n\t      }\n\t\n\t      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);\n\t    }\n\t  }\n\t\n\t  return {\n\t    SyntaxError: SyntaxError,\n\t    parse:       parse\n\t  };\n\t})();\n\t\n\t//# sourceMappingURL=parser.js.map\n\n/***/ },\n/* 19 */\n/*!***************************************!*\\\n  !*** ./~/intl-messageformat/index.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* jshint node:true */\n\t\n\t'use strict';\n\t\n\tvar IntlMessageFormat = __webpack_require__(/*! ./lib/main */ 24)['default'];\n\t\n\t// Add all locale data to `IntlMessageFormat`. This module will be ignored when\n\t// bundling for the browser with Browserify/Webpack.\n\t__webpack_require__(/*! ./lib/locales */ 90);\n\t\n\t// Re-export `IntlMessageFormat` as the CommonJS default exports with all the\n\t// locale data registered, and with English set as the default locale. Define\n\t// the `default` prop for use with other compiled ES6 Modules.\n\texports = module.exports = IntlMessageFormat;\n\texports['default'] = exports;\n\n\n/***/ },\n/* 20 */\n/*!**********************************************!*\\\n  !*** ./~/intl-messageformat/lib/compiler.js ***!\n  \\**********************************************/\n/***/ function(module, exports) {\n\n\t/*\n\tCopyright (c) 2014, Yahoo! Inc. All rights reserved.\n\tCopyrights licensed under the New BSD License.\n\tSee the accompanying LICENSE file for terms.\n\t*/\n\t\n\t/* jslint esnext: true */\n\t\n\t\"use strict\";\n\texports[\"default\"] = Compiler;\n\t\n\tfunction Compiler(locales, formats, pluralFn) {\n\t    this.locales  = locales;\n\t    this.formats  = formats;\n\t    this.pluralFn = pluralFn;\n\t}\n\t\n\tCompiler.prototype.compile = function (ast) {\n\t    this.pluralStack        = [];\n\t    this.currentPlural      = null;\n\t    this.pluralNumberFormat = null;\n\t\n\t    return this.compileMessage(ast);\n\t};\n\t\n\tCompiler.prototype.compileMessage = function (ast) {\n\t    if (!(ast && ast.type === 'messageFormatPattern')) {\n\t        throw new Error('Message AST is not of type: \"messageFormatPattern\"');\n\t    }\n\t\n\t    var elements = ast.elements,\n\t        pattern  = [];\n\t\n\t    var i, len, element;\n\t\n\t    for (i = 0, len = elements.length; i < len; i += 1) {\n\t        element = elements[i];\n\t\n\t        switch (element.type) {\n\t            case 'messageTextElement':\n\t                pattern.push(this.compileMessageText(element));\n\t                break;\n\t\n\t            case 'argumentElement':\n\t                pattern.push(this.compileArgument(element));\n\t                break;\n\t\n\t            default:\n\t                throw new Error('Message element does not have a valid type');\n\t        }\n\t    }\n\t\n\t    return pattern;\n\t};\n\t\n\tCompiler.prototype.compileMessageText = function (element) {\n\t    // When this `element` is part of plural sub-pattern and its value contains\n\t    // an unescaped '#', use a `PluralOffsetString` helper to properly output\n\t    // the number with the correct offset in the string.\n\t    if (this.currentPlural && /(^|[^\\\\])#/g.test(element.value)) {\n\t        // Create a cache a NumberFormat instance that can be reused for any\n\t        // PluralOffsetString instance in this message.\n\t        if (!this.pluralNumberFormat) {\n\t            this.pluralNumberFormat = new Intl.NumberFormat(this.locales);\n\t        }\n\t\n\t        return new PluralOffsetString(\n\t                this.currentPlural.id,\n\t                this.currentPlural.format.offset,\n\t                this.pluralNumberFormat,\n\t                element.value);\n\t    }\n\t\n\t    // Unescape the escaped '#'s in the message text.\n\t    return element.value.replace(/\\\\#/g, '#');\n\t};\n\t\n\tCompiler.prototype.compileArgument = function (element) {\n\t    var format = element.format;\n\t\n\t    if (!format) {\n\t        return new StringFormat(element.id);\n\t    }\n\t\n\t    var formats  = this.formats,\n\t        locales  = this.locales,\n\t        pluralFn = this.pluralFn,\n\t        options;\n\t\n\t    switch (format.type) {\n\t        case 'numberFormat':\n\t            options = formats.number[format.style];\n\t            return {\n\t                id    : element.id,\n\t                format: new Intl.NumberFormat(locales, options).format\n\t            };\n\t\n\t        case 'dateFormat':\n\t            options = formats.date[format.style];\n\t            return {\n\t                id    : element.id,\n\t                format: new Intl.DateTimeFormat(locales, options).format\n\t            };\n\t\n\t        case 'timeFormat':\n\t            options = formats.time[format.style];\n\t            return {\n\t                id    : element.id,\n\t                format: new Intl.DateTimeFormat(locales, options).format\n\t            };\n\t\n\t        case 'pluralFormat':\n\t            options = this.compileOptions(element);\n\t            return new PluralFormat(\n\t                element.id, format.ordinal, format.offset, options, pluralFn\n\t            );\n\t\n\t        case 'selectFormat':\n\t            options = this.compileOptions(element);\n\t            return new SelectFormat(element.id, options);\n\t\n\t        default:\n\t            throw new Error('Message element does not have a valid format type');\n\t    }\n\t};\n\t\n\tCompiler.prototype.compileOptions = function (element) {\n\t    var format      = element.format,\n\t        options     = format.options,\n\t        optionsHash = {};\n\t\n\t    // Save the current plural element, if any, then set it to a new value when\n\t    // compiling the options sub-patterns. This conforms the spec's algorithm\n\t    // for handling `\"#\"` syntax in message text.\n\t    this.pluralStack.push(this.currentPlural);\n\t    this.currentPlural = format.type === 'pluralFormat' ? element : null;\n\t\n\t    var i, len, option;\n\t\n\t    for (i = 0, len = options.length; i < len; i += 1) {\n\t        option = options[i];\n\t\n\t        // Compile the sub-pattern and save it under the options's selector.\n\t        optionsHash[option.selector] = this.compileMessage(option.value);\n\t    }\n\t\n\t    // Pop the plural stack to put back the original current plural value.\n\t    this.currentPlural = this.pluralStack.pop();\n\t\n\t    return optionsHash;\n\t};\n\t\n\t// -- Compiler Helper Classes --------------------------------------------------\n\t\n\tfunction StringFormat(id) {\n\t    this.id = id;\n\t}\n\t\n\tStringFormat.prototype.format = function (value) {\n\t    if (!value) {\n\t        return '';\n\t    }\n\t\n\t    return typeof value === 'string' ? value : String(value);\n\t};\n\t\n\tfunction PluralFormat(id, useOrdinal, offset, options, pluralFn) {\n\t    this.id         = id;\n\t    this.useOrdinal = useOrdinal;\n\t    this.offset     = offset;\n\t    this.options    = options;\n\t    this.pluralFn   = pluralFn;\n\t}\n\t\n\tPluralFormat.prototype.getOption = function (value) {\n\t    var options = this.options;\n\t\n\t    var option = options['=' + value] ||\n\t            options[this.pluralFn(value - this.offset, this.useOrdinal)];\n\t\n\t    return option || options.other;\n\t};\n\t\n\tfunction PluralOffsetString(id, offset, numberFormat, string) {\n\t    this.id           = id;\n\t    this.offset       = offset;\n\t    this.numberFormat = numberFormat;\n\t    this.string       = string;\n\t}\n\t\n\tPluralOffsetString.prototype.format = function (value) {\n\t    var number = this.numberFormat.format(value - this.offset);\n\t\n\t    return this.string\n\t            .replace(/(^|[^\\\\])#/g, '$1' + number)\n\t            .replace(/\\\\#/g, '#');\n\t};\n\t\n\tfunction SelectFormat(id, options) {\n\t    this.id      = id;\n\t    this.options = options;\n\t}\n\t\n\tSelectFormat.prototype.getOption = function (value) {\n\t    var options = this.options;\n\t    return options[value] || options.other;\n\t};\n\t\n\t//# sourceMappingURL=compiler.js.map\n\n/***/ },\n/* 21 */\n/*!******************************************!*\\\n  !*** ./~/intl-messageformat/lib/core.js ***!\n  \\******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\tCopyright (c) 2014, Yahoo! Inc. All rights reserved.\n\tCopyrights licensed under the New BSD License.\n\tSee the accompanying LICENSE file for terms.\n\t*/\n\t\n\t/* jslint esnext: true */\n\t\n\t\"use strict\";\n\tvar src$utils$$ = __webpack_require__(/*! ./utils */ 11), src$es5$$ = __webpack_require__(/*! ./es5 */ 23), src$compiler$$ = __webpack_require__(/*! ./compiler */ 20), intl$messageformat$parser$$ = __webpack_require__(/*! intl-messageformat-parser */ 17);\n\texports[\"default\"] = MessageFormat;\n\t\n\t// -- MessageFormat --------------------------------------------------------\n\t\n\tfunction MessageFormat(message, locales, formats) {\n\t    // Parse string messages into an AST.\n\t    var ast = typeof message === 'string' ?\n\t            MessageFormat.__parse(message) : message;\n\t\n\t    if (!(ast && ast.type === 'messageFormatPattern')) {\n\t        throw new TypeError('A message must be provided as a String or AST.');\n\t    }\n\t\n\t    // Creates a new object with the specified `formats` merged with the default\n\t    // formats.\n\t    formats = this._mergeFormats(MessageFormat.formats, formats);\n\t\n\t    // Defined first because it's used to build the format pattern.\n\t    src$es5$$.defineProperty(this, '_locale',  {value: this._resolveLocale(locales)});\n\t\n\t    // Compile the `ast` to a pattern that is highly optimized for repeated\n\t    // `format()` invocations. **Note:** This passes the `locales` set provided\n\t    // to the constructor instead of just the resolved locale.\n\t    var pluralFn = this._findPluralRuleFunction(this._locale);\n\t    var pattern  = this._compilePattern(ast, locales, formats, pluralFn);\n\t\n\t    // \"Bind\" `format()` method to `this` so it can be passed by reference like\n\t    // the other `Intl` APIs.\n\t    var messageFormat = this;\n\t    this.format = function (values) {\n\t        return messageFormat._format(pattern, values);\n\t    };\n\t}\n\t\n\t// Default format options used as the prototype of the `formats` provided to the\n\t// constructor. These are used when constructing the internal Intl.NumberFormat\n\t// and Intl.DateTimeFormat instances.\n\tsrc$es5$$.defineProperty(MessageFormat, 'formats', {\n\t    enumerable: true,\n\t\n\t    value: {\n\t        number: {\n\t            'currency': {\n\t                style: 'currency'\n\t            },\n\t\n\t            'percent': {\n\t                style: 'percent'\n\t            }\n\t        },\n\t\n\t        date: {\n\t            'short': {\n\t                month: 'numeric',\n\t                day  : 'numeric',\n\t                year : '2-digit'\n\t            },\n\t\n\t            'medium': {\n\t                month: 'short',\n\t                day  : 'numeric',\n\t                year : 'numeric'\n\t            },\n\t\n\t            'long': {\n\t                month: 'long',\n\t                day  : 'numeric',\n\t                year : 'numeric'\n\t            },\n\t\n\t            'full': {\n\t                weekday: 'long',\n\t                month  : 'long',\n\t                day    : 'numeric',\n\t                year   : 'numeric'\n\t            }\n\t        },\n\t\n\t        time: {\n\t            'short': {\n\t                hour  : 'numeric',\n\t                minute: 'numeric'\n\t            },\n\t\n\t            'medium':  {\n\t                hour  : 'numeric',\n\t                minute: 'numeric',\n\t                second: 'numeric'\n\t            },\n\t\n\t            'long': {\n\t                hour        : 'numeric',\n\t                minute      : 'numeric',\n\t                second      : 'numeric',\n\t                timeZoneName: 'short'\n\t            },\n\t\n\t            'full': {\n\t                hour        : 'numeric',\n\t                minute      : 'numeric',\n\t                second      : 'numeric',\n\t                timeZoneName: 'short'\n\t            }\n\t        }\n\t    }\n\t});\n\t\n\t// Define internal private properties for dealing with locale data.\n\tsrc$es5$$.defineProperty(MessageFormat, '__localeData__', {value: src$es5$$.objCreate(null)});\n\tsrc$es5$$.defineProperty(MessageFormat, '__addLocaleData', {value: function (data) {\n\t    if (!(data && data.locale)) {\n\t        throw new Error(\n\t            'Locale data provided to IntlMessageFormat is missing a ' +\n\t            '`locale` property'\n\t        );\n\t    }\n\t\n\t    MessageFormat.__localeData__[data.locale.toLowerCase()] = data;\n\t}});\n\t\n\t// Defines `__parse()` static method as an exposed private.\n\tsrc$es5$$.defineProperty(MessageFormat, '__parse', {value: intl$messageformat$parser$$[\"default\"].parse});\n\t\n\t// Define public `defaultLocale` property which defaults to English, but can be\n\t// set by the developer.\n\tsrc$es5$$.defineProperty(MessageFormat, 'defaultLocale', {\n\t    enumerable: true,\n\t    writable  : true,\n\t    value     : undefined\n\t});\n\t\n\tMessageFormat.prototype.resolvedOptions = function () {\n\t    // TODO: Provide anything else?\n\t    return {\n\t        locale: this._locale\n\t    };\n\t};\n\t\n\tMessageFormat.prototype._compilePattern = function (ast, locales, formats, pluralFn) {\n\t    var compiler = new src$compiler$$[\"default\"](locales, formats, pluralFn);\n\t    return compiler.compile(ast);\n\t};\n\t\n\tMessageFormat.prototype._findPluralRuleFunction = function (locale) {\n\t    var localeData = MessageFormat.__localeData__;\n\t    var data       = localeData[locale.toLowerCase()];\n\t\n\t    // The locale data is de-duplicated, so we have to traverse the locale's\n\t    // hierarchy until we find a `pluralRuleFunction` to return.\n\t    while (data) {\n\t        if (data.pluralRuleFunction) {\n\t            return data.pluralRuleFunction;\n\t        }\n\t\n\t        data = data.parentLocale && localeData[data.parentLocale.toLowerCase()];\n\t    }\n\t\n\t    throw new Error(\n\t        'Locale data added to IntlMessageFormat is missing a ' +\n\t        '`pluralRuleFunction` for :' + locale\n\t    );\n\t};\n\t\n\tMessageFormat.prototype._format = function (pattern, values) {\n\t    var result = '',\n\t        i, len, part, id, value;\n\t\n\t    for (i = 0, len = pattern.length; i < len; i += 1) {\n\t        part = pattern[i];\n\t\n\t        // Exist early for string parts.\n\t        if (typeof part === 'string') {\n\t            result += part;\n\t            continue;\n\t        }\n\t\n\t        id = part.id;\n\t\n\t        // Enforce that all required values are provided by the caller.\n\t        if (!(values && src$utils$$.hop.call(values, id))) {\n\t            throw new Error('A value must be provided for: ' + id);\n\t        }\n\t\n\t        value = values[id];\n\t\n\t        // Recursively format plural and select parts' option — which can be a\n\t        // nested pattern structure. The choosing of the option to use is\n\t        // abstracted-by and delegated-to the part helper object.\n\t        if (part.options) {\n\t            result += this._format(part.getOption(value), values);\n\t        } else {\n\t            result += part.format(value);\n\t        }\n\t    }\n\t\n\t    return result;\n\t};\n\t\n\tMessageFormat.prototype._mergeFormats = function (defaults, formats) {\n\t    var mergedFormats = {},\n\t        type, mergedType;\n\t\n\t    for (type in defaults) {\n\t        if (!src$utils$$.hop.call(defaults, type)) { continue; }\n\t\n\t        mergedFormats[type] = mergedType = src$es5$$.objCreate(defaults[type]);\n\t\n\t        if (formats && src$utils$$.hop.call(formats, type)) {\n\t            src$utils$$.extend(mergedType, formats[type]);\n\t        }\n\t    }\n\t\n\t    return mergedFormats;\n\t};\n\t\n\tMessageFormat.prototype._resolveLocale = function (locales) {\n\t    if (typeof locales === 'string') {\n\t        locales = [locales];\n\t    }\n\t\n\t    // Create a copy of the array so we can push on the default locale.\n\t    locales = (locales || []).concat(MessageFormat.defaultLocale);\n\t\n\t    var localeData = MessageFormat.__localeData__;\n\t    var i, len, localeParts, data;\n\t\n\t    // Using the set of locales + the default locale, we look for the first one\n\t    // which that has been registered. When data does not exist for a locale, we\n\t    // traverse its ancestors to find something that's been registered within\n\t    // its hierarchy of locales. Since we lack the proper `parentLocale` data\n\t    // here, we must take a naive approach to traversal.\n\t    for (i = 0, len = locales.length; i < len; i += 1) {\n\t        localeParts = locales[i].toLowerCase().split('-');\n\t\n\t        while (localeParts.length) {\n\t            data = localeData[localeParts.join('-')];\n\t            if (data) {\n\t                // Return the normalized locale string; e.g., we return \"en-US\",\n\t                // instead of \"en-us\".\n\t                return data.locale;\n\t            }\n\t\n\t            localeParts.pop();\n\t        }\n\t    }\n\t\n\t    var defaultLocale = locales.pop();\n\t    throw new Error(\n\t        'No locale data has been added to IntlMessageFormat for: ' +\n\t        locales.join(', ') + ', or the default locale: ' + defaultLocale\n\t    );\n\t};\n\t\n\t//# sourceMappingURL=core.js.map\n\n/***/ },\n/* 22 */\n/*!****************************************!*\\\n  !*** ./~/intl-messageformat/lib/en.js ***!\n  \\****************************************/\n/***/ function(module, exports) {\n\n\t// GENERATED FILE\n\t\"use strict\";\n\texports[\"default\"] = {\"locale\":\"en\",\"pluralRuleFunction\":function (n,ord){var s=String(n).split(\".\"),v0=!s[1],t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2);if(ord)return n10==1&&n100!=11?\"one\":n10==2&&n100!=12?\"two\":n10==3&&n100!=13?\"few\":\"other\";return n==1&&v0?\"one\":\"other\"}};\n\t\n\t//# sourceMappingURL=en.js.map\n\n/***/ },\n/* 23 */\n/*!*****************************************!*\\\n  !*** ./~/intl-messageformat/lib/es5.js ***!\n  \\*****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\tCopyright (c) 2014, Yahoo! Inc. All rights reserved.\n\tCopyrights licensed under the New BSD License.\n\tSee the accompanying LICENSE file for terms.\n\t*/\n\t\n\t/* jslint esnext: true */\n\t\n\t\"use strict\";\n\tvar src$utils$$ = __webpack_require__(/*! ./utils */ 11);\n\t\n\t// Purposely using the same implementation as the Intl.js `Intl` polyfill.\n\t// Copyright 2013 Andy Earnshaw, MIT License\n\t\n\tvar realDefineProp = (function () {\n\t    try { return !!Object.defineProperty({}, 'a', {}); }\n\t    catch (e) { return false; }\n\t})();\n\t\n\tvar es3 = !realDefineProp && !Object.prototype.__defineGetter__;\n\t\n\tvar defineProperty = realDefineProp ? Object.defineProperty :\n\t        function (obj, name, desc) {\n\t\n\t    if ('get' in desc && obj.__defineGetter__) {\n\t        obj.__defineGetter__(name, desc.get);\n\t    } else if (!src$utils$$.hop.call(obj, name) || 'value' in desc) {\n\t        obj[name] = desc.value;\n\t    }\n\t};\n\t\n\tvar objCreate = Object.create || function (proto, props) {\n\t    var obj, k;\n\t\n\t    function F() {}\n\t    F.prototype = proto;\n\t    obj = new F();\n\t\n\t    for (k in props) {\n\t        if (src$utils$$.hop.call(props, k)) {\n\t            defineProperty(obj, k, props[k]);\n\t        }\n\t    }\n\t\n\t    return obj;\n\t};\n\texports.defineProperty = defineProperty, exports.objCreate = objCreate;\n\t\n\t//# sourceMappingURL=es5.js.map\n\n/***/ },\n/* 24 */\n/*!******************************************!*\\\n  !*** ./~/intl-messageformat/lib/main.js ***!\n  \\******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* jslint esnext: true */\n\t\n\t\"use strict\";\n\tvar src$core$$ = __webpack_require__(/*! ./core */ 21), src$en$$ = __webpack_require__(/*! ./en */ 22);\n\t\n\tsrc$core$$[\"default\"].__addLocaleData(src$en$$[\"default\"]);\n\tsrc$core$$[\"default\"].defaultLocale = 'en';\n\t\n\texports[\"default\"] = src$core$$[\"default\"];\n\t\n\t//# sourceMappingURL=main.js.map\n\n/***/ },\n/* 25 */\n/*!**********************************************************!*\\\n  !*** ./~/json-loader!./~/yaml-loader!./src/lang/en.yaml ***!\n  \\**********************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"en\": {\n\t\t\t\"prompt\": \"Enter message...\",\n\t\t\t\"thinking\": \"Agent is thinking...\",\n\t\t\t\"anything_else\": \"Is there anything else I can help you with?\",\n\t\t\t\"edit\": \"edit\",\n\t\t\t\"list_sep\": \", \",\n\t\t\t\"reconnect\": \"Attempting to reconnect...\",\n\t\t\t\"basic_err\": \"I am sorry, I am having difficulties.\",\n\t\t\t\"loading_failure1\": \"<span class=\\\"IBMChat-loading-failure-message-text\\\">I cannot complete your request. You can try a new request or <a class=\\\"IBMChat-loading-retry-link\\\" data-retry=\\\"true\\\" href=\\\"javascript:void(false);\\\">restart the conversation.</a></span>\",\n\t\t\t\"loading_failure2\": \"<span class=\\\"IBMChat-loading-failure-message-text\\\">I cannot complete your request. Please <a class=\\\"IBMChat-loading-retry-link\\\" data-retry=\\\"true\\\" href=\\\"javascript:void(false);\\\">restart the conversation.</a></span>\",\n\t\t\t\"submit\": \"Submit\",\n\t\t\t\"cancel\": \"Cancel\",\n\t\t\t\"required_field\": \"This field is required.\",\n\t\t\t\"placeholder_mon\": \"MM\",\n\t\t\t\"placeholder_year\": \"YYYY\",\n\t\t\t\"cc_name\": \"Name on Card\",\n\t\t\t\"cc_num\": \"Credit Card Number\",\n\t\t\t\"cc_exp_mon\": \"Expiration Date Month\",\n\t\t\t\"cc_exp_year\": \"Expiration Date Year\",\n\t\t\t\"cc_code\": \"CVV\",\n\t\t\t\"cc_code_alt\": \"\",\n\t\t\t\"cc_use_valid\": \"Please use a valid card. We accept the following: \",\n\t\t\t\"cc_invalid\": \"Your credit card number is invalid.\",\n\t\t\t\"cc_invalid_exp\": \"Your credit card expiration date is invalid.\",\n\t\t\t\"cc_invalid_code\": \"Your CVV is invalid.\",\n\t\t\t\"loc_curr\": \"Current Location\",\n\t\t\t\"postal_code\": \"Zip Code\",\n\t\t\t\"loc_prompt\": \"Please share your current location.\",\n\t\t\t\"loc_share\": \"Your browser is asking you to share your location...\",\n\t\t\t\"loc_share_granted\": \"You have allowed your browser to share your current location.\",\n\t\t\t\"loc_looking\": \"Looking up your current location...\",\n\t\t\t\"loc_share_denied\": \"You have denied sharing your location on this website.\",\n\t\t\t\"loc_not_shared_prompt\": \"Please enable location sharing or continue with your Zip Code.\",\n\t\t\t\"loc_all\": \"All Locations\",\n\t\t\t\"loc_closed_today\": \"Closed today.\",\n\t\t\t\"loc_open_today\": \"Open today.\",\n\t\t\t\"loc_open_today_more\": \"<span class=\\\"{ns}-hours-open\\\">Open today:</span><span class=\\\"{ns}-hours-today\\\"> {open, time, short} &ndash; {close, time, short}</span>\",\n\t\t\t\"loc_hours_open\": \"<span class=\\\"{ns}-days-hours-day\\\">{openDay, date, weekday_short}:</span>&nbsp;<span class=\\\"{ns}-days-hours-hours\\\">{open, time, short} &ndash; {close, time, short}</span>\",\n\t\t\t\"loc_hours_open_multiday\": \"<span class=\\\"{ns}-days-hours-day\\\">{openDay, date, weekday_short}&ndash;{closeDay, date, weekday_short}:</span>&nbsp;<span class=\\\"{ns}-days-hours-hours\\\">{open, time, short} &ndash; {close, time, short}</span>\",\n\t\t\t\"loc_hours_unknown\": \"<span class=\\\"{ns}-days-hours-day\\\">{day, date, weekday_short}:</span>&nbsp;<span class=\\\"{ns}-days-hours-hours\\\">Hours unknown</span>\",\n\t\t\t\"loc_hours_closed\": \"<span class=\\\"{ns}-days-hours-day\\\">{day, date, weekday_short}:</span>&nbsp;<span class=\\\"{ns}-days-hours-hours\\\">Closed</span>\",\n\t\t\t\"loc_nearby_none\": \"We could not find any locations close to you.\",\n\t\t\t\"loc_nearby_single\": \"Here are the details for this location:\",\n\t\t\t\"loc_nearby_list\": \"Here are the locations I found close to you:\",\n\t\t\t\"google_maps_url\": \"https://maps.google.com/\"\n\t\t}\n\t};\n\n/***/ },\n/* 26 */\n/*!****************************!*\\\n  !*** ./~/lodash/_apply.js ***!\n  \\****************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * A faster alternative to `Function#apply`, this function invokes `func`\n\t * with the `this` binding of `thisArg` and the arguments of `args`.\n\t *\n\t * @private\n\t * @param {Function} func The function to invoke.\n\t * @param {*} thisArg The `this` binding of `func`.\n\t * @param {Array} args The arguments to invoke `func` with.\n\t * @returns {*} Returns the result of `func`.\n\t */\n\tfunction apply(func, thisArg, args) {\n\t  switch (args.length) {\n\t    case 0: return func.call(thisArg);\n\t    case 1: return func.call(thisArg, args[0]);\n\t    case 2: return func.call(thisArg, args[0], args[1]);\n\t    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n\t  }\n\t  return func.apply(thisArg, args);\n\t}\n\t\n\tmodule.exports = apply;\n\n\n/***/ },\n/* 27 */\n/*!************************************!*\\\n  !*** ./~/lodash/_arrayLikeKeys.js ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar baseTimes = __webpack_require__(/*! ./_baseTimes */ 30),\n\t    isArguments = __webpack_require__(/*! ./isArguments */ 36),\n\t    isArray = __webpack_require__(/*! ./isArray */ 37),\n\t    isIndex = __webpack_require__(/*! ./_isIndex */ 13);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Creates an array of the enumerable property names of the array-like `value`.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @param {boolean} inherited Specify returning inherited property names.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tfunction arrayLikeKeys(value, inherited) {\n\t  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n\t  // Safari 9 makes `arguments.length` enumerable in strict mode.\n\t  var result = (isArray(value) || isArguments(value))\n\t    ? baseTimes(value.length, String)\n\t    : [];\n\t\n\t  var length = result.length,\n\t      skipIndexes = !!length;\n\t\n\t  for (var key in value) {\n\t    if ((inherited || hasOwnProperty.call(value, key)) &&\n\t        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = arrayLikeKeys;\n\n\n/***/ },\n/* 28 */\n/*!*******************************!*\\\n  !*** ./~/lodash/_baseKeys.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isPrototype = __webpack_require__(/*! ./_isPrototype */ 14),\n\t    nativeKeys = __webpack_require__(/*! ./_nativeKeys */ 34);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tfunction baseKeys(object) {\n\t  if (!isPrototype(object)) {\n\t    return nativeKeys(object);\n\t  }\n\t  var result = [];\n\t  for (var key in Object(object)) {\n\t    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = baseKeys;\n\n\n/***/ },\n/* 29 */\n/*!*******************************!*\\\n  !*** ./~/lodash/_baseRest.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar apply = __webpack_require__(/*! ./_apply */ 26);\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeMax = Math.max;\n\t\n\t/**\n\t * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n\t *\n\t * @private\n\t * @param {Function} func The function to apply a rest parameter to.\n\t * @param {number} [start=func.length-1] The start position of the rest parameter.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction baseRest(func, start) {\n\t  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n\t  return function() {\n\t    var args = arguments,\n\t        index = -1,\n\t        length = nativeMax(args.length - start, 0),\n\t        array = Array(length);\n\t\n\t    while (++index < length) {\n\t      array[index] = args[start + index];\n\t    }\n\t    index = -1;\n\t    var otherArgs = Array(start + 1);\n\t    while (++index < start) {\n\t      otherArgs[index] = args[index];\n\t    }\n\t    otherArgs[start] = array;\n\t    return apply(func, this, otherArgs);\n\t  };\n\t}\n\t\n\tmodule.exports = baseRest;\n\n\n/***/ },\n/* 30 */\n/*!********************************!*\\\n  !*** ./~/lodash/_baseTimes.js ***!\n  \\********************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * The base implementation of `_.times` without support for iteratee shorthands\n\t * or max array length checks.\n\t *\n\t * @private\n\t * @param {number} n The number of times to invoke `iteratee`.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Array} Returns the array of results.\n\t */\n\tfunction baseTimes(n, iteratee) {\n\t  var index = -1,\n\t      result = Array(n);\n\t\n\t  while (++index < n) {\n\t    result[index] = iteratee(index);\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = baseTimes;\n\n\n/***/ },\n/* 31 */\n/*!*********************************!*\\\n  !*** ./~/lodash/_copyObject.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar assignValue = __webpack_require__(/*! ./_assignValue */ 12);\n\t\n\t/**\n\t * Copies properties of `source` to `object`.\n\t *\n\t * @private\n\t * @param {Object} source The object to copy properties from.\n\t * @param {Array} props The property identifiers to copy.\n\t * @param {Object} [object={}] The object to copy properties to.\n\t * @param {Function} [customizer] The function to customize copied values.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction copyObject(source, props, object, customizer) {\n\t  object || (object = {});\n\t\n\t  var index = -1,\n\t      length = props.length;\n\t\n\t  while (++index < length) {\n\t    var key = props[index];\n\t\n\t    var newValue = customizer\n\t      ? customizer(object[key], source[key], key, object, source)\n\t      : undefined;\n\t\n\t    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n\t  }\n\t  return object;\n\t}\n\t\n\tmodule.exports = copyObject;\n\n\n/***/ },\n/* 32 */\n/*!*************************************!*\\\n  !*** ./~/lodash/_createAssigner.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar baseRest = __webpack_require__(/*! ./_baseRest */ 29),\n\t    isIterateeCall = __webpack_require__(/*! ./_isIterateeCall */ 33);\n\t\n\t/**\n\t * Creates a function like `_.assign`.\n\t *\n\t * @private\n\t * @param {Function} assigner The function to assign values.\n\t * @returns {Function} Returns the new assigner function.\n\t */\n\tfunction createAssigner(assigner) {\n\t  return baseRest(function(object, sources) {\n\t    var index = -1,\n\t        length = sources.length,\n\t        customizer = length > 1 ? sources[length - 1] : undefined,\n\t        guard = length > 2 ? sources[2] : undefined;\n\t\n\t    customizer = (assigner.length > 3 && typeof customizer == 'function')\n\t      ? (length--, customizer)\n\t      : undefined;\n\t\n\t    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t      customizer = length < 3 ? undefined : customizer;\n\t      length = 1;\n\t    }\n\t    object = Object(object);\n\t    while (++index < length) {\n\t      var source = sources[index];\n\t      if (source) {\n\t        assigner(object, source, index, customizer);\n\t      }\n\t    }\n\t    return object;\n\t  });\n\t}\n\t\n\tmodule.exports = createAssigner;\n\n\n/***/ },\n/* 33 */\n/*!*************************************!*\\\n  !*** ./~/lodash/_isIterateeCall.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar eq = __webpack_require__(/*! ./eq */ 15),\n\t    isArrayLike = __webpack_require__(/*! ./isArrayLike */ 8),\n\t    isIndex = __webpack_require__(/*! ./_isIndex */ 13),\n\t    isObject = __webpack_require__(/*! ./isObject */ 16);\n\t\n\t/**\n\t * Checks if the given arguments are from an iteratee call.\n\t *\n\t * @private\n\t * @param {*} value The potential iteratee value argument.\n\t * @param {*} index The potential iteratee index or key argument.\n\t * @param {*} object The potential iteratee object argument.\n\t * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n\t *  else `false`.\n\t */\n\tfunction isIterateeCall(value, index, object) {\n\t  if (!isObject(object)) {\n\t    return false;\n\t  }\n\t  var type = typeof index;\n\t  if (type == 'number'\n\t        ? (isArrayLike(object) && isIndex(index, object.length))\n\t        : (type == 'string' && index in object)\n\t      ) {\n\t    return eq(object[index], value);\n\t  }\n\t  return false;\n\t}\n\t\n\tmodule.exports = isIterateeCall;\n\n\n/***/ },\n/* 34 */\n/*!*********************************!*\\\n  !*** ./~/lodash/_nativeKeys.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar overArg = __webpack_require__(/*! ./_overArg */ 35);\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeKeys = overArg(Object.keys, Object);\n\t\n\tmodule.exports = nativeKeys;\n\n\n/***/ },\n/* 35 */\n/*!******************************!*\\\n  !*** ./~/lodash/_overArg.js ***!\n  \\******************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * Creates a unary function that invokes `func` with its argument transformed.\n\t *\n\t * @private\n\t * @param {Function} func The function to wrap.\n\t * @param {Function} transform The argument transform.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction overArg(func, transform) {\n\t  return function(arg) {\n\t    return func(transform(arg));\n\t  };\n\t}\n\t\n\tmodule.exports = overArg;\n\n\n/***/ },\n/* 36 */\n/*!*********************************!*\\\n  !*** ./~/lodash/isArguments.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isArrayLikeObject = __webpack_require__(/*! ./isArrayLikeObject */ 38);\n\t\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]';\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Used to resolve the\n\t * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objectToString = objectProto.toString;\n\t\n\t/** Built-in value references. */\n\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\n\t/**\n\t * Checks if `value` is likely an `arguments` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isArguments(function() { return arguments; }());\n\t * // => true\n\t *\n\t * _.isArguments([1, 2, 3]);\n\t * // => false\n\t */\n\tfunction isArguments(value) {\n\t  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n\t  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n\t    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n\t}\n\t\n\tmodule.exports = isArguments;\n\n\n/***/ },\n/* 37 */\n/*!*****************************!*\\\n  !*** ./~/lodash/isArray.js ***!\n  \\*****************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * Checks if `value` is classified as an `Array` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n\t * @example\n\t *\n\t * _.isArray([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArray(document.body.children);\n\t * // => false\n\t *\n\t * _.isArray('abc');\n\t * // => false\n\t *\n\t * _.isArray(_.noop);\n\t * // => false\n\t */\n\tvar isArray = Array.isArray;\n\t\n\tmodule.exports = isArray;\n\n\n/***/ },\n/* 38 */\n/*!***************************************!*\\\n  !*** ./~/lodash/isArrayLikeObject.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isArrayLike = __webpack_require__(/*! ./isArrayLike */ 8),\n\t    isObjectLike = __webpack_require__(/*! ./isObjectLike */ 41);\n\t\n\t/**\n\t * This method is like `_.isArrayLike` except that it also checks if `value`\n\t * is an object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an array-like object,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isArrayLikeObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject('abc');\n\t * // => false\n\t *\n\t * _.isArrayLikeObject(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLikeObject(value) {\n\t  return isObjectLike(value) && isArrayLike(value);\n\t}\n\t\n\tmodule.exports = isArrayLikeObject;\n\n\n/***/ },\n/* 39 */\n/*!********************************!*\\\n  !*** ./~/lodash/isFunction.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(/*! ./isObject */ 16);\n\t\n\t/** `Object#toString` result references. */\n\tvar funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]';\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/**\n\t * Used to resolve the\n\t * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objectToString = objectProto.toString;\n\t\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\t\n\tmodule.exports = isFunction;\n\n\n/***/ },\n/* 40 */\n/*!******************************!*\\\n  !*** ./~/lodash/isLength.js ***!\n  \\******************************/\n/***/ function(module, exports) {\n\n\t/** Used as references for various `Number` constants. */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\n\t/**\n\t * Checks if `value` is a valid array-like length.\n\t *\n\t * **Note:** This method is loosely based on\n\t * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n\t * @example\n\t *\n\t * _.isLength(3);\n\t * // => true\n\t *\n\t * _.isLength(Number.MIN_VALUE);\n\t * // => false\n\t *\n\t * _.isLength(Infinity);\n\t * // => false\n\t *\n\t * _.isLength('3');\n\t * // => false\n\t */\n\tfunction isLength(value) {\n\t  return typeof value == 'number' &&\n\t    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\t\n\tmodule.exports = isLength;\n\n\n/***/ },\n/* 41 */\n/*!**********************************!*\\\n  !*** ./~/lodash/isObjectLike.js ***!\n  \\**********************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * Checks if `value` is object-like. A value is object-like if it's not `null`\n\t * and has a `typeof` result of \"object\".\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n\t * @example\n\t *\n\t * _.isObjectLike({});\n\t * // => true\n\t *\n\t * _.isObjectLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObjectLike(_.noop);\n\t * // => false\n\t *\n\t * _.isObjectLike(null);\n\t * // => false\n\t */\n\tfunction isObjectLike(value) {\n\t  return !!value && typeof value == 'object';\n\t}\n\t\n\tmodule.exports = isObjectLike;\n\n\n/***/ },\n/* 42 */\n/*!**************************!*\\\n  !*** ./~/lodash/keys.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar arrayLikeKeys = __webpack_require__(/*! ./_arrayLikeKeys */ 27),\n\t    baseKeys = __webpack_require__(/*! ./_baseKeys */ 28),\n\t    isArrayLike = __webpack_require__(/*! ./isArrayLike */ 8);\n\t\n\t/**\n\t * Creates an array of the own enumerable property names of `object`.\n\t *\n\t * **Note:** Non-object values are coerced to objects. See the\n\t * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n\t * for more details.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.keys(new Foo);\n\t * // => ['a', 'b'] (iteration order is not guaranteed)\n\t *\n\t * _.keys('hi');\n\t * // => ['0', '1']\n\t */\n\tfunction keys(object) {\n\t  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n\t}\n\t\n\tmodule.exports = keys;\n\n\n/***/ },\n/* 43 */\n/*!******************************************************!*\\\n  !*** ./src/layouts/cc-validator/templates/base.html ***!\n  \\******************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-container IBMChat-secondary-colors\\\"> <div class=\\\"${ns}-row\\\"> <fieldset aria-describedby=\\\"cc_full_name_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_full_name_${uuid}\\\">${cc_name}</label> <input type=\\\"text\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"cc_full_name_${uuid}\\\" name=\\\"cc_full_name\\\" placeholder=\\\"${cc_name}\\\"/> <div id=\\\"cc_full_name_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_full_name\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </fieldset> </div> <div class=\\\"${ns}-row\\\"> <fieldset aria-describedby=\\\"cc_number_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_number_${uuid}\\\">${cc_num}</label> <input type=\\\"text\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"cc_number_${uuid}\\\" name=\\\"cc_number\\\" placeholder=\\\"${cc_num}\\\"/> <div id=\\\"cc_number_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_number\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </fieldset> </div> <div class=\\\"${ns}-row\\\"> <div class=\\\"${ns}-col\\\"> <fieldset aria-describedby=\\\"cc_exp_date_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_exp_date_month_${uuid}\\\">${cc_exp_mon}</label> <input class=\\\"${ns}-date IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_exp_date_month_${uuid}\\\" name=\\\"cc_exp_date_month\\\" placeholder=\\\"${placeholder_mon}\\\" size=\\\"3\\\" /> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_exp_date_year_${uuid}\\\">${cc_exp_year}</label> <input class=\\\"${ns}-date IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_exp_date_year_${uuid}\\\" name=\\\"cc_exp_date_year\\\" placeholder=\\\"${placeholder_year}\\\" size=\\\"5\\\" /> </fieldset> </div> <div class=\\\"${ns}-col\\\"> <fieldset aria-describedby=\\\"cc_code_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_code_${uuid}\\\">${cc_code_alt}</label> <input class=\\\"${ns}-cvv IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_code_${uuid}\\\" name=\\\"cc_code\\\" placeholder=\\\"${cc_code}\\\" size=\\\"6\\\" title=\\\"${cc_code_alt}\\\"/> </fieldset> </div> <div id=\\\"cc_exp_date_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_exp_date\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> <div id=\\\"cc_code_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_code\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </div> <div class=\\\"IBMChat-form-buttons\\\"> <button class=\\\"IBMChat-form-submit\\\">${submit}</button> <button class=\\\"IBMChat-form-cancel\\\">${cancel}</button> </div></div>\"\n\n/***/ },\n/* 44 */\n/*!**************************************************************!*\\\n  !*** ./src/layouts/choose-location-type/templates/base.html ***!\n  \\**************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-container\\\"> <div><button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"latlong\\\">${loc_curr}</button></div> <div><button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"zipcode\\\">${postal_code}</button></div></div>\"\n\n/***/ },\n/* 45 */\n/*!**************************************************!*\\\n  !*** ./src/layouts/choose/templates/button.html ***!\n  \\**************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"${text}\\\">${text}</button>\"\n\n/***/ },\n/* 46 */\n/*!**************************************************!*\\\n  !*** ./src/layouts/choose/templates/submit.html ***!\n  \\**************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button>${text}</button>\"\n\n/***/ },\n/* 47 */\n/*!***********************************************!*\\\n  !*** ./src/layouts/error/templates/base.html ***!\n  \\***********************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"IBMChat-error IBMChat-error-colors\\\"></div>\"\n\n/***/ },\n/* 48 */\n/*!**********************************************!*\\\n  !*** ./src/layouts/form/templates/base.html ***!\n  \\**********************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"IBMChat-form-container IBMChat-secondary-colors\\\"> <div class=\\\"IBMChat-form-fields\\\"></div> <div class=\\\"IBMChat-form-buttons\\\"> <button class=\\\"IBMChat-form-submit\\\">${submit}</button> <button class=\\\"IBMChat-form-cancel\\\">${cancel}</button> </div></div>\"\n\n/***/ },\n/* 49 */\n/*!***********************************************!*\\\n  !*** ./src/layouts/form/templates/field.html ***!\n  \\***********************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<fieldset aria-describedby=\\\"${name}_${uuid}_error\\\"> <label for=\\\"${name}_${uuid}\\\">${label}</label> <input type=\\\"${type}\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"${name}_${uuid}\\\" name=\\\"${name}\\\" value=\\\"${value}\\\" data-index=\\\"${index}\\\"/> <div id=\\\"${name}_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" style=\\\"display:none;\\\" data-validation-for=\\\"${name}\\\" data-valid=\\\"true\\\"></div></fieldset>\"\n\n/***/ },\n/* 50 */\n/*!*********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/add-location-item.html ***!\n  \\*********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-locations-item ${ns}-data-section\\\"> <div class=\\\"${ns}-locations-item-data-title\\\"></div> <div class=\\\"${ns}-data-float-holder\\\"> <div class=\\\"${ns}-locations-item-data\\\"> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-section\\\"> <a class=\\\"${ns}-locations-item-data-address-link\\\"> <div class=\\\"${ns}-locations-item-data-address\\\"></div> </a> </div> <div class=\\\"IBMChat-small-hide\\\"> <div class=\\\"${ns}-locations-item-data-hours\\\"></div> <div class=\\\"${ns}-locations-item-data-timezone\\\"></div> <div class=\\\"${ns}-locations-item-data-more-hours\\\"></div> </div> </div> </div> <div class=\\\"${ns}-locations-item-data\\\"> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-phone\\\"></div> <div class=\\\"${ns}-locations-item-data-email\\\"></div> </div> </div> </div> <div> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"IBMChat-small-show\\\"> <div class=\\\"${ns}-locations-item-data-hours\\\"></div> <div class=\\\"${ns}-locations-item-data-timezone\\\"></div> <div class=\\\"${ns}-locations-item-data-more-hours\\\"></div> </div> </div> <div class=\\\"${ns}-locations-all-holder\\\"> <button class=\\\"${ns}-locations-all IBMChat-accent-colors-button\\\">${loc_all}</button> </div> </div></div>\"\n\n/***/ },\n/* 51 */\n/*!**********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/add-locations-item.html ***!\n  \\**********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button aria-label=\\\"${address}\\\" class=\\\"${ns}-locations-item ${ns}-multiple-locations ${ns}-data-section\\\"> <div class=\\\"${ns}-locations-row\\\"> <div class=\\\"${ns}-locations-item-icon-holder ${ns}-locations-cell\\\"> <div class=\\\"${ns}-locations-item-icon\\\" style=\\\"color: ${accentText}; background: ${accentBackground};\\\">${iconText}</div> </div> <div class=\\\"${ns}-locations-cell\\\"> <div class=\\\"${ns}-locations-item-data-title\\\">${title}</div> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-address\\\">${address}</div> </div> </div> </div></button>\"\n\n/***/ },\n/* 52 */\n/*!********************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/base.html ***!\n  \\********************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}\\\"> <div class=\\\"${ns}-img\\\"></div> <div class=\\\"${ns}-data\\\"></div></div>\"\n\n/***/ },\n/* 53 */\n/*!********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/create-dom-array.html ***!\n  \\********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-contact-type\\\"></div><div class=\\\"${ns}-contact-data\\\"></div>\"\n\n/***/ },\n/* 54 */\n/*!******************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-timezone.html ***!\n  \\******************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-hours-timezone\\\">( ${timezone} )</div>\"\n\n/***/ },\n/* 55 */\n/*!**********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-today-closed.html ***!\n  \\**********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<span class=\\\"${ns}-hours-open\\\">${loc_closed_today}</span>\"\n\n/***/ },\n/* 56 */\n/*!***********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-today-unknown.html ***!\n  \\***********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<span class=\\\"${ns}-hours-open\\\">${loc_open_today}</span>\"\n\n/***/ },\n/* 57 */\n/*!************************!*\\\n  !*** ./src/styles.css ***!\n  \\************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \".IBMChat { height: 100%; width: 100%;}/* utils */.IBMChat-hidden { display: none;}.IBMChat-relative { position: relative;}.IBMChat-outer-container { border: none; box-sizing: border-box; display: table; table-layout: fixed; font-weight: normal; line-height: 1em; height: 100%; margin: 0 auto 0 auto; max-width: 768px; min-height: 300px; min-width: 288px; padding: 0; position: relative; text-align: left; width: 100%;}/* Agent Component */.IBMChat-inner-container { display: table-cell; height: 100%; margin: 0; padding: 0 1em 0 1em; vertical-align: bottom;}/* Chat Component */.IBMChat-chat-container { display: table-row; margin: 0; padding: 0;}/* Messages Component */.IBMChat-messages { height: auto; overflow-x: hidden; overflow-y: auto; padding: 0 1em 0 1em;}.IBMChat-messages label { display: block; font-weight: bold;}.IBMChat-messages input { border: 0; border-radius: 0; font-size: 1em; margin: 0; padding: 0 0 0.25em 0;}.IBMChat-messages button { background: none; border: 0; border-radius: 1em; color: inherit; cursor: pointer; font: inherit; line-height: 1.5em; margin: 0; padding: 0.25em 1em 0.25em 1em; text-align: left; -webkit-appearance: button; /* for input */ -webkit-user-select: none; /* for button */ -moz-user-select: none; -ms-user-select: none;}.IBMChat-messages button[disabled=\\\"true\\\"] { cursor: default; opacity: .5;}.IBMChat-messages button[disabled=\\\"true\\\"]:focus { outline: none;}.IBMChat-messages button::-moz-focus-inner { border: 0; padding: 0;}.IBMChat-watson-intent:not(:empty) { display: flex; align-items: baseline; margin: 1em; padding: 0.5em 0.75em 0.5em 0.75em; background-color: #595859; /* gray 60 */ border: 1px solid #777677; /* gray 50 */ border-radius: 4px; line-height: 1.1em; /* required due to `overflow` in `label` below */}.IBMChat-watson-intent label { flex: 1 1 auto; font-weight: normal; color: #eaeaea; /* gray 1 */ text-transform: none; overflow: hidden; word-wrap: break-word; /* old prop name; required by IE */ overflow-wrap: break-word; /* standard prop name */}.IBMChat-watson-intent a { margin-left: 0.5em;}/* WatsonMessage Component */.IBMChat-watson-message-container { margin: 1em 0 1em 0; position: relative;}.IBMChat-watson-message { line-height: 1.5em; min-height: 1.5em; padding: 0 0 0 1em; word-wrap: break-word;}.IBMChat-watson-message a { display: inline-block; word-break: break-all;}.IBMChat-watson-message-line { left: 0; height: 1.5em; position: absolute; top: 0;}.IBMChat-disabled-layout { opacity: 0.7;}/* UserMessage Component */.IBMChat-user-message-container {\\tmargin: 1em 0 1em 2em;\\ttext-align: right;}.IBMChat-user-message { border-radius: 4px; display: inline-block; line-height: 1.5em; padding: 0.5em 0.75em 0.5em 0.75em; text-align: left; max-width: 100%; overflow: hidden; word-wrap: break-word;}/* Input Component */.IBMChat-input-container { display: table-row; margin: 0; padding: 0;}.IBMChat-input-form { display: table-cell; position: relative; min-height: 30px;}.IBMChat-chat-textbox-container { min-height: 30px; padding: 1em 2em 2em 2em;}.IBMChat-chat-textbox-clone-holder { height: 0; overflow: hidden;}.IBMChat-chat-textbox-clone { border-bottom: 1px solid transparent; font-weight: normal; line-height: 1.5em; margin: 0; min-height: 26px; padding: 0; position: relative; white-space: pre-wrap; white-space: pre-line; word-wrap: break-word; visibility: hidden;}.IBMChat-chat-textbox { background: transparent; border: none; border-radius: 0; border-image-width: 0; color: inherit; font-weight: normal; height: 1.5em; line-height: 1.5em; margin: 0; min-height: 26px; overflow: hidden; padding: 0 0 3px 0; resize: none; text-wrap: unrestricted; vertical-align: bottom; width: 100%; white-space: pre-wrap; white-space: pre-line; word-wrap: break-word;}.IBMChat-chat-textbox[disabled='disabled'] { opacity: 0.5;}.IBMChat-input-form::-webkit-input-placeholder { opacity: 1;}.IBMChat-chat-textbox:focus {\\toutline: none;\\tpadding: 0 0 2px 0;}/* Layout Component */.IBMChat-watson-layout { padding: 4px;}/* validation error message */.IBMChat-validation-error { padding: 0.5em; font-size: 0.9em;}/* class to hide an element from everyone but screen readers for visually impared */.IBMChat-screen-reader-text {\\tclip: rect(1px, 1px, 1px, 1px);\\theight: 1px;\\twidth: 1px;\\toverflow: hidden;\\tposition: absolute !important;}/* Loading */.IBMChat-loading-container { margin-bottom: 1em;}.IBMChat-loading { min-height: 30px; position: relative;}.IBMChat-loading-icon { height: 30px; width: 10px; position: absolute; top: 0; left: -4px;}.IBMChat-ball { position: absolute; left: 5px; width: 5px; height: 5px; border-radius: 50%;}.IBMChat-ball:nth-child(1) { top: 7.5px;}.IBMChat-ball:nth-child(2) { top: 17.5px;}.IBMChat-ball:nth-child(3) { top: 12.5px;}.IBMChat-loading-message { display: inline-block; min-height: 30px; line-height: 1.2em; padding: 5px 1em 0 1em;}.IBMChat-bouncing { animation: bounceBack 420ms infinite; animation-direction: alternate; animation-timing-function: ease-in-out; animation-timing-function: cubic-bezier(.42,0,1,1);}.IBMChat-bouncing:nth-child(2) { animation: bounce 420ms infinite; animation-direction: alternate; animation-timing-function: ease-in-out; animation-timing-function: cubic-bezier(.42,0,1,1);}@keyframes bounce { 0% { transform: translateY(5px); } 72% { transform: translateY(-5px); } 72%,100%{ transform: translateY(-5px); }}@keyframes bounceBack { 0% { transform: translateY(-5px); } 72% { transform: translateY(5px); } 72%,100%{ transform: translateY(5px); }}/* responsive */.IBMChat-small-show { display: unset;}.IBMChat-small-hide { display: none;}.IBMChat-isLarge .IBMChat-small-show { display: none;}.IBMChat-isLarge .IBMChat-small-hide { display: unset;}/* cc-validator */.IBMChat-creditcard-container { margin-top: 1em; padding: 1em 1.5em 1em 1.5em; width: 240px;}.IBMChat-creditcard-container fieldset { border:none; margin:0; padding:0;}.IBMChat-creditcard-row { padding-bottom: 1em;}.IBMChat-creditcard-row input[name=\\\"cc_full_name\\\"], .IBMChat-creditcard-row input[name=\\\"cc_number\\\"] { width: 100%;}.IBMChat-creditcard-row input[name=\\\"cc_exp_date_month\\\"] { max-width: 32px;}.IBMChat-creditcard-row input[name=\\\"cc_exp_date_year\\\"], .IBMChat-creditcard-row input[name=\\\"cc_code\\\"] { max-width: 64px;}.IBMChat-creditcard-col { display: inline-block;}.IBMChat-creditcard-col:nth-child(2) { padding-left:1.5em;}.IBMChat-creditcard-buttons:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-creditcard-buttons button { width: 95px; float: left; text-overflow: clip;}.IBMChat-creditcard-buttons button:last-child { float: right; text-overflow: clip;}/* choose */.IBMChat-choose-container > div {\\tmargin-top: 1em;}/* choose location type */.IBMChat-islocationapi-container > div {\\tmargin-top: 1em;}/* error */.IBMChat-error { padding: 0.5em 1em 0.5em 1em;}/* form */.IBMChat-form-container { margin-top: 1em; padding: 1em 1.5em 1em 1.5em; width: 240px;}.IBMChat-form-container fieldset { border:none; margin:0; padding:0;}.IBMChat-form-fields { width:100%;}.IBMChat-form-fields-row { padding-bottom:1.5em;}.IBMChat-form-fields-row input { width: 100%;}.IBMChat-form-buttons { text-align:center; width: 100%;}.IBMChat-form-buttons:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}button.IBMChat-form-submit { margin-bottom: 1em; text-align: center; width: 100%;}button.IBMChat-form-cancel, button.IBMChat-form-cancel.IBMChat-accent-colors { border: 0 !important; border-radius:0; font-size: 0.8em; line-height:1em; padding: 2px 4px 2px 4px; text-align:center;}/* locations */.IBMChat-map { margin-top: 1em;}.IBMChat-map-data { font-size:0.85em;}.IBMChat-map-img { overflow: hidden;}.IBMChat-map-img img { margin: 0 0 0.5em 0; height: 120px;}.IBMChat-map-multiple-locations { cursor: default; display: table; width: 100%;}.IBMChat-map-multiple-locations .IBMChat-map-locations-row { display:table-row; width: 100%;}.IBMChat-map-multiple-locations .IBMChat-map-locations-cell { display: table-cell; overflow: hidden; word-wrap: break-word;}.IBMChat-map-location-active .IBMChat-map-multiple-locations { opacity: 1;}.IBMChat-map-locations-item.IBMChat-map-multiple-locations { padding: 0.5em 0 0.5em 0; white-space: normal;}.IBMChat-disabled-layout .IBMChat-map-locations-item.IBMChat-map-multiple-locations { cursor: default;}.IBMChat-map-data-section { margin-top:0.5em;}.IBMChat-map-data-float-holder:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-map-locations-item { border-bottom:1px solid #505050; text-align:left; padding: 1em;}.IBMChat-map-locations-item-icon-holder { text-align:center; width: 40px;}.IBMChat-map-locations-item-icon { border-radius: 24px; height:24px; line-height: 24px; margin-right:8px; width:24px;}.IBMChat-map-locations-item-data {}.IBMChat-map-locations-item-data-title { font-size:1.3em; font-weight:300; line-height:1.2em;}.IBMChat-map-locations-item-data-section { padding-bottom:0.5em;}.IBMChat-map-locations-item-data-email { padding-bottom:0;}.IBMChat-map-locations-item-data-phone { display: table; max-width:400px; width: 100%;}.IBMChat-map-contact-row { padding-bottom:0.5em;}.IBMChat-map-contact-type { font-size:0.9em;}button.IBMChat-map-locations-all { font-size:0.9em; line-height:1.5em; margin: 1em 0 0 0; padding: 0 0.5em 0 0.5em;}.IBMChat-map-hours-open { font-weight: bold;}.IBMChat-map-days-hours-day, .IBMChat-map-days-hours-hours, .IBMChat-map-days-hours-closed { overflow: hidden; word-wrap: break-word;}.IBMChat-map-days-hours-day { font-weight: bold;}.IBMChat-map-hours-timezone { font-size: 0.8em; padding-bottom: 0.5em;}.IBMChat-map-locations-item-data-hours { margin-top:0.5em;}.IBMChat-isLarge .IBMChat-map-locations-item-data { float:left; padding-right:5%; width:45%;}.IBMChat-isLarge .IBMChat-map-locations-item-data-hours { margin-top:0;}.IBMChat-isLarge .IBMChat-map-locations-item-data-more-hours { margin-top:0.5em;}\"\n\n/***/ },\n/* 58 */\n/*!**********************************!*\\\n  !*** ./src/templates/input.html ***!\n  \\**********************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form class=\\\"IBMChat-input-form\\\"> <div class=\\\"IBMChat-chat-text-container\\\"> <div class=\\\"IBMChat-chat-textbox-container\\\"> <textarea aria-labelledby=\\\"Enter a Message\\\" class=\\\"IBMChat-chat-textbox\\\" placeholder=\\\"${placeholder}\\\"></textarea> <div class=\\\"IBMChat-chat-textbox-clone-holder\\\"> <div class=\\\"IBMChat-chat-textbox-clone\\\" aria-hidden=\\\"true\\\">${placeholder}</div> </div> </div> </div></form>\"\n\n/***/ },\n/* 59 */\n/*!************************************!*\\\n  !*** ./src/templates/loading.html ***!\n  \\************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<section class=\\\"IBMChat-loading-container\\\"> <div class=\\\"IBMChat-loading IBMChat-hidden\\\"> <div class=\\\"IBMChat-loading-icon\\\" aria-hidden=\\\"true\\\"> <div class=\\\"IBMChat-ball IBMChat-bouncing\\\"></div> <div class=\\\"IBMChat-ball IBMChat-bouncing\\\"></div> <div class=\\\"IBMChat-ball\\\"></div> </div> <div class=\\\"IBMChat-loading-message\\\"> <span class=\\\"IBMChat-loading-message-text\\\"></span> <span class=\\\"IBMChat-loading-message-retry\\\"> <span class=\\\"IBMChat-loading-retry-message IBMChat-hidden\\\">${retryAttempt}</span> </span> </div> </div> <div class=\\\"IBMChat-loading-failure-message IBMChat-watson-message-container IBMChat-hidden\\\"> <div class=\\\"IBMChat-watson-message-line\\\"></div> <div class=\\\"IBMChat-watson-message\\\"></div> </div></section>\"\n\n/***/ },\n/* 60 */\n/*!************************************!*\\\n  !*** ./src/templates/receive.html ***!\n  \\************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"IBMChat-watson-message-container\\\"></div>\"\n\n/***/ },\n/* 61 */\n/*!*********************************!*\\\n  !*** ./src/templates/send.html ***!\n  \\*********************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div id=\\\"${data.uuid}\\\" class=\\\"IBMChat-user-message-container\\\"> <div class=\\\"IBMChat-user-message IBMChat-secondary-colors\\\"></div></div>\"\n\n/***/ },\n/* 62 */\n/*!**********************************!*\\\n  !*** ./src/templates/start.html ***!\n  \\**********************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"IBMChat\\\"> <div class=\\\"IBMChat-outer-container IBMChat-default-colors\\\"> <div class=\\\"IBMChat-fade\\\"></div> <div class=\\\"IBMChat-chat-container\\\"> <div class=\\\"IBMChat-inner-container\\\"> <div class=\\\"IBMChat-messages\\\"></div> </div> </div> </div></div>\"\n\n/***/ },\n/* 63 */\n/*!**************************!*\\\n  !*** ./src/bootstrap.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar layouts = __webpack_require__(/*! ./layouts */ 85);\n\tvar events = __webpack_require__(/*! ./events */ 1);\n\tvar eventHandlers = __webpack_require__(/*! ./events/handlers */ 68);\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 5);\n\tvar state = __webpack_require__(/*! ./state */ 2);\n\tvar context = __webpack_require__(/*! ./context */ 64);\n\tvar utils = __webpack_require__(/*! ./utils */ 4);\n\tvar profile = __webpack_require__(/*! ./profile */ 9);\n\tvar assign = __webpack_require__(/*! lodash/assign */ 6);\n\tvar styles = __webpack_require__(/*! ./styles */ 10);\n\tvar defaultStyles = styles.defaultStyles;\n\t\n\t\n\tvar layoutInit = {};\n\tvar registeredLayouts = [];\n\t\n\tfunction registerEvents(tryIt, playback) {\n\t  events.subscribe('start', eventHandlers.start);\n\t  events.subscribe('chatID', eventHandlers.chatID);\n\t  events.subscribe('resize', eventHandlers.resize);\n\t  events.subscribe('disable-input', eventHandlers.input.disableInput);\n\t  events.subscribe('enable-loading', eventHandlers.input.enableLoadingInput);\n\t  events.subscribe('disable-loading', eventHandlers.input.disableLoadingInput);\n\t  events.subscribe('scroll-to-bottom', eventHandlers.scrollToBottom);\n\t  events.subscribe('receive', eventHandlers.receive);\n\t  if (playback === true) { //TODO: remove if playback when Dashboard code is updated\n\t    events.subscribe('send', eventHandlers.sendMock);\n\t  } else {\n\t    events.subscribe('clear', eventHandlers.clear);\n\t    events.subscribe('send', eventHandlers.send.send);\n\t    events.subscribe('retry', eventHandlers.send.retry);\n\t    events.subscribe('send-input-message', eventHandlers.sendInputMessage);\n\t    events.subscribe('enable-retry', eventHandlers.error.retry);\n\t    events.subscribe('enable-input', eventHandlers.input.enableInput);\n\t    events.subscribe('focus-input', eventHandlers.input.focusInput);\n\t    events.subscribe('send-mock', eventHandlers.sendMock);\n\t    events.subscribe('error-clear', eventHandlers.error.clearError);\n\t    events.subscribe('reset', eventHandlers.reset);\n\t  }\n\t  if (tryIt === true) {\n\t    events.subscribe('try-it-error', eventHandlers.error.tryIt);\n\t    events.subscribe('try-it-layout-subscription', eventHandlers.tryIt.layoutError);\n\t    events.subscribe('try-it-action-subscription', eventHandlers.tryIt.actionError);\n\t    events.subscribe('try-it-receive-intent-data', eventHandlers.tryIt.intent);\n\t  }\n\t}\n\t\n\tfunction registerLayouts() {\n\t  registerLayout('show-locations', layouts.showLocations.init, true);\n\t  registerLayout('choose-location-type', layouts.chooseLocationType.init, true);\n\t  registerLayout('request-geolocation-latlong', layouts.requestGeolocationLatlong.init, true);\n\t  registerLayout('request-geolocation-zipcode', layouts.requestGeolocationZipcode.init, true);\n\t  registerLayout('choose', layouts.choose.init, true);\n\t  registerLayout('form', layouts.form.init, true);\n\t  registerLayout('cc-validator', layouts.creditCard.init, true);\n\t  registerLayout('error', layouts.error.init, true);\n\t  for (var i = 0; i < registeredLayouts.length; i++)\n\t    layoutInit[registeredLayouts[i]]();\n\t}\n\t\n\tfunction init(config) {\n\t  var current = state.get();\n\t  if (current.active === true) {\n\t    return destroy()\n\t      .then(function() {\n\t        return init(config);\n\t      });\n\t  }\n\t\n\t  var root = (typeof config.el === 'string') ? document.getElementById(config.el) : config.el;\n\t  var SDKconfig = utils.getSDKConfig(config);\n\t\n\t  // i18n\n\t  var locale = config.locale || 'en';  // default to english\n\t  state.set({\n\t    locale: locale\n\t  });\n\t  if (config.defaultCountry) {\n\t    state.set({\n\t      defaultCountry: config.defaultCountry\n\t    });\n\t  }\n\t  if (config.langBundle) {\n\t    if (typeof config.langBundle === 'object') {\n\t      // store language bundle that matches locale\n\t      var bundle = config.langBundle[locale];\n\t      if (!bundle) {\n\t        // couldn't find a bundle associated with locale, default to english\n\t        console.warn('Could not find language bundle for ' + locale + '. ' +\n\t                      'Defaulting to English.');\n\t        locale = 'en';\n\t        bundle = config.langBundle.en;\n\t      }\n\t      state.set({\n\t        locale: locale,\n\t        langBundle: bundle\n\t      });\n\t    }\n\t  }\n\t\n\t  return new window.Promise(function(resolve, reject) {\n\t    var defaultState = {\n\t      active: true,\n\t      root: root,\n\t      mapsServer: (\"https://dp1-i-serve-maps.mybluemix.net\") || 'https://dp1-i-serve-maps.mybluemix.net/',\n\t      botID: config.botID,\n\t      styles: assign({}, defaultStyles, config.styles),\n\t      baseURL: SDKconfig.baseURL || 'https://api.ibm.com/virtualagent/run/api/v1/',\n\t      originalContent: root.innerHTML,\n\t      handleInput: {\n\t        default: true\n\t      },\n\t      minSeconds: (!config.minSeconds && config.minSeconds !== 0) ? 0.75 : config.minSeconds,\n\t      chatStyleID: 'chatStyleID-' + utils.getUUID(),\n\t      tryIt: config.tryIt || false,\n\t      playback: config.playback || false //TODO: remove playback when Dashboard code is updated\n\t    };\n\t    if (utils.checkRoot(root)) {\n\t      if (config.errorHandler)\n\t        events.subscribe('httpError', config.errorHandler, config.errorHandlerContext);\n\t      else\n\t        events.subscribe('httpError', eventHandlers.error.httpError);\n\t      registerEvents(config.tryIt, config.playback);\n\t      registerLayouts();\n\t      //TODO: remove if playback when Dashboard code is updated\n\t      if (config.playback === true) {\n\t        events.publish('start', defaultState);\n\t        setTimeout(function() {\n\t          events.publish('chatID', 'playback');\n\t        }, 0);\n\t        setTimeout(function() {\n\t          resolve();\n\t        }, 0);\n\t      } else if (config.botID) {\n\t        events.publish('start', defaultState);\n\t        events.publish('enable-loading');\n\t        events.publish('disable-input');\n\t        BotSDK\n\t          .configure( SDKconfig )\n\t          .start( config.botID )\n\t          .then( function(res) {\n\t            events.publish('chatID', res.chatID);\n\t            events.publish('receive', res);\n\t          })['catch']( function(err) {\n\t            events.publish('httpError', err);\n\t          }).then(function() {\n\t            setTimeout(function() {\n\t              events.publish('enable-input');\n\t              resolve();\n\t            }, 0);\n\t          });\n\t      } else {\n\t        console.error('BotID is required!');\n\t        destroy();\n\t        reject({\n\t          error: 'BotID is required!'\n\t        });\n\t      }\n\t    } else {\n\t      console.error('Element for chat does not exist!');\n\t      destroy();\n\t      reject({\n\t        error: 'Element for chat does not exist!'\n\t      });\n\t    }\n\t  });\n\t}\n\t\n\tfunction registerLayout(layout, init, defaultSetup) {\n\t  if (layout && init && typeof init === 'function') {\n\t    if (registeredLayouts.indexOf(layout) === -1 || !defaultSetup) {\n\t      registeredLayouts.push(layout);\n\t      layoutInit[layout] = init;\n\t    }\n\t  } else {\n\t    console.error('registerLayout was configured incorrectly.');\n\t  }\n\t}\n\t\n\tfunction send(message) {\n\t  if (message) {\n\t    var current = state.get();\n\t    if (current.active) {\n\t      events.publish('send', {\n\t        text: message\n\t      });\n\t    }\n\t  } else {\n\t    console.error('The message was empty.');\n\t  }\n\t}\n\t\n\tfunction receive(message) {\n\t  if (message) {\n\t    var current = state.get();\n\t    if (current.active)\n\t      events.publish('receive', message);\n\t  } else {\n\t    console.error('The message was empty.');\n\t  }\n\t}\n\t\n\tfunction sendMock(message) {\n\t  if (message) {\n\t    var current = state.get();\n\t    if (current.active) {\n\t      events.publish('send-mock', {\n\t        text: message\n\t      });\n\t    }\n\t  } else {\n\t    console.error('The message was empty.');\n\t  }\n\t}\n\t\n\tfunction sendSilently(message) {\n\t  if (message) {\n\t    var current = state.get();\n\t    if (current.active) {\n\t      events.publish('send', {\n\t        text: message,\n\t        silent: true\n\t      });\n\t    }\n\t  } else {\n\t    console.error('The message was empty.');\n\t  }\n\t}\n\t\n\tfunction enableCustomInputHandler(config) {\n\t  if (config && config.callback && typeof config.callback === 'function') {\n\t    state.set({\n\t      handleInput: {\n\t        default: false,\n\t        callback: config.callback,\n\t        context: config.context\n\t      }\n\t    });\n\t  } else {\n\t    console.error('Invalid configuration of enableCustomInputHandler');\n\t  }\n\t}\n\t\n\tfunction disableCustomInputHandler() {\n\t  state.set({\n\t    handleInput: {\n\t      default: true\n\t    }\n\t  });\n\t}\n\t\n\tfunction focusInput() {\n\t  var current = state.get();\n\t  if (current.active)\n\t    events.publish('focus-input');\n\t}\n\t\n\tfunction disableInput() {\n\t  var current = state.get();\n\t  if (current.active)\n\t    events.publish('disable-input');\n\t}\n\t\n\tfunction enableInput() {\n\t  var current = state.get();\n\t  if (current.active)\n\t    events.publish('enable-input');\n\t}\n\t\n\tfunction debug() {\n\t  state.set({\n\t    DEBUG: true\n\t  });\n\t}\n\t\n\tfunction destroy() {\n\t  return new window.Promise(function(resolve) {\n\t    var current = state.get();\n\t    if (current.active) {\n\t      styles.removeStyles(current.root, current.chatStyleID, current.chatID);\n\t      if (current.root && current.onResize) {\n\t        utils.endVisibilityCheck();\n\t        if (typeof current.originalContent !== 'undefined' && current.root)\n\t          current.root.innerHTML = current.originalContent;\n\t      }\n\t      events.publish('destroy');\n\t      events.destroy();\n\t      state.destroy();\n\t    }\n\t    resolve();\n\t  });\n\t}\n\t\n\tfunction restart() {\n\t  console.warn('The IBMChat.restart method is deprecated. Use IBMChat.clear() instead.');\n\t  return new window.Promise(function(resolve, reject) {\n\t    var current = state.get();\n\t    destroy().then(function() {\n\t      setTimeout(function() {\n\t        init({ el: current.root, botID: current.botID, baseURL: current.baseURL }).then(function() {\n\t          resolve();\n\t        })['catch'](function(e) {\n\t          reject(e);\n\t        });\n\t      }, 10);\n\t    })['catch'](function(e) {\n\t      reject(e);\n\t    });\n\t  });\n\t}\n\t\n\tmodule.exports = {\n\t  profile: profile,\n\t  init: init,\n\t  registerLayout: registerLayout,\n\t  send: send,\n\t  receive: receive,\n\t  sendMock: sendMock,\n\t  sendSilently: sendSilently,\n\t  enableCustomInputHandler: enableCustomInputHandler,\n\t  disableCustomInputHandler: disableCustomInputHandler,\n\t  focusInput: focusInput,\n\t  disableInput: disableInput,\n\t  enableInput: enableInput,\n\t  subscribe: events.subscribe,\n\t  subscribeOnce: events.subscribeOnce,\n\t  publish: events.publish,\n\t  debug: debug,\n\t  destroy: destroy,\n\t  restart: restart,\n\t  currentSubscriptions: events.currentSubscriptions,\n\t  hasSubscription: events.hasSubscription,\n\t  completeEvent: events.completeEvent,\n\t  state: state,\n\t  context: context,\n\t  clear: function() {\n\t    events.publish('reset');\n\t  }\n\t};\n\n\n/***/ },\n/* 64 */\n/*!******************************!*\\\n  !*** ./src/context/index.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../state */ 2);\n\t\n\tfunction set(context) {\n\t  state.set({\n\t    context: context\n\t  });\n\t}\n\t\n\tfunction get() {\n\t  var current = state.get();\n\t  return current.context;\n\t}\n\t\n\tmodule.exports = {\n\t  set: set,\n\t  get: get\n\t};\n\n\n/***/ },\n/* 65 */\n/*!***************************************!*\\\n  !*** ./src/events/handlers/chatid.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\t\n\tfunction chatID(chatID) {\n\t  var current = state.get();\n\t  var prefix = 'chatID-';\n\t  var classes = current.root.className.split(' ').filter(function(c) {\n\t    return c.lastIndexOf(prefix, 0) !== 0;\n\t  });\n\t  state.set({\n\t    chatID: chatID\n\t  });\n\t  current.root.className = classes.join(' ').trim();\n\t  current.root.classList.add(prefix + chatID);\n\t}\n\t\n\tmodule.exports = chatID;\n\n\n/***/ },\n/* 66 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/clear.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\t\n\tfunction clear() {\n\t  var current = state.get();\n\t  state.set({\n\t    messages: []\n\t  });\n\t  current.root.classList.add(\"chatID-\" + current.chatID);\n\t  current.input.value = '';\n\t  current.inputClone.textContent = i18n('prompt');\n\t  current.chatHolder.innerHTML = '';\n\t  events.publish('resize-input');\n\t  events.publish('resize');\n\t}\n\t\n\tmodule.exports = clear;\n\n\n/***/ },\n/* 67 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/error.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\t\n\t// error messages need to be wrapped in function call so that i18n is properly\n\t// setup (based on params to IBMChat.init)\n\tvar errorMessageMap = {\n\t  basic: function() { return i18n('basic_err'); }\n\t};\n\t\n\tfunction clearError() {\n\t  setTimeout(function() {\n\t    var current = state.get();\n\t    var loader = current.root.querySelector('.IBMChat-loading-container');\n\t    if (loader)\n\t      current.chatHolder.removeChild(loader);\n\t    state.set({\n\t      errorCount: 0\n\t    });\n\t  }, 0);\n\t}\n\t\n\tfunction httpError(err) {\n\t  setTimeout(function() {\n\t    console.error(err);\n\t    var current = state.get();\n\t    var text;\n\t    if (err.status && errorMessageMap[err.status]) {\n\t      text = errorMessageMap[err.status]();\n\t    } else {\n\t      text = errorMessageMap['basic']();\n\t    }\n\t    var errorCount = current.errorCount || 0;\n\t    events.publish('enable-loading', text);\n\t    state.set({\n\t      errorCount: errorCount + 1\n\t    });\n\t    events.publish('enable-retry');\n\t  }, 0);\n\t}\n\t\n\tfunction retry() {\n\t  setTimeout(function() {\n\t    var current = state.get();\n\t    var errorCount = current.errorCount;\n\t    var loaderRetryMessage = current.root.querySelector('.IBMChat-loading-retry-message');\n\t    var loader = current.root.querySelector('.IBMChat-loading');\n\t    var loaderFailure = current.root.querySelector('.IBMChat-loading-failure-message');\n\t    var loaderFailureMessage = loaderFailure.querySelector('.IBMChat-watson-message');\n\t    if (errorCount > 4) {\n\t      var loaderFailureMessageTmpl = i18n('loading_failure1');\n\t      if (!current.chatID) {\n\t        loaderFailureMessageTmpl = i18n('loading_failure2');\n\t        events.publish('disable-input');\n\t      } else {\n\t        events.publish('enable-input');\n\t      }\n\t      loader.classList.add('IBMChat-hidden');\n\t      loaderFailureMessage.innerHTML = loaderFailureMessageTmpl;\n\t      loaderFailure.classList.remove('IBMChat-hidden');\n\t      events.publish('scroll-to-bottom');\n\t      state.set({\n\t        sendQueue: [],\n\t        inProgress: false\n\t      });\n\t    } else if (errorCount !== 0) {\n\t      loaderFailure.classList.add('IBMChat-hidden');\n\t      loaderRetryMessage.classList.remove('IBMChat-hidden');\n\t      setTimeout(function() {\n\t        events.publish('retry');\n\t      }, 5000);\n\t    }\n\t  }, 0);\n\t}\n\t\n\tfunction tryIt(data) {\n\t  events.publish('layout:error', data);\n\t}\n\t\n\tmodule.exports = {\n\t  httpError: httpError,\n\t  retry: retry,\n\t  clearError: clearError,\n\t  tryIt: tryIt\n\t};\n\n\n/***/ },\n/* 68 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/index.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar start = __webpack_require__(/*! ./start */ 77);\n\tvar resize = __webpack_require__(/*! ./resize */ 72);\n\tvar receive = __webpack_require__(/*! ./receive */ 70);\n\tvar send = __webpack_require__(/*! ./send */ 76);\n\tvar sendMock = __webpack_require__(/*! ./send-mock */ 75);\n\tvar sendInputMessage = __webpack_require__(/*! ./send-input-message */ 74);\n\tvar input = __webpack_require__(/*! ./input */ 69);\n\tvar error = __webpack_require__(/*! ./error */ 67);\n\tvar scrollToBottom = __webpack_require__(/*! ./scroll-to-bottom */ 73);\n\tvar tryIt = __webpack_require__(/*! ./try-it */ 78);\n\tvar clear = __webpack_require__(/*! ./clear */ 66);\n\tvar reset = __webpack_require__(/*! ./reset */ 71);\n\tvar chatID = __webpack_require__(/*! ./chatid */ 65);\n\t\n\tmodule.exports = {\n\t  /**\n\t  * Resize event. Forces a resize of the Chat UI elements to fix current parent element.\n\t  *\n\t  * @event resize\n\t  * @example\n\t  * IBMChat.publish('resize');\n\t  * IBMChat.subscribe('resize', function(){\n\t  *\n\t  * });\n\t  */\n\t  resize: resize,\n\t  /**\n\t  * @ignore\n\t  */\n\t  start: start,\n\t  /**\n\t  * @ignore\n\t  */\n\t  clear: clear,\n\t  /**\n\t  * Send event. Sends a message.\n\t  *\n\t  * @event send\n\t  * @property {Object} data\n\t  * @property {string} data.text - Text to send to Watson Virtual Agent\n\t  * @property {boolean} data.sendSilently - whether or not to show in UI, defaults to true\n\t  * @example\n\t  * IBMChat.publish('send', data);\n\t  * IBMChat.subscribe('send', function(data){\n\t  *\n\t  * });\n\t  */\n\t  send: send,\n\t  /**\n\t  * sendMock event. Displays a message in the UI, but does not send it to the Watson Virtual Agent.\n\t  *\n\t  * @event sendMock\n\t  * @property {Object} data\n\t  * @property {string} data.text - Text to send to Watson Virtual Agent\n\t  * @property {boolean} data.sendSilently - whether or not to show in UI, defaults to true\n\t  * @example\n\t  * IBMChat.publish('sendMock', data);\n\t  * IBMChat.subscribe('sendMock', function(data){\n\t  *\n\t  * });\n\t  */\n\t  sendMock: sendMock,\n\t  /**\n\t  * Receive event.\n\t  *\n\t  * @event receive\n\t  * @property {Object} message - A message object.\n\t  * @example\n\t  * IBMChat.publish('receive', message);\n\t  * IBMChat.subscribe('receive', function(message){\n\t  *\n\t  * });\n\t  */\n\t  receive: receive,\n\t  /**\n\t  * Enable Input event. Allows submitting from input field when it has been disabled.\n\t  *\n\t  * @event enable-input\n\t  * @example\n\t  * IBMChat.publish('enable-input');\n\t  * IBMChat.subscribe('enable-input', function(){\n\t  *\n\t  * });\n\t  */\n\t  /**\n\t  * Disable Input event. Disallows submitting from input field.\n\t  *\n\t  * @event disable-input\n\t  * @example\n\t  * IBMChat.publish('disable-input');\n\t  * IBMChat.subscribe('disable-input', function(){\n\t  *\n\t  * });\n\t  */\n\t  /**\n\t  * Enable Loading event. Shows loading state.\n\t  *\n\t  * @event enable-loading\n\t  * @example\n\t  * IBMChat.publish('enable-loading', 'string to display');\n\t  * IBMChat.subscribe('enable-loading', function(){\n\t  *\n\t  * });\n\t  */\n\t  /**\n\t  * Disable loading event. Hides loading state.\n\t  *\n\t  * @event disable-loading\n\t  * @example\n\t  * IBMChat.publish('disable-loading');\n\t  * IBMChat.subscribe('disable-loading', function(){\n\t  *\n\t  * });\n\t  */\n\t  input: input,\n\t  /**\n\t  * Error event.\n\t  *\n\t  * @event error\n\t  * @property {Object} error - Error object.\n\t  * @example\n\t  * IBMChat.publish('error', error);\n\t  * IBMChat.subscribe('error', function(error){\n\t  *\n\t  * });\n\t  */\n\t  error: error,\n\t  /**\n\t  * Scroll to bottom event. Scrolls chat content into correct positioning.\n\t  *\n\t  * @event scroll-to-bottom\n\t  * @example\n\t  * IBMChat.publish('scroll-to-bottom');\n\t  * IBMChat.subscribe('scroll-to-bottom', function(){\n\t  *\n\t  * });\n\t  */\n\t  scrollToBottom: scrollToBottom,\n\t  /**\n\t  * @ignore\n\t  */\n\t  sendInputMessage: sendInputMessage,\n\t  /**\n\t  * @ignore\n\t  */\n\t  tryIt: tryIt,\n\t  /**\n\t  * @ignore\n\t  */\n\t  chatID: chatID,\n\t  /**\n\t  * @ignore\n\t  */\n\t  reset: reset\n\t};\n\n\n/***/ },\n/* 69 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/input.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar templates = __webpack_require__(/*! ../../templates */ 7);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\t\n\tfunction enableInput() {\n\t  var current = state.get();\n\t  state.set({ disableInput: false });\n\t  current.input.removeAttribute('disabled');\n\t}\n\t\n\tfunction disableInput() {\n\t  var current = state.get();\n\t  state.set({ disableInput: true });\n\t  current.input.setAttribute('disabled', 'disabled');\n\t}\n\t\n\tfunction enableLoadingInput(text) {\n\t  var current, loader;\n\t  setTimeout(function() {\n\t    current = state.get();\n\t    text = text || i18n('thinking');\n\t    loader = current.root.querySelector('.IBMChat-loading-container');\n\t    if (loader)\n\t      current.chatHolder.removeChild(loader);\n\t  }, 0);\n\t\n\t  setTimeout(function() {\n\t    current.chatHolder.innerHTML += utils.compile(templates.loading, {\n\t      retryAttempt: i18n('reconnect')\n\t    });\n\t  }, 0);\n\t\n\t  setTimeout(function() {\n\t    loader = current.root.querySelector('.IBMChat-loading');\n\t    var loaderText = current.root.querySelector('.IBMChat-loading-message-text');\n\t    loader.classList.remove('IBMChat-hidden');\n\t    loaderText.textContent = text;\n\t    events.publish('resize');\n\t  }, 0);\n\t}\n\t\n\tfunction disableLoadingInput() {\n\t  setTimeout(function() {\n\t    var current = state.get();\n\t    var loader = current.root.querySelector('.IBMChat-loading-container');\n\t\n\t    if (loader)\n\t      current.chatHolder.removeChild(loader);\n\t    events.publish('resize');\n\t  }, 0);\n\t}\n\t\n\tfunction focusInput() {\n\t  var current = state.get();\n\t  current.input.focus();\n\t}\n\t\n\tmodule.exports = {\n\t  enableInput: enableInput,\n\t  disableInput: disableInput,\n\t  enableLoadingInput: enableLoadingInput,\n\t  disableLoadingInput: disableLoadingInput,\n\t  focusInput: focusInput\n\t};\n\n\n/***/ },\n/* 70 */\n/*!****************************************!*\\\n  !*** ./src/events/handlers/receive.js ***!\n  \\****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 5);\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar assign = __webpack_require__(/*! lodash/assign */ 6);\n\tvar templates = __webpack_require__(/*! ../../templates */ 7);\n\t\n\tfunction _actions(data, tryIt, debug) {\n\t  var msg = data.message;\n\t  if (msg && msg.action && msg.action.name) {\n\t    var action = 'action:' + msg.action.name;\n\t    if (events.hasSubscription(action)) {\n\t      events.publish(action, data, events.completeEvent);\n\t      if (debug)\n\t        console.log('Call to ' + action);\n\t    } else {\n\t      if (debug)\n\t        console.warn('Nothing is subscribed to ' + action);\n\t      if (tryIt)\n\t        events.publish('try-it-action-subscription', action);\n\t    }\n\t  }\n\t  events.publish('enable-input');\n\t  events.publish('disable-loading');\n\t  events.publish('scroll-to-bottom');\n\t  if (utils.isVisible())\n\t    events.publish('focus-input');\n\t}\n\t\n\tfunction _layouts(data, tryIt, debug) {\n\t  var msg = data.message;\n\t  if (msg && msg.layout && msg.layout.name) {\n\t    var layout = 'layout:' + msg.layout.name;\n\t    if (events.hasSubscription(layout)) {\n\t      setTimeout(function() {\n\t        events.publish(layout, data);\n\t        if (debug)\n\t          console.log('Call to ' + layout);\n\t      }, 10);\n\t    } else {\n\t      if (debug)\n\t        console.warn('Nothing is subscribed to ' + layout);\n\t      if (tryIt)\n\t        events.publish('try-it-layout-subscription', layout);\n\t    }\n\t  }\n\t}\n\t\n\tfunction _intents(data) {\n\t  var msg = data.message;\n\t  var getIntentField = function(msg) {\n\t    if (!msg || !msg.log_data)\n\t      return false;\n\t    if (msg.log_data.wva_top_intent && typeof msg.log_data.wva_top_intent === 'object' && msg.log_data.wva_top_intent.intent)\n\t      return msg.log_data.wva_top_intent.intent;\n\t    else if (msg.log_data.intents && msg.log_data.intents.length > 0 && msg.log_data.intents[0].intent)\n\t      return msg.log_data.intents[0].intent;\n\t    else\n\t      return false;\n\t  };\n\t  var intent = getIntentField(msg);\n\t  if (msg && msg.log_data && msg.log_data.show_intent_link === true && intent) {\n\t    events.publish('try-it-get-intent-data', {\n\t      element: data.intentElement,\n\t      intent: intent\n\t    });\n\t  }\n\t}\n\t\n\tfunction receive(data) {\n\t  setTimeout(function() {\n\t    _receive(data);\n\t  }, 0);\n\t}\n\t\n\tfunction _receive(data) {\n\t  var parsed = (typeof data === 'string') ? { message: { text: data } } : data;\n\t  parsed = BotSDK.parse(parsed);\n\t  var current = state.get();\n\t  state.set({\n\t    messages: [].concat(current.messages || [], parsed),\n\t    errorCount: 0\n\t  });\n\t  var msg = parsed.message;\n\t  var msgText = (msg && msg.text) ? ((Array.isArray(msg.text) && msg.text.length > 0) ? msg.text : [msg.text]) : [''];\n\t  var containers = [];\n\t  var messages = [];\n\t  var layouts = [];\n\t  var intents = [];\n\t  var datas = [];\n\t  var turnElm = document.createElement('div');\n\t\n\t  turnElm.classList.add('IBMChat-watson-turn');\n\t  current.chatHolder.appendChild(turnElm);\n\t\n\t  for (var i = 0; i < msgText.length; i++) {\n\t    var holder = document.createElement('div');\n\t    var msgData = assign({}, parsed, { uuid: utils.getUUID() });\n\t    holder.classList.add(msgData.uuid);\n\t    holder.innerHTML = templates.receive;\n\t    containers.push(holder.querySelector('.IBMChat-watson-message-container'));\n\t    messages.push(document.createElement('div'));\n\t    layouts.push(document.createElement('div'));\n\t    layouts[i].classList.add('IBMChat-watson-layout');\n\t    intents.push(document.createElement('div'));\n\t    intents[i].classList.add('IBMChat-watson-intent');\n\t\n\t    if ((msgText[i] && msgText[i].length > 0) || (msg && msg.layout && msg.layout.name && i === (msgText.length - 1))) {\n\t      var line = document.createElement('div');\n\t      line.classList.add('IBMChat-watson-message-line');\n\t      containers[i].appendChild(line);\n\t      messages[i].classList.add('IBMChat-watson-message');\n\t      utils.writeMessage(messages[i], msgText[i]);\n\t    }\n\t\n\t    turnElm.appendChild(holder);\n\t\n\t    containers[i].appendChild(messages[i]);\n\t    containers[i].appendChild(intents[i]);\n\t    containers[i].appendChild(layouts[i]);\n\t\n\t    msgData.element = containers[i];\n\t    msgData.layoutElement = layouts[i];\n\t    msgData.msgElement = messages[i];\n\t    msgData.intentElement = intents[i];\n\t    datas.push(msgData);\n\t\n\t    if (current.tryIt && i === (msgText.length - 1))\n\t      _intents(datas[i]);\n\t    if (msg && msg.layout && ((msg.layout.index !== undefined && msg.layout.index == i) ||(msg.layout.index === undefined && i == (msgText.length - 1))))\n\t      _layouts(datas[i], current.tryIt, current.DEBUG);\n\t    if (i === (msgText.length - 1))\n\t      _actions(datas[i], current.tryIt, current.DEBUG);\n\t  }\n\t\n\t}\n\t\n\tmodule.exports = receive;\n\n\n/***/ },\n/* 71 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/reset.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 5);\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\t\n\tfunction reset() {\n\t  events.publish('clear-error');\n\t  events.publish('clear');\n\t  events.publish('scroll-to-bottom');\n\t  events.publish('enable-loading');\n\t  return new window.Promise(function(resolve, reject) {\n\t    var current = state.get();\n\t    var SDKconfig = utils.getSDKConfig(current);\n\t    if (!utils.checkRoot(current.root)) {\n\t      reject({\n\t        error: 'Element for chat does not exist!'\n\t      });\n\t    }\n\t    if (!current.botID) {\n\t      reject({\n\t        error: 'BotID is required!'\n\t      });\n\t    }\n\t    BotSDK\n\t      .configure( SDKconfig )\n\t      .start( current.botID )\n\t      .then( function(res) {\n\t        events.publish('chatID', res.chatID);\n\t        events.publish('receive', res);\n\t      })['catch']( function(err) {\n\t        events.publish('httpError', err);\n\t      }).then(function() {\n\t        setTimeout(function() {\n\t          resolve();\n\t        },0);\n\t      });\n\t  });\n\t}\n\t\n\tmodule.exports = reset;\n\n\n/***/ },\n/* 72 */\n/*!***************************************!*\\\n  !*** ./src/events/handlers/resize.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\t\n\tvar debugResize = false;\n\tvar timeout;\n\t\n\tfunction _getHeight(element) {\n\t  return Math.floor(window.getComputedStyle(element).getPropertyValue('height').replace('px', ''));\n\t}\n\t\n\tfunction resize() {\n\t  clearTimeout(timeout);\n\t  timeout = setTimeout(function() {\n\t    timeout = null;\n\t    _resize();\n\t  }, 150);\n\t}\n\t\n\tfunction _resize() {\n\t\n\t  var current = state.get();\n\t  if (current.isVisible && current.active) {\n\t    var maxInputPercentage = 35,\n\t      newState = {},\n\t      containerHeight = 0,\n\t      chatHolderHeight = 0,\n\t      chatHolderMaxHeight = 0,\n\t      inputHolderHeight = 0,\n\t      rootHeight = current.root.clientHeight,\n\t      rootWidth = current.root.clientWidth,\n\t      maxInputHeight = rootHeight * (maxInputPercentage / 100),\n\t      calculatedMaxInputHeight = (maxInputHeight > 96) ? maxInputHeight : 96,\n\t      cloneHeight = (current.input) ? _getHeight(current.inputClone) : null,\n\t      inputHeight = (current.input) ? (_getHeight(current.input)) : 0,\n\t      newInputClone = (current.input && current.input.value && current.input.value.length > 0) ? current.input.value.replace(/\\n/g, '<br />') : 'Enter message...',\n\t      currentInputClone = (current.input) ? current.inputClone.innerHTML : null;\n\t\n\t    var chatChanged = function() {\n\t      if (newState.chatHolderHeight !== undefined || newState.containerHeight !== undefined)\n\t        events.publish('scroll-to-bottom');\n\t      return (newState.rootWidth !== undefined || newState.chatHolderHeight !== undefined || newState.rootHeight !== undefined || newState.isLarge !== undefined || newState.containerHeight !== undefined || newState.inputHeight !== undefined);\n\t    };\n\t\n\t    setTimeout(function() {\n\t      if (current.rootHeight !== rootHeight) {\n\t        if (debugResize)\n\t          console.log('New Root Height:', rootHeight);\n\t        newState.rootHeight = rootHeight;\n\t      }\n\t      if (current.rootWidth !== rootWidth) {\n\t        if (debugResize)\n\t          console.log('New Root Width:', rootWidth);\n\t        newState.rootWidth = rootWidth;\n\t        current.chat.style.width = rootWidth + 'px';\n\t        newState.rootWidth = rootWidth;\n\t      }\n\t    }, 0);\n\t\n\t    setTimeout(function() {\n\t      if (current.input) {\n\t        if (currentInputClone !== newInputClone) {\n\t          current.inputClone.textContent = newInputClone;\n\t          cloneHeight = _getHeight(current.inputClone);\n\t          /*if (debugResize)\n\t            console.log('Clone does not match input:', 'current:', currentInputClone, 'new:', newInputClone, 'height:', cloneHeight);*/\n\t        }\n\t\n\t        if (current.inputHeight !== cloneHeight) {\n\t          if (debugResize)\n\t            console.log('Input height does not match:', current.inputHeight, inputHeight);\n\t          inputHeight = (calculatedMaxInputHeight > cloneHeight) ? cloneHeight : calculatedMaxInputHeight;\n\t        }\n\t\n\t        if (current.inputHeight !== inputHeight) {\n\t          if (debugResize)\n\t            console.log('New Input Height:', current.inputHeight, inputHeight);\n\t          current.input.style.height = inputHeight + \"px\";\n\t          newState.inputHeight = inputHeight;\n\t        }\n\t      }\n\t    }, 0);\n\t\n\t    setTimeout(function() {\n\t\n\t      if (current.input)\n\t        inputHolderHeight = _getHeight(current.inputContainer);\n\t      chatHolderHeight = _getHeight(current.chatHolder);\n\t      chatHolderMaxHeight = chatHolderHeight;\n\t      if (debugResize)\n\t        console.log('chatHolderHeight', chatHolderHeight, 'rootHeight', rootHeight, 'inputHolderHeight', inputHolderHeight);\n\t      containerHeight = Math.floor(rootHeight - inputHolderHeight);\n\t\n\t      if (chatHolderHeight < containerHeight) {\n\t        chatHolderHeight = 'auto';\n\t        chatHolderMaxHeight = containerHeight + 'px';\n\t      } else {\n\t        chatHolderHeight = containerHeight + 'px';\n\t        chatHolderMaxHeight = chatHolderHeight;\n\t      }\n\t      if (current.containerHeight !== containerHeight) {\n\t        if (debugResize)\n\t          console.log('New Container Height:', containerHeight);\n\t        current.innerContainer.style.height = containerHeight + \"px\";\n\t        newState.containerHeight = containerHeight;\n\t      }\n\t\n\t      if (current.chatHolderHeight !== chatHolderHeight || current.chatHolderMaxHeight !== chatHolderMaxHeight) {\n\t        if (debugResize) {\n\t          console.log('New Chat Holder Height: ' + chatHolderHeight);\n\t          console.log('New Chat Holder Max Height: ' + chatHolderMaxHeight);\n\t        }\n\t        newState.chatHolderHeight = chatHolderHeight;\n\t        newState.chatHolderMaxHeight = chatHolderMaxHeight;\n\t        current.chatHolder.style.height = chatHolderHeight;\n\t        current.chatHolder.style.maxHeight = chatHolderMaxHeight;\n\t      }\n\t\n\t      if (rootWidth >= 480) {\n\t        current.root.classList.add('IBMChat-isLarge');\n\t        if (!current.isLarge)\n\t          newState.isLarge = true;\n\t      } else {\n\t        current.root.classList.remove('IBMChat-isLarge');\n\t        if (current.isLarge)\n\t          newState.isLarge = false;\n\t      }\n\t\n\t      if (chatChanged())\n\t        state.set(newState);\n\t\n\t    }, 0);\n\t  }\n\t}\n\t\n\tmodule.exports = resize;\n\n\n/***/ },\n/* 73 */\n/*!*************************************************!*\\\n  !*** ./src/events/handlers/scroll-to-bottom.js ***!\n  \\*************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\t\n\tvar smoothStep = function(start, end, point) {\n\t  if (point <= start) return 0;\n\t  if (point >= end) return 1;\n\t  var x = (point - start) / (end - start);\n\t  return x*x*(3 - 2*x);\n\t};\n\t\n\tfunction scrollToBottom() {\n\t  setTimeout(function() {\n\t    var duration = 300;\n\t    var startTime = Date.now();\n\t    var endTime = startTime + duration;\n\t    var current = state.get();\n\t    var startTop = current.chatHolder.scrollTop;\n\t    var previousTop = startTop;\n\t    var distance = current.chatHolder.scrollHeight - startTop;\n\t    var scrolling = setInterval(function() {\n\t      var now = Date.now();\n\t      if (current.chatHolder.scrollTop != previousTop) {\n\t        clearInterval(scrolling);\n\t        return;\n\t      } else if (now >= endTime) {\n\t        clearInterval(scrolling);\n\t        current.chatHolder.scrollTop = current.chatHolder.scrollHeight;\n\t        return;\n\t      } else if (current.chatHolder.scrollTop == current.chatHolder.scrollHeight) {\n\t        clearInterval(scrolling);\n\t        return;\n\t      }\n\t      var point = smoothStep(startTime, endTime, now);\n\t      var frameTop = Math.round(startTop + (distance * point));\n\t      current.chatHolder.scrollTop = frameTop;\n\t      previousTop = current.chatHolder.scrollTop;\n\t    }, 0);\n\t  }, 100);\n\t}\n\t\n\tmodule.exports = scrollToBottom;\n\n\n/***/ },\n/* 74 */\n/*!***************************************************!*\\\n  !*** ./src/events/handlers/send-input-message.js ***!\n  \\***************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\t\n\tfunction sendInputMessage() {\n\t  var current = state.get();\n\t  if (!current.inProgress && !current.disableInput) {\n\t    var text = current.root.querySelector('.IBMChat-chat-textbox').value.trim().replace(/(\\r\\n|\\n|\\r)/gm,\"\");\n\t    events.publish('send', {\n\t      text: text\n\t    });\n\t    text = '';\n\t  }\n\t}\n\t\n\tmodule.exports = sendInputMessage;\n\n\n/***/ },\n/* 75 */\n/*!******************************************!*\\\n  !*** ./src/events/handlers/send-mock.js ***!\n  \\******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar assign = __webpack_require__(/*! lodash/assign */ 6);\n\tvar templates = __webpack_require__(/*! ../../templates */ 7);\n\t\n\tfunction sendMock(data) {\n\t  setTimeout(function() {\n\t    _sendMock(data);\n\t  }, 0);\n\t}\n\t\n\tfunction _sendMock(data) {\n\t  if (data.text && data.text.length > 0) {\n\t    var current = state.get();\n\t    var newData = assign({}, data, { uuid: utils.getUUID() });\n\t    current.chatHolder.innerHTML += utils.compile(templates.send, { 'data.uuid': newData.uuid });\n\t    current.chatHolder.querySelector('#' + newData.uuid + ' .IBMChat-user-message').textContent = data.text;\n\t    events.publish('resize');\n\t    events.publish('scroll-to-bottom');\n\t  }\n\t}\n\t\n\tmodule.exports = sendMock;\n\n\n/***/ },\n/* 76 */\n/*!*************************************!*\\\n  !*** ./src/events/handlers/send.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 5);\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar assign = __webpack_require__(/*! lodash/assign */ 6);\n\tvar templates = __webpack_require__(/*! ../../templates */ 7);\n\t\n\tfunction send(data) {\n\t  setTimeout(function() {\n\t    _send(data);\n\t  }, 0);\n\t}\n\t\n\tfunction _send(data) {\n\t  if (data && data.text && data.text.length > 0) {\n\t    var current = state.get();\n\t    addToSendQueue(data);\n\t    if (!current.inProgress)\n\t      agentSend();\n\t  }\n\t}\n\t\n\tfunction addToSendQueue(data) {\n\t  var current = state.get();\n\t  var queue = current.sendQueue || [];\n\t  var newQueue = queue.slice(0);\n\t  newQueue.push(data);\n\t  state.set({\n\t    sendQueue: newQueue\n\t  });\n\t}\n\t\n\tfunction resolve(sent, received) {\n\t  var current = state.get();\n\t  state.set({\n\t    errorCount: 0,\n\t    sendQueue: current.sendQueue.slice(1, current.sendQueue.length),\n\t    messages: (sent) ? [].concat(current.messages || [], sent) : current.messages,\n\t    inProgress: false\n\t  });\n\t  if(received)\n\t    events.publish('receive', received);\n\t  events.publish('error-clear');\n\t  events.publish('disable-loading');\n\t  events.publish('scroll-to-bottom');\n\t  if (state.get().sendQueue.length > 0)\n\t    agentSend();\n\t}\n\t\n\tfunction reject() {\n\t  events.publish('httpError', arguments);\n\t}\n\t\n\tfunction sendToBot(data, retry) {\n\t\n\t  function delay(cb) {\n\t    var newTime = Date.now();\n\t    var diff = newTime - starttime;\n\t    var minWaitTime = minSeconds * 1000;\n\t    var timeout = minWaitTime - diff;\n\t    if (timeout > 0) {\n\t      setTimeout(function() {\n\t        cb();\n\t      }, timeout);\n\t    } else {\n\t      cb();\n\t    }\n\t  }\n\t\n\t  var current = state.get();\n\t  var starttime = Date.now();\n\t  var minSeconds = current.minSeconds;\n\t\n\t  if (!retry)\n\t    events.publish('enable-loading');\n\t  events.publish('focus-input');\n\t\n\t  BotSDK\n\t    .send( current.botID, current.chatID, data.text, current.context )\n\t    .then( function(res) {\n\t      delay(function() {\n\t        resolve(data, res);\n\t      });\n\t    })\n\t    .catch(function(e) {\n\t      delay(function() {\n\t        reject(e);\n\t      });\n\t    });\n\t}\n\t\n\tfunction agentSend(retry) {\n\t  var current = state.get();\n\t  var newData = assign({}, current.sendQueue[0], { uuid: utils.getUUID() });\n\t  var msg = newData.label || newData.text || '';\n\t  state.set({\n\t    inProgress: true\n\t  });\n\t  current.root.querySelector('.IBMChat-chat-textbox').value = '';\n\t  if (!newData.silent && !retry) {\n\t    current.chatHolder.innerHTML += utils.compile(templates.send, { 'data.uuid': newData.uuid });\n\t    current.chatHolder.querySelector('#' + newData.uuid + ' .IBMChat-user-message').textContent = msg;\n\t    events.publish('scroll-to-bottom');\n\t  }\n\t  if (current.handleInput.default)\n\t    sendToBot(newData, retry);\n\t  else if (current.handleInput.context)\n\t    current.handleInput.callback.bind(current.handleInput.context, newData.text, resolve, reject);\n\t  else\n\t    current.handleInput.callback(newData.text, resolve, reject);\n\t}\n\t\n\tfunction retry() {\n\t  var current = state.get();\n\t  if (current.sendQueue && current.sendQueue.length > 0)\n\t    agentSend(true);\n\t  else\n\t    events.publish('reset');\n\t}\n\t\n\tmodule.exports = {\n\t  send: send,\n\t  retry: retry\n\t};\n\n\n/***/ },\n/* 77 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/start.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar styles = __webpack_require__(/*! ../../styles */ 10);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar templates = __webpack_require__(/*! ../../templates */ 7);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\t\n\tfunction start(data) {\n\t  var current;\n\t  state.set(data);\n\t  current = state.get();\n\t  styles.attachStyles();\n\t  current.root.classList.add(current.chatStyleID);\n\t  current.root.innerHTML = templates.start;\n\t  var addState = {\n\t    chat: current.root.querySelector('.IBMChat'),\n\t    outerContainer: current.root.querySelector('.IBMChat-outer-container'),\n\t    container: current.root.querySelector('.IBMChat-chat-container'),\n\t    chatHolder: current.root.querySelector('.IBMChat-messages'),\n\t    innerContainer: current.root.querySelector('.IBMChat-inner-container'),\n\t  };\n\t  //TODO: remove if conditional after Dashboard implements new playback\n\t  if (current.playback !== true) {\n\t    var chatBox = document.createElement('div');\n\t    chatBox.classList.add('IBMChat-input-container');\n\t    chatBox.classList.add('IBMChat-input-container-theme');\n\t    chatBox.innerHTML = utils.compile(templates.input, {\n\t      placeholder: i18n('prompt')\n\t    });\n\t    addState.outerContainer.appendChild(chatBox);\n\t    addState.inputHolder = current.root.querySelector('.IBMChat-input-container form');\n\t    addState.inputContainer = current.root.querySelector('.IBMChat-chat-text-container');\n\t    addState.input = current.root.querySelector('.IBMChat-chat-textbox');\n\t    addState.inputClone = current.root.querySelector('.IBMChat-chat-textbox-clone');\n\t    addState.form = current.root.querySelector('.IBMChat-input-form');\n\t    addState.form.addEventListener('submit', function(e) {\n\t      e.preventDefault();\n\t    });\n\t    addState.onResize = function() {\n\t      events.publish('resize');\n\t    };\n\t    if (current.tryIt) {\n\t      addState.chatHolder.addEventListener('click', function(e) {\n\t        if (e.target.dataset) {\n\t          var data = e.target.dataset;\n\t          if (data.intent) {\n\t            var index = data.intent;\n\t            var current = state.get();\n\t            e.preventDefault();\n\t            if (current.intents && current.intents[index])\n\t              events.publish('try-it-show-intent', current.intents[index]);\n\t            else\n\t              console.error('Intent index is undefined', current.intents, index);\n\t          } else if (data.private) {\n\t            events.publish('try-it-show-private', data.private);\n\t          }\n\t        }\n\t      });\n\t    }\n\t\n\t    addState.chatHolder.addEventListener('click', function(e) {\n\t      if (e.target.dataset && e.target.dataset.retry) {\n\t        events.publish('error-clear');\n\t        setTimeout(function() {\n\t          events.publish('enable-loading');\n\t          events.publish('reset');\n\t        }, 0);\n\t      }\n\t    });\n\t\n\t    addState.input.addEventListener('keydown', function(e) {\n\t      var current = state.get();\n\t      if (e.keyCode === 13) {\n\t        e.preventDefault();\n\t        if (!current.inProgress) {\n\t          events.publish('send-input-message');\n\t          addState.inputClone.innerHTML = '';\n\t          addState.input.style.overflow = 'hidden';\n\t          addState.input.style.height = addState.originalInputHeight + \"px\";\n\t          state.set({\n\t            inputHeight: addState.originalInputHeight\n\t          });\n\t        }\n\t      }\n\t      events.publish('resize');\n\t    });\n\t\n\t    addState.input.addEventListener('focus', function() {\n\t      events.publish('resize');\n\t    });\n\t\n\t    addState.input.addEventListener('blur', function() {\n\t      events.publish('resize');\n\t    });\n\t  }\n\t\n\t  window.addEventListener('resize', function() {\n\t    events.publish('resize');\n\t  });\n\t\n\t  window.addEventListener('orientationchange', function() {\n\t    events.publish('resize');\n\t  });\n\t\n\t  state.setState(addState);\n\t  utils.checkVisibility();\n\t  events.publish('resize');\n\t}\n\t\n\tmodule.exports = start;\n\n\n/***/ },\n/* 78 */\n/*!***************************************!*\\\n  !*** ./src/events/handlers/try-it.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\t\n\tfunction _addDataSet(data) {\n\t  var current = state.get();\n\t  var queue = current.intents || [];\n\t  var newQueue = queue.slice(0);\n\t  var count = newQueue.push(data);\n\t  state.set({\n\t    intents: newQueue\n\t  });\n\t  return count - 1;\n\t}\n\t\n\tfunction actionError(action) {\n\t  events.publish('receive', {\n\t    message: {\n\t      layout: {\n\t        name: 'error',\n\t        message: 'A subscription was called to ' + action + '. Nothing is subscribed to this action in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this action.'\n\t      }\n\t    }\n\t  });\n\t}\n\t\n\tfunction layoutError(layout) {\n\t  events.publish('receive', {\n\t    message: {\n\t      layout: {\n\t        name: 'error',\n\t        message: 'A subscription was called to ' + layout + '. Nothing is subscribed to this layout in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this layout.'\n\t      }\n\t    }\n\t  });\n\t}\n\t\n\tfunction intent(data) {\n\t  var element = data.element;\n\t  var label = document.createElement('label');\n\t  var link = document.createElement('a');\n\t  link.setAttribute('href', 'javascript:void(0)');\n\t  link.textContent = i18n('edit');\n\t  if (data.private) {\n\t    label.textContent = '#' + data.intent;\n\t    link.setAttribute('data-private', data.intent);\n\t  } else {\n\t    label.textContent = data.blueprint.label;\n\t    link.setAttribute('data-intent', _addDataSet(data));\n\t  }\n\t  element.appendChild(label);\n\t  element.appendChild(link);\n\t}\n\t\n\tmodule.exports = {\n\t  actionError: actionError,\n\t  layoutError: layoutError,\n\t  intent: intent\n\t};\n\n\n/***/ },\n/* 79 */\n/*!*******************************************!*\\\n  !*** ./src/layouts/cc-validator/index.js ***!\n  \\*******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar profile = __webpack_require__(/*! ../../profile */ 9);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar validation = __webpack_require__(/*! ./validation */ 80);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\tvar activeClassName = 'IBMChat-accent-colors';\n\tvar inactiveClassName = 'IBMChat-accent-colors-button';\n\tvar ns = 'IBMChat-creditcard';\n\tvar widgets = [];\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 43)\n\t};\n\t\n\tvar creditCardLayout = {\n\t  init: function() {\n\t    subscribe('layout:cc-validator', function(data) {\n\t      var widget = new CreditCard(data);\n\t      widgets[data.uuid] = widget;\n\t    });\n\t  }\n\t};\n\t\n\tfunction CreditCard(data) {\n\t  this.init(data);\n\t}\n\t\n\tCreditCard.prototype.init = function(data) {\n\t  this.acceptedCards = data.message.data;\n\t  this.uuid = data.uuid;\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.msgElement = data.msgElement;\n\t  this.formData = {};\n\t  this.drawForm();\n\t  this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n\t  publish('disable-input');\n\t};\n\t\n\tCreditCard.prototype.drawForm = function() {\n\t  var text = templates.base;\n\t  this.el = document.createElement('div');\n\t  text = utils.compile(templates.base, {\n\t    ns: ns,\n\t    uuid: utils.getUUID(),\n\t    cc_name: i18n('cc_name'),\n\t    cc_num: i18n('cc_num'),\n\t    cc_exp_mon: i18n('cc_exp_mon'),\n\t    cc_exp_year: i18n('cc_exp_year'),\n\t    cc_code: i18n('cc_code'),\n\t    cc_code_alt: i18n('cc_code_alt') || i18n('cc_code'),\n\t    placeholder_mon: i18n('placeholder_mon'),\n\t    placeholder_year: i18n('placeholder_year'),\n\t    cancel: i18n('cancel'),\n\t    submit: i18n('submit')\n\t  });\n\t  this.el.innerHTML = text;\n\t  this.layoutElement.appendChild(this.el);\n\t  this.cancelButton = this.el.querySelector('.IBMChat-form-cancel');\n\t  this.submitButton = this.el.querySelector('.IBMChat-form-submit');\n\t  this.cancelButton.classList.add(inactiveClassName);\n\t  this.submitButton.classList.add(inactiveClassName);\n\t  this.formElements = {};\n\t  this.fields = this.el.querySelectorAll('input');\n\t  for (var i = 0; i < this.fields.length; i++) {\n\t    var field = this.fields[i];\n\t    var name = field.getAttribute('name');\n\t    this.formElements[name] = field;\n\t  }\n\t  this.formElements['cc_full_name'].focus();\n\t  this.addListeners();\n\t};\n\t\n\tCreditCard.prototype.addError = function(name, msg) {\n\t  var field, errorElement;\n\t  if (name === 'cc_exp_date') {\n\t    field = this.formElements[\"cc_exp_date_month\"];\n\t    field.setAttribute('aria-invalid', true);\n\t    field.dataset.valid = false;\n\t    field = this.formElements[\"cc_exp_date_year\"];\n\t    field.setAttribute('aria-invalid', true);\n\t    field.dataset.valid = false;\n\t  } else {\n\t    field = this.formElements[name];\n\t    field.setAttribute('aria-invalid', true);\n\t    field.dataset.valid = false;\n\t  }\n\t  errorElement = this.el.querySelector('[data-validation-for=\"' + name + '\"]');\n\t  errorElement.style.display = 'block';\n\t  errorElement.dataset.valid = false;\n\t  errorElement.textContent = msg;\n\t};\n\t\n\tCreditCard.prototype.removeError = function(name) {\n\t  var field, errorElement;\n\t  if (name === 'cc_exp_date') {\n\t    field = this.formElements[\"cc_exp_date_month\"];\n\t    field.removeAttribute('aria-invalid');\n\t    field.dataset.valid = true;\n\t    field = this.formElements[\"cc_exp_date_year\"];\n\t    field.removeAttribute('aria-invalid');\n\t    field.dataset.valid = true;\n\t  } else {\n\t    field = this.formElements[name];\n\t    field.removeAttribute('aria-invalid');\n\t    field.dataset.valid = true;\n\t  }\n\t  errorElement = this.el.querySelector('[data-validation-for=\"' + name + '\"]');\n\t  errorElement.style.display = 'none';\n\t  errorElement.dataset.valid = true;\n\t  errorElement.textContent = '';\n\t};\n\t\n\tCreditCard.prototype.validate_cc_full_name = function(valid) {\n\t  if (this.formData.cc_full_name.trim().length === 0) {\n\t    this.addError('cc_full_name', i18n('required_field'));\n\t    if (valid) this.formElements['cc_full_name'].focus();\n\t    valid = false;\n\t  } else {\n\t    this.removeError('cc_full_name');\n\t  }\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.validate_cc_number = function(valid) {\n\t  var cc = validation.validateCard(this.acceptedCards, this.formData.cc_number, this.formElements.cc_number);\n\t  if (!cc.valid) {\n\t    this.addError('cc_number', cc.message);\n\t    if (valid) this.formElements['cc_number'].focus();\n\t    valid = false;\n\t  } else {\n\t    this.removeError('cc_number');\n\t  }\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.validate_cc_exp_date = function(valid) {\n\t  var exp = validation.validateExp(this.formData.cc_exp_date_month, this.formData.cc_exp_date_year);\n\t  if (!exp.valid) {\n\t    this.addError('cc_exp_date', exp.message);\n\t    if (valid) this.formElements['cc_exp_date_month'].focus();\n\t    valid = false;\n\t  } else {\n\t    this.removeError('cc_exp_date');\n\t  }\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.validate_cc_code = function(valid) {\n\t  var cvv = validation.validateCVV(this.formData.cc_code);\n\t  if (!cvv.valid) {\n\t    this.addError('cc_code', cvv.message);\n\t    if (valid) this.formElements['cc_code'].focus();\n\t    valid = false;\n\t  } else {\n\t    this.removeError('cc_code');\n\t  }\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.validate = function() {\n\t  var valid = true;\n\t  valid = this.validate_cc_full_name(valid);\n\t  valid = this.validate_cc_number(valid);\n\t  valid = this.validate_cc_exp_date(valid);\n\t  valid = this.validate_cc_code(valid);\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.preprocessFormData = function() {\n\t  this.formData = {};\n\t  for (var i = 0; i < this.fields.length; i++) {\n\t    var field = this.fields[i];\n\t    var name = field.getAttribute('name');\n\t    // set month to 2 digit format\n\t    if (name === 'cc_exp_date_month' && /^[1-9]$/.test(field.value))\n\t      field.value = '0' + field.value;\n\t    this.formData[name] = field.value;\n\t  }\n\t};\n\t\n\tCreditCard.prototype.handleKeyup = function(e) {\n\t  var el = e.target;\n\t  var validation = {\n\t    'cc_full_name': this.validate_cc_full_name,\n\t    'cc_number': this.validate_cc_number,\n\t    'cc_exp_date_month': this.validate_cc_exp_date,\n\t    'cc_exp_date_year': this.validate_cc_exp_date,\n\t    'cc_code': this.validate_cc_code\n\t  };\n\t  var name = el.getAttribute('name');\n\t  if (e.keyCode === 13) {\n\t    e.preventDefault();\n\t    this.handleSubmit();\n\t  } else if (el.dataset.valid == 'false' && typeof validation[name] === 'function') {\n\t    this.formData[name] = el.value;\n\t    validation[name].call(this, false);\n\t  }\n\t};\n\t\n\tCreditCard.prototype.handleSubmit = function() {\n\t  this.preprocessFormData();\n\t  if (this.validate()) {\n\t    var fd = this.formData;\n\t    fd.cc_exp_date = fd.cc_exp_date_month + '/' + fd.cc_exp_date_year;\n\t    fd.cc_last_four_digits = fd.cc_number.substr(fd.cc_number.length - 4);\n\t    Object.keys(fd).map(function(key) {\n\t      profile.set(key, fd[key]);\n\t    });\n\t    this.submitButton.classList.remove(inactiveClassName);\n\t    this.submitButton.classList.add(activeClassName);\n\t    publish('enable-input');\n\t    publish('send', {\n\t      silent: true,\n\t      text: 'success'\n\t    });\n\t  }\n\t};\n\t\n\tCreditCard.prototype.handleCancel = function() {\n\t  this.cancelButton.classList.remove(inactiveClassName);\n\t  this.cancelButton.classList.add(activeClassName);\n\t  publish('enable-input');\n\t  publish('send', {\n\t    silent: true,\n\t    text: 'cancel'\n\t  });\n\t};\n\t\n\tCreditCard.prototype.addListeners = function() {\n\t  this.cancelButton.addEventListener('click', this.handleCancel.bind(this));\n\t  this.submitButton.addEventListener('click', this.handleSubmit.bind(this));\n\t  for (var i = 0; i < this.fields.length; i++)\n\t    this.fields[i].addEventListener('keyup', this.handleKeyup.bind(this));\n\t};\n\t\n\tCreditCard.prototype.removeAllEventListeners = function() {\n\t  this.cancelButton.removeEventListener('click', this.handleCancel.bind(this));\n\t  this.cancelButton.setAttribute('disabled', true);\n\t  this.submitButton.removeEventListener('click', this.handleSubmit.bind(this));\n\t  this.submitButton.setAttribute('disabled', true);\n\t  for (var j = 0; j < this.fields.length; j++) {\n\t    var field = this.fields[j];\n\t    field.removeEventListener('keyup', this.handleKeyup.bind(this));\n\t    field.setAttribute('disabled', true);\n\t  }\n\t  this.subscribeSend.remove();\n\t};\n\t\n\tmodule.exports = creditCardLayout;\n\n\n/***/ },\n/* 80 */\n/*!************************************************!*\\\n  !*** ./src/layouts/cc-validator/validation.js ***!\n  \\************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\t//https://en.wikipedia.org/wiki/Payment_card_number\n\t\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\t\n\tvar state = {\n\t  acceptedCards: [],\n\t  cardNumber: '',\n\t  cardType: ''\n\t};\n\t\n\tvar messages = {\n\t  required: function() { return i18n('required_field'); },\n\t  acceptedCard: function() {\n\t    var text = i18n('cc_use_valid');\n\t    text += state.acceptedCards.map(function(cardId) {\n\t      return cardData[cardId].human;\n\t    }).join(i18n('list_sep'));\n\t    return text;\n\t  },\n\t  invalid: function() { return i18n('cc_invalid'); },\n\t  invalidExpiration: function() { return i18n('cc_invalid_exp'); },\n\t  invalidCvv: function() { return i18n('cc_invalid_code'); }\n\t};\n\t\n\tvar cardData = {\n\t  \"visa\": {\n\t    human: \"Visa\",\n\t    prefixes: [4],\n\t    lengths: [13, 16, 19]\n\t  },\n\t  \"mastercard\": {\n\t    human: \"MasterCard\",\n\t    prefixes: [51, 52, 53, 54, 55],\n\t    lengths: [16]\n\t  },\n\t  \"amex\": {\n\t    human: \"American Express\",\n\t    prefixes: [34, 37],\n\t    lengths: [15]\n\t  },\n\t  \"discover\": {\n\t    human: \"Discover\",\n\t    prefixes: [6011, 65],\n\t    lengths: [16, 19]\n\t  }\n\t};\n\t\n\tvar i;\n\t//MasterCard adding these numbers in 2017\n\tfor (i = 2221; i <= 2720; i++)\n\t  cardData.mastercard.prefixes.push(i);\n\t\n\tfor (i = 622126; i <= 622925; i++)\n\t  cardData.discover.prefixes.push(i);\n\t\n\tfor (i = 644; i <= 649; i++)\n\t  cardData.discover.prefixes.push(i);\n\t\n\tfunction _detectCard() {\n\t  for (var i = 0; i < state.acceptedCards.length; i++) {\n\t    var data = cardData[state.acceptedCards[i]];\n\t    for (var j = 0; j < data.prefixes.length; j++) {\n\t      var x = data.prefixes[j].toString();\n\t      if (state.cardNumber.substring(0, x.length) === x) {\n\t        state.cardType = state.acceptedCards[i];\n\t        return true;\n\t      }\n\t    }\n\t  }\n\t  return false;\n\t}\n\t\n\tfunction _checkLuhn() {\n\t  var checksum = 0; // running checksum total\n\t  var j = 1; // takes value of 1 or 2\n\t\n\t  // Process each digit one by one starting at the right\n\t  var calc;\n\t  for (var i = state.cardNumber.length - 1; i >= 0; i--) {\n\t    // Extract the next digit and multiply by 1 or 2 on alternative digits.\n\t    calc = Number(state.cardNumber.charAt(i)) * j;\n\t\n\t    // If the result is in two digits add 1 to the checksum total\n\t    if (calc > 9) {\n\t      checksum = checksum + 1;\n\t      calc = calc - 10;\n\t    }\n\t\n\t    // Add the units element to the checksum total\n\t    checksum = checksum + calc;\n\t\n\t    // Switch the value of j\n\t    j = (j == 1) ? 2 : 1;\n\t  }\n\t\n\t  // All done - if checksum is divisible by 10, it is a valid modulus 10.\n\t  // If not, report an error.\n\t  return (checksum % 10 != 0) ? false : true;\n\t}\n\t\n\tfunction _invalid(message) {\n\t  return {\n\t    'message': message,\n\t    'valid': false\n\t  };\n\t}\n\t\n\tfunction _valid() {\n\t  return {\n\t    'valid': true\n\t  };\n\t}\n\t\n\tfunction validateCard(acceptedCards, cardNumber, cardElement) {\n\t  state.acceptedCards = acceptedCards || [];\n\t  state.cardNumber = cardNumber.replace(/\\D/g,'');\n\t\n\t  if (cardNumber.length === 0)\n\t    return _invalid(messages.required());\n\t\n\t  if (state.cardNumber.length === 0)\n\t    return _invalid(messages.invalid());\n\t\n\t  if (_detectCard()) {\n\t    if (cardData[state.cardType].lengths.indexOf(state.cardNumber.length) === -1)\n\t      return _invalid(messages.invalid());\n\t    if (_checkLuhn() === false)\n\t      return _invalid(messages.invalid());\n\t  } else {\n\t    if (state.acceptedCards.indexOf(state.cardType) === -1)\n\t      return _invalid(messages.acceptedCard());\n\t    return _invalid(messages.invalid());\n\t  }\n\t\n\t  var valid =  _valid();\n\t  if (valid && state.cardNumber !== cardNumber && cardElement)\n\t    cardElement.value = state.cardNumber;\n\t  return valid;\n\t}\n\t\n\tfunction validateExp(userM, userY) {\n\t  var monthRegexp = /^(0[1-9]|1[012])$/;\n\t  var yearRegexp = /^(20)[0-9][0-9]$/;\n\t  var d = new Date();\n\t  var month = d.getMonth() + 1; // normalize, Date#getMonth is 0 indexed\n\t  var year = d.getFullYear();\n\t\n\t  if (userM.length === 0 || userY.length === 0)\n\t    return _invalid(messages.invalidExpiration());\n\t\n\t  var invalidDigits = !userM.match(monthRegexp) || !userY.match(yearRegexp);\n\t  userM = parseInt(userM, 10);\n\t  userY = parseInt(userY, 10);\n\t  var yearNotInRange = (userY > year + 20) || (userY < year);\n\t  var beforeCurrentMonth = (userY === year && userM < month);\n\t  if (invalidDigits || yearNotInRange || beforeCurrentMonth)\n\t    return _invalid(messages.invalidExpiration());\n\t\n\t  return _valid();\n\t}\n\t\n\tfunction validateCVV(CVV) {\n\t  // 3 or 4 digits\n\t  var CVVRegex = /^[0-9]{3,4}$/;\n\t  if (CVV.length === 0)\n\t    return _invalid(messages.invalidCvv());\n\t\n\t  if (!CVV.match(CVVRegex))\n\t    return _invalid(messages.invalidCvv());\n\t\n\t  return _valid();\n\t}\n\t\n\tmodule.exports = {\n\t  validateCard: validateCard,\n\t  validateExp: validateExp,\n\t  validateCVV: validateCVV,\n\t  cardData: cardData\n\t};\n\n\n/***/ },\n/* 81 */\n/*!***************************************************!*\\\n  !*** ./src/layouts/choose-location-type/index.js ***!\n  \\***************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\t\n\tvar ns = 'IBMChat-islocationapi';\n\tvar chooseLocationTypes = [];\n\t\n\tvar chooseLocationTypeLayout = {\n\t  init: function() {\n\t    subscribe('layout:choose-location-type', function(data) {\n\t      var chooseLocationType = new ChooseLocationType(data);\n\t      chooseLocationTypes[data.uuid] = chooseLocationType;\n\t    });\n\t  }\n\t};\n\t\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 44)\n\t};\n\t\n\tfunction ChooseLocationType(data) {\n\t  this.init(data);\n\t}\n\t\n\tChooseLocationType.prototype = {\n\t  init: function(data) {\n\t    this.data = data.data;\n\t    this.uuid = data.uuid;\n\t    var postalCodeLabel = this.getButtonLabel(data.message, 'postalcode');\n\t\n\t    if ('navigator' in window && 'geolocation' in navigator) {\n\t      this.eventListeners = [];\n\t      this.parentElement = data.element;\n\t      this.layoutElement = data.layoutElement;\n\t      this.el = document.createElement('div');\n\t      this.el.innerHTML = utils.compile(templates.base, {\n\t        ns: ns,\n\t        loc_curr: this.getButtonLabel(data.message, 'latlong'),\n\t        postal_code: postalCodeLabel\n\t      });\n\t      this.layoutElement.appendChild(this.el);\n\t      this.buttons = this.layoutElement.querySelectorAll('button');\n\t      this.buttons[0].focus();\n\t      for (var i = 0; i < this.buttons.length; i++) {\n\t        this.buttons[i].dataset.uuid = this.uuid;\n\t        this.buttons[i].addEventListener('click', this.handleClick);\n\t        this.eventListeners.push(this.buttons[i]);\n\t      }\n\t      if (this.eventListeners.length > 0)\n\t        this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n\t    } else {\n\t      publish('send', {\n\t        silent: true,\n\t        text: postalCodeLabel\n\t      });\n\t    }\n\t  },\n\t\n\t  getButtonLabel: function(msg, type) {\n\t    if (typeof msg.layout.latlongIdx !== 'undefined') {\n\t      var idx = msg.layout.latlongIdx;\n\t      if (type !== 'latlong') {\n\t        // type === 'zipcode'/'postalcode'\n\t        idx = idx === 0 ? 1 : 0; // the other index\n\t      }\n\t      return msg.inputvalidation.oneOf[idx];\n\t    } else {\n\t      // legacy code\n\t      return type === 'latlong' ? i18n('loc_curr') : i18n('postal_code');\n\t    }\n\t  },\n\t\n\t  handleClick: function() {\n\t    publish('send', {\n\t      silent: true,\n\t      text: this.dataset.input\n\t    });\n\t    publish('focus-input');\n\t  },\n\t\n\t  removeAllEventListeners: function() {\n\t    if (this.eventListeners.length > 0) {\n\t      for (var i = 0; i < this.eventListeners.length; i++) {\n\t        this.eventListeners[i].removeEventListener('click', this.handleClick);\n\t        this.eventListeners[i].setAttribute('disabled', true);\n\t      }\n\t      this.eventListeners = [];\n\t    }\n\t    this.subscribeSend.remove();\n\t  }\n\t};\n\t\n\tmodule.exports = chooseLocationTypeLayout;\n\n\n/***/ },\n/* 82 */\n/*!*************************************!*\\\n  !*** ./src/layouts/choose/index.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\tvar ns = 'IBMChat-choose';\n\tvar activeClassName = 'IBMChat-accent-colors';\n\tvar inactiveClassName = 'IBMChat-accent-colors-button';\n\tvar widgets = [];\n\tvar templates = {\n\t  button: __webpack_require__(/*! ./templates/button.html */ 45),\n\t  submit: __webpack_require__(/*! ./templates/submit.html */ 46)\n\t};\n\t\n\tvar chooseLayout = {\n\t  init: function() {\n\t    subscribe('layout:choose', function(data) {\n\t      var widget = new Choose(data);\n\t      widgets[data.uuid] = widget;\n\t    });\n\t    subscribe('layout:confirm', function(data) {\n\t      var widget = new Choose(data);\n\t      widgets[data.uuid] = widget;\n\t    });\n\t  }\n\t};\n\t\n\tfunction Choose(data) {\n\t  this.init(data);\n\t}\n\t\n\tChoose.prototype.init = function(data) {\n\t  this.allowMultiple = (data.message.inputvalidation.someOf !== undefined);\n\t  this.values = [];\n\t  this.data = (this.allowMultiple) ? data.message.inputvalidation.someOf : data.message.inputvalidation.oneOf;\n\t  this.uuid = data.uuid;\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.msgElement = data.msgElement;\n\t  this.drawButtons();\n\t  this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n\t};\n\t\n\tChoose.prototype.eventListeners = [];\n\t\n\tChoose.prototype.drawButtons = function() {\n\t  var tmpl = templates.button;\n\t  this.el = document.createElement('div');\n\t  this.el.classList.add(ns + '-container');\n\t\n\t  for (var i = 0; i < this.data.length; i++) {\n\t    var text = this.data[i];\n\t    var buttonHolder = document.createElement('div');\n\t    buttonHolder.classList.add(ns + '-option');\n\t    var parsed = utils.compile(tmpl, {\n\t      text: text\n\t    });\n\t    var button;\n\t    buttonHolder.innerHTML = parsed;\n\t    this.el.appendChild(buttonHolder);\n\t    button = buttonHolder.querySelector('button');\n\t    button.setAttribute('data-uuid', this.uuid);\n\t    button.classList.add(inactiveClassName);\n\t    this.addListener(button);\n\t  }\n\t\n\t  if (this.allowMultiple) {\n\t    var submit = document.createElement('div');\n\t    var submitBtn = utils.compile(templates.submit, {\n\t      text: i18n('submit')\n\t    });\n\t    submit.classList.add(ns + '-submit');\n\t    submit.innerHTML = submitBtn;\n\t    this.submitButton = submit.querySelector('button');\n\t    this.submitButton.classList.add(activeClassName);\n\t    this.submitButton.setAttribute('disabled', true);\n\t    this.el.appendChild(submit);\n\t    this.addSubmitListener(this.submitButton);\n\t  }\n\t\n\t  this.layoutElement.appendChild(this.el);\n\t  this.layoutElement.querySelectorAll('button')[0].focus();\n\t};\n\t\n\tChoose.prototype.handleClick = function(evt) {\n\t  var target = evt.target;\n\t  target.classList.add(activeClassName);\n\t  target.classList.add('IBMChat-accent-colors');\n\t  publish('send', {\n\t    silent: true,\n\t    text: target.dataset.input\n\t  });\n\t};\n\t\n\tChoose.prototype.handleMultiClick = function(evt) {\n\t  var target = evt.target;\n\t  var buttons;\n\t  var instance = widgets[target.dataset.uuid];\n\t  if (utils.hasClass(target, activeClassName)) {\n\t    target.classList.add(inactiveClassName);\n\t    target.classList.remove(activeClassName);\n\t  } else {\n\t    target.classList.add(activeClassName);\n\t    target.classList.remove(inactiveClassName);\n\t  }\n\t  buttons = instance.el.querySelectorAll('.' + ns + '-option .' + activeClassName);\n\t  if (buttons.length > 0)\n\t    instance.submitButton.removeAttribute('disabled');\n\t  else\n\t    instance.submitButton.setAttribute('disabled', true);\n\t};\n\t\n\tChoose.prototype.handleSubmit = function() {\n\t  var buttons = this.el.querySelectorAll('.' + activeClassName);\n\t  for (var i = 0; i < buttons.length; i++)\n\t    this.values.push(buttons[i].dataset.input);\n\t  publish('send', {\n\t    silent: true,\n\t    text: this.values.toString().slice(0, -1)\n\t  });\n\t};\n\t\n\tChoose.prototype.addListener = function(el) {\n\t  var handler = this.allowMultiple ? this.handleMultiClick: this.handleClick;\n\t  el.addEventListener('click', handler.bind(this));\n\t  this.eventListeners.push({ el: el, cb: handler });\n\t};\n\t\n\tChoose.prototype.addSubmitListener = function(el) {\n\t  var handler = this.handleSubmit.bind(this);\n\t  el.addEventListener('click', handler);\n\t  this.eventListeners.push({ el: el, cb: handler });\n\t};\n\t\n\tChoose.prototype.removeAllEventListeners = function() {\n\t  var listeners = this.eventListeners;\n\t  if (listeners.length > 0) {\n\t    for (var i = 0; i < listeners.length; i++) {\n\t      var listener = listeners[i];\n\t      listener.el.removeEventListener('click', listener.cb);\n\t      listener.el.setAttribute('disabled', true);\n\t    }\n\t    this.eventListeners = [];\n\t    this.subscribeSend.remove();\n\t  }\n\t};\n\t\n\tmodule.exports = chooseLayout;\n\n\n/***/ },\n/* 83 */\n/*!************************************!*\\\n  !*** ./src/layouts/error/index.js ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar errors = [];\n\tvar ns = 'IBMChat-error';\n\t\n\tvar errorLayout = {\n\t  init: function() {\n\t    events.subscribe('layout:error', function(data) {\n\t      var error = new Error(data);\n\t      errors[data.uuid] = error;\n\t    });\n\t  }\n\t};\n\t\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 47)\n\t};\n\t\n\tfunction Error(data) {\n\t  this.init(data);\n\t}\n\t\n\tError.prototype.init = function(data) {\n\t  this.message = data.message.layout.message;\n\t  this.uuid = data.uuid;\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.layoutElement.innerHTML = templates.base;\n\t  this.layoutElement.querySelector('.' + ns).textContent = this.message;\n\t};\n\t\n\t\n\tmodule.exports = errorLayout;\n\n\n/***/ },\n/* 84 */\n/*!***********************************!*\\\n  !*** ./src/layouts/form/index.js ***!\n  \\***********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar profile = __webpack_require__(/*! ../../profile */ 9);\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\t\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar ns = 'IBMChat-form';\n\tvar activeClassName = 'IBMChat-accent-colors';\n\tvar inactiveClassName = 'IBMChat-accent-colors-button';\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 48),\n\t  field: __webpack_require__(/*! ./templates/field.html */ 49)\n\t};\n\tvar widgets = [];\n\t\n\tvar formLayout = {\n\t  init: function() {\n\t    subscribe('layout:form', function(data) {\n\t      var widget = new Form(data);\n\t      widgets[data.uuid] = widget;\n\t    });\n\t  }\n\t};\n\t\n\tfunction Form(data) {\n\t  this.init(data);\n\t}\n\t\n\tForm.prototype.init = function(data) {\n\t  this.data = data.message.store || [];\n\t  this.action = data.message.action || '';\n\t  this.label = data.message.layout.label || {};\n\t  this.repopulate = !!data.message.layout.repopulate;\n\t  this.uuid = data.uuid;\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.msgElement = data.msgElement;\n\t  this.drawForm();\n\t  this.subscribeSend = subscribe('send', this.removeEventListeners.bind(this));\n\t  publish('disable-input');\n\t};\n\t\n\tForm.prototype.drawForm = function() {\n\t  var base = document.createElement('div');\n\t  var formFields;\n\t  base.innerHTML = utils.compile(templates.base, {\n\t    submit: this.label.submit || i18n('submit'),\n\t    cancel: this.label.cancel || i18n('cancel')\n\t  });\n\t  formFields = base.querySelector('.IBMChat-form-fields');\n\t  this.data.forEach(function(datum, index) {\n\t    var field = document.createElement('div');\n\t    field.innerHTML = utils.compile(templates.field, {\n\t      label: datum.label || '',\n\t      name: datum.name,\n\t      uuid: utils.getUUID(),\n\t      type: datum.type || 'text',\n\t      index: index,\n\t      value: this.repopulate ? (profile.get(datum.name) || '') : ''\n\t    });\n\t    field.className = ns + '-fields-row';\n\t    formFields.appendChild(field);\n\t  }, this);\n\t  this.fields = formFields.querySelectorAll('input');\n\t  this.submitButton = base.querySelector('.' + ns + '-submit');\n\t  this.cancelButton = base.querySelector('.' + ns + '-cancel');\n\t  this.submitButton.classList.add(inactiveClassName);\n\t  this.cancelButton.classList.add(inactiveClassName);\n\t  this.layoutElement.appendChild(base);\n\t  this.fields[0].focus();\n\t  this.addEventListeners();\n\t};\n\t\n\tForm.prototype.handleSubmit = function() {\n\t  if (this.validateFields() === true) {\n\t    for (var i = 0; i < this.fields.length; i++)\n\t      profile.set(this.fields[i].getAttribute('name'), this.fields[i].value || new String(''));\n\t    this.submitButton.classList.remove(inactiveClassName);\n\t    this.submitButton.classList.add(activeClassName);\n\t    publish('send', {\n\t      silent: true,\n\t      text: 'success'\n\t    });\n\t    publish('enable-input');\n\t  } else {\n\t    this.setFocusOnError();\n\t  }\n\t};\n\t\n\tForm.prototype.setFocusOnError = function() {\n\t  for (var j = 0; j < this.fields.length; j++) {\n\t    var name = this.fields[j].getAttribute('name');\n\t    var el = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n\t    if (el.dataset.valid === \"false\") {\n\t      this.fields[j].focus();\n\t      break;\n\t    }\n\t  }\n\t};\n\t\n\tForm.prototype.validateFields = function() {\n\t  var allFieldsAreValid = true;\n\t  for (var i = 0; i < this.data.length; i++) {\n\t    var fieldIsValid = this.validateField(this.fields[i], this.data[i]);\n\t    allFieldsAreValid = allFieldsAreValid && fieldIsValid;\n\t  }\n\t  return allFieldsAreValid;\n\t};\n\t\n\tForm.prototype.validateField = function(field, datum) {\n\t  var valid = true;\n\t  if ((!field.value || field.value.trim().length === 0) && datum.required == 'true') {\n\t    this.addError(field.getAttribute('name'), i18n('required_field'));\n\t    valid = false;\n\t  }\n\t  if (valid === true && datum.validations && datum.validations.length !== 0) {\n\t    for (var i = 0; i < datum.validations.length; i++) {\n\t      // regexes received from backend should always include\n\t      // start/end of line anchors (^, $)\n\t      var validation = datum.validations[i];\n\t      var validationRegex = validation.regex;\n\t      var regex = new RegExp(validationRegex);\n\t      var matches = regex.test(field.value);\n\t      if (!matches) {\n\t        this.addError(field.getAttribute('name'), validation.message);\n\t        valid = false;\n\t        break;\n\t      }\n\t    }\n\t  }\n\t  return valid;\n\t};\n\t\n\tForm.prototype.addError = function(name, msg) {\n\t  var field = this.layoutElement.querySelector('[name=\"' + name + '\"]');\n\t  field.dataset.valid = false;\n\t  var errorEl = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n\t  field.setAttribute('aria-invalid', true);\n\t  errorEl.dataset.valid = false;\n\t  errorEl.textContent = msg;\n\t  errorEl.style.display = 'block';\n\t};\n\t\n\tForm.prototype.removeError = function(name) {\n\t  var field = this.layoutElement.querySelector('[name=\"' + name + '\"]');\n\t  field.dataset.valid = true;\n\t  var errorEl = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n\t  field.removeAttribute('aria-invalid');\n\t  errorEl.dataset.valid = true;\n\t  errorEl.textContent = '';\n\t  errorEl.style.display = 'none';\n\t};\n\t\n\tForm.prototype.removeAllErrors = function() {\n\t  var els = this.layoutElement.querySelectorAll('[data-validation-for]');\n\t  for (var i = 0; i < els.length; i++)\n\t    this.removeError(els[i].attr('data-validation-for'));\n\t};\n\t\n\tForm.prototype.handleKeyup = function(e) {\n\t  var index = e.target.dataset.index;\n\t  if (e.keyCode === 13) {\n\t    e.preventDefault();\n\t    this.handleSubmit();\n\t  } else if (e.target.dataset.valid === 'false') {\n\t    var valid = this.validateField(this.fields[index], this.data[index]);\n\t    if (valid)\n\t      this.removeError(e.target.getAttribute('name'));\n\t  }\n\t};\n\t\n\tForm.prototype.handleCancel = function() {\n\t  this.cancelButton.classList.remove(inactiveClassName);\n\t  this.cancelButton.classList.add(activeClassName);\n\t  publish('enable-input');\n\t  publish('send', {\n\t    silent: true,\n\t    text: 'cancel'\n\t  });\n\t};\n\t\n\tForm.prototype.addEventListeners = function() {\n\t  this.cancelButton.addEventListener('click', this.handleCancel.bind(this));\n\t  this.submitButton.addEventListener('click', this.handleSubmit.bind(this));\n\t  for (var i = 0; i < this.fields.length; i++) {\n\t    var field = this.fields[i];\n\t    field.addEventListener('keyup', this.handleKeyup.bind(this));\n\t  }\n\t};\n\t\n\tForm.prototype.removeEventListeners = function() {\n\t  this.cancelButton.removeEventListener('click', this.handleCancel.bind(this));\n\t  this.cancelButton.setAttribute('disabled', true);\n\t  this.submitButton.removeEventListener('click', this.handleSubmit.bind(this));\n\t  this.submitButton.setAttribute('disabled', true);\n\t  for (var i = 0; i < this.fields.length; i++) {\n\t    var field = this.fields[i];\n\t    field.removeEventListener('keyup', this.handleKeyup.bind(this));\n\t    field.setAttribute('disabled', true);\n\t  }\n\t\n\t  this.subscribeSend.remove();\n\t};\n\t\n\tmodule.exports = formLayout;\n\n\n/***/ },\n/* 85 */\n/*!******************************!*\\\n  !*** ./src/layouts/index.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar showLocationsLayout = __webpack_require__(/*! ./show-locations */ 88);\n\tvar requestGeolocationLatlongLayout = __webpack_require__(/*! ./request-geolocation-latlong */ 86);\n\tvar requestGeolocationZipcodeLayout = __webpack_require__(/*! ./request-geolocation-zipcode */ 87);\n\tvar chooseLocationTypeLayout = __webpack_require__(/*! ./choose-location-type */ 81);\n\tvar chooseLayout = __webpack_require__(/*! ./choose */ 82);\n\tvar formLayout = __webpack_require__(/*! ./form */ 84);\n\tvar creditCardLayout = __webpack_require__(/*! ./cc-validator */ 79);\n\tvar errorLayout = __webpack_require__(/*! ./error */ 83);\n\t\n\tmodule.exports = {\n\t  showLocations: showLocationsLayout,\n\t  requestGeolocationLatlong: requestGeolocationLatlongLayout,\n\t  requestGeolocationZipcode: requestGeolocationZipcodeLayout,\n\t  chooseLocationType: chooseLocationTypeLayout,\n\t  choose: chooseLayout,\n\t  creditCard: creditCardLayout,\n\t  form: formLayout,\n\t  error: errorLayout\n\t};\n\n\n/***/ },\n/* 86 */\n/*!**********************************************************!*\\\n  !*** ./src/layouts/request-geolocation-latlong/index.js ***!\n  \\**********************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\t\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\t\n\tvar requestGeolocationLatlongs = [];\n\t\n\tvar LOCATION_TIMEOUT = 30 * 1000;\n\t\n\tvar requestGeolocationLatlongLayout = {\n\t  init: function() {\n\t    subscribe('layout:request-geolocation-latlong', function(data) {\n\t      var requestGeolocationLatlong = new RequestGeolocationLatlong(data);\n\t      requestGeolocationLatlongs[data.uuid] = requestGeolocationLatlong;\n\t    });\n\t  }\n\t};\n\t\n\tfunction RequestGeolocationLatlong(data) {\n\t  this.init(data);\n\t}\n\t\n\tRequestGeolocationLatlong.prototype = {\n\t  init: function(data) {\n\t    this.data = data.data;\n\t    this.uuid = data.uuid;\n\t    this.parentElement = data.element;\n\t    this.layoutElement = data.layoutElement;\n\t    this.msgElement = data.msgElement;\n\t    this.timedOut = false;\n\t    this.timeoutCheck = setTimeout(function() {\n\t      this.timedOut = true;\n\t      this.handleLocationNotShared();\n\t    }.bind(this), LOCATION_TIMEOUT);\n\t    publish('enable-loading');\n\t    publish('disable-input');\n\t    try {\n\t      navigator.permissions.query({ name: 'geolocation' }).then(function(result) {\n\t        if (result.state === 'prompt') {\n\t          data.msgElement.textContent = i18n('loc_prompt');\n\t          publish('enable-loading', i18n('loc_share'));\n\t        } else if (result.state === 'granted') {\n\t          data.msgElement.textContent = i18n('loc_share_granted');\n\t          publish('enable-loading', i18n('loc_looking'));\n\t        } else if (result.state === 'denied') {\n\t          data.msgElement.textContent = i18n('loc_share_denied');\n\t        }\n\t      });\n\t    } catch (e) {\n\t      console.log('navigator.permissions not supported.');\n\t    }\n\t    navigator.geolocation.getCurrentPosition(\n\t      function(position) {\n\t        if (this.timedOut) return false;\n\t        clearTimeout(this.timeoutCheck);\n\t        this.handleLocationShared(position);\n\t      }.bind(this),\n\t      function() {\n\t        if (this.timedOut) return false;\n\t        clearTimeout(this.timeoutCheck);\n\t        this.handleLocationNotShared();\n\t      }.bind(this)\n\t    );\n\t  },\n\t  handleLocationShared: function(position) {\n\t    publish('enable-input');\n\t    publish('disable-loading');\n\t    publish('send', {\n\t      text: position.coords.latitude + ',' + position.coords.longitude,\n\t      silent: true\n\t    });\n\t  },\n\t  handleLocationNotShared: function() {\n\t    var string = i18n('loc_not_shared_prompt');\n\t    publish('enable-input');\n\t    publish('disable-loading');\n\t    publish('receive', string);\n\t    publish('send', {\n\t      text: 'failure',\n\t      silent: true\n\t    });\n\t  }\n\t};\n\t\n\tmodule.exports = requestGeolocationLatlongLayout;\n\n\n/***/ },\n/* 87 */\n/*!**********************************************************!*\\\n  !*** ./src/layouts/request-geolocation-zipcode/index.js ***!\n  \\**********************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar requestGeolocationZips = [];\n\tvar requestGeolocationZipcodeLayout = {\n\t  init: function() {\n\t    subscribe('layout:request-geolocation-zipcode', function(data) {\n\t      var requestGeolocationZip = new RequestGeolocationZip(data);\n\t      requestGeolocationZips[data.uuid] = requestGeolocationZip;\n\t    });\n\t  }\n\t};\n\t\n\tfunction RequestGeolocationZip(data) {\n\t  this.init(data);\n\t}\n\t\n\tRequestGeolocationZip.prototype.init = function(data) {\n\t  var current = state.get();\n\t  if(current.defaultCountry) {\n\t    state.set({\n\t      handleInput: {\n\t        default: false,\n\t        callback: function(msg, resolve, reject) {\n\t          var current = state.get();\n\t          resolve();\n\t          state.set({\n\t            handleInput: {\n\t              default: true,\n\t              callback: undefined\n\t            }\n\t          });\n\t          publish('send', {\n\t            text: msg + ', ' + current.defaultCountry,\n\t            silent: true\n\t          });\n\t        }\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\tmodule.exports = requestGeolocationZipcodeLayout;\n\n\n/***/ },\n/* 88 */\n/*!*********************************************!*\\\n  !*** ./src/layouts/show-locations/index.js ***!\n  \\*********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar utils = __webpack_require__(/*! ../../utils */ 4);\n\tvar styles = __webpack_require__(/*! ../../styles */ 10);\n\tvar i18n = __webpack_require__(/*! ../../utils/i18n */ 3);\n\t\n\tvar first = true;\n\tvar displayLength = 3;\n\tvar breakpointWidths = ['768', '640', '512', '480', '360'];\n\tvar showLocations = {};\n\tvar locationIDs = [];\n\tvar currentBreakpointKey = 0;\n\tvar pixelRatio = window.devicePixelRatio || 1;\n\tvar ns = 'IBMChat-map';\n\t\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 52),\n\t  createDomArray: __webpack_require__(/*! ./templates/create-dom-array.html */ 53),\n\t  addLocationsItem: __webpack_require__(/*! ./templates/add-locations-item.html */ 51),\n\t  addLocationItem: __webpack_require__(/*! ./templates/add-location-item.html */ 50),\n\t  // hoursClosed: require('./templates/hours-closed.html'),\n\t  // hoursOpen: require('./templates/hours-open.html'),\n\t  // hoursUnknown: require('./templates/hours-unknown.html'),\n\t  // hoursTodayOpen: require('./templates/hours-today-open.html'),\n\t  hoursTodayClosed: __webpack_require__(/*! ./templates/hours-today-closed.html */ 55),\n\t  hoursTodayUnknown: __webpack_require__(/*! ./templates/hours-today-unknown.html */ 56),\n\t  hoursTimezone: __webpack_require__(/*! ./templates/hours-timezone.html */ 54)\n\t};\n\t\n\tvar strings = {\n\t  locations: {\n\t    none: function() { return i18n('loc_nearby_none'); },\n\t    single: function() { return i18n('loc_nearby_single'); },\n\t    list: function() { return i18n('loc_nearby_list'); }\n\t  }\n\t};\n\t\n\tvar showLocationsLayout = {\n\t  init: function() {\n\t    subscribe('layout:show-locations', function(data) {\n\t      var showLocation = new ShowLocations(data);\n\t      if (locationIDs.length === 0)\n\t        subscribe('resize', sizeMap);\n\t      locationIDs.push(data.uuid);\n\t      showLocations[data.uuid] = showLocation;\n\t    });\n\t  }\n\t};\n\t\n\tvar alphaMap = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];\n\t\n\tfunction initialSize(width) {\n\t  for (var i = 0; i < breakpointWidths.length; i++) {\n\t    if ((i === breakpointWidths.length - 1) || breakpointWidths[i] >= width) {\n\t      currentBreakpointKey = i;\n\t      return;\n\t    }\n\t  }\n\t}\n\t\n\tfunction getWidth() {\n\t  var current = state.get();\n\t  var el = current.chatHolder.querySelector('div:first-child');\n\t  return (el) ? el.clientWidth : 0;\n\t}\n\t\n\tfunction sameSize() {\n\t  return (breakpointWidths[currentBreakpointKey] >= getWidth());\n\t}\n\t\n\tfunction sizeMap() {\n\t  if (locationIDs.length > 0 && !sameSize()) {\n\t    var width = getWidth();\n\t    for (var i = 0; i < breakpointWidths.length; i++) {\n\t      if ((i === breakpointWidths.length - 1) || (i === 0 && width >= breakpointWidths[i])) {\n\t        currentBreakpointKey = i;\n\t        for (var j = 0; j < locationIDs.length; j++) {\n\t          if (showLocations[locationIDs[j]].data.length > 0)\n\t            showLocations[locationIDs[j]].reDrawMap();\n\t        }\n\t        return;\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tfunction createEmails(el, item) {\n\t  var linkEl = document.createElement('a');\n\t  linkEl.setAttribute('href', 'mailto:' + item.email);\n\t  linkEl.setAttribute('target', '_blank');\n\t  linkEl.textContent = item.email;\n\t  if (item.phones && item.phones.length > 0) {\n\t    var itemChild = document.createElement('div');\n\t    var text = templates.createDomArray;\n\t    itemChild.className = ns + '-contact-row';\n\t    itemChild.innerHTML = utils.compile(text, {\n\t      ns: ns\n\t    });\n\t    var typeEl = itemChild.querySelector('.' + ns + '-contact-type');\n\t    var dataEl = itemChild.querySelector('.' + ns + '-contact-data');\n\t    typeEl.textContent = 'Email';\n\t    dataEl.appendChild(linkEl);\n\t    el.appendChild(itemChild);\n\t  } else {\n\t    el.appendChild(linkEl);\n\t  }\n\t}\n\t\n\tfunction createPhoneArray(el, items) {\n\t  if (items) {\n\t    for (var i = 0; i < items.length; i++) {\n\t      var itemChild = document.createElement('div');\n\t      var text = templates.createDomArray;\n\t      itemChild.className = ns + '-contact-row';\n\t      itemChild.innerHTML = utils.compile(text, {\n\t        ns: ns\n\t      });\n\t      var typeEl = itemChild.querySelector('.' + ns + '-contact-type');\n\t      var dataEl = itemChild.querySelector('.' + ns + '-contact-data');\n\t      typeEl.textContent = items[i].type;\n\t      dataEl.textContent = items[i].number;\n\t      el.appendChild(itemChild);\n\t    }\n\t  }\n\t}\n\t\n\tfunction createHours(hoursEl, moreHoursEl, hours, timezone, timezoneEl) {\n\t  if (!hours) return;\n\t\n\t  // today's hours\n\t  var now = new Date();\n\t  var nowDate = now.toDateString();\n\t  var dayIdx = now.getDay();\n\t  var todaysHours = hours[dayIdx];\n\t  var el = document.createElement('div');\n\t  if (todaysHours && todaysHours.isOpen) {\n\t    var open = new Date(nowDate + ' ' + todaysHours.open);\n\t    var close = new Date(nowDate + ' ' + todaysHours.close);\n\t    if (open && close) {\n\t      el.innerHTML = i18n.format('loc_open_today_more', {\n\t        ns: ns,\n\t        open: open,\n\t        close: close\n\t      });\n\t    } else {\n\t      el.innerHTML = utils.compile(templates.hoursTodayUnknown, {\n\t        ns: ns,\n\t        loc_open_today: i18n('loc_open_today')\n\t      });\n\t    }\n\t  } else {\n\t    el.innerHTML = utils.compile(templates.hoursTodayClosed, {\n\t      ns: ns,\n\t      loc_closed_today: i18n('loc_closed_today')\n\t    });\n\t  }\n\t  utils.appendToEach(hoursEl, el);\n\t  // timezone\n\t  if (timezone) {\n\t    var tzChildEl = document.createElement('div');\n\t    tzChildEl.innerHTML = utils.compile(templates.hoursTimezone, {\n\t      ns: ns,\n\t      timezone: timezone\n\t    });\n\t    utils.appendToEach(timezoneEl, tzChildEl);\n\t  } else {\n\t    for (var j = 0; j < timezoneEl.length; j++)\n\t      timezoneEl[j].parentNode.removeChild(timezoneEl[j]);\n\t  }\n\t\n\t  // weekly hours\n\t  var compressedHours = compressHours(hours);\n\t  for (var i = 0; i < compressedHours.length; i++) {\n\t    var childEl = document.createElement('span');\n\t    childEl.setAttribute('class', ns + '-days-hours');\n\t    var current = compressedHours[i];\n\t    if (current && current.isOpen) {\n\t      var openDay = current.startDay;\n\t      var closeDay = current.endDay;\n\t      if (openDay && closeDay) {\n\t        var tmpl = openDay.getDate() === closeDay.getDate() ?\n\t            'loc_hours_open' : 'loc_hours_open_multiday';\n\t        childEl.innerHTML = i18n.format(tmpl, {\n\t          ns: ns,\n\t          openDay: openDay,\n\t          closeDay: closeDay,\n\t          open: current.open,\n\t          close: current.close\n\t        });\n\t      } else {\n\t        childEl.innerHTML = i18n.format('loc_hours_unknown', {\n\t          ns: ns,\n\t          day: openDay\n\t        });\n\t      }\n\t    } else {\n\t      childEl.innerHTML = i18n.format('loc_hours_closed', {\n\t        ns: ns,\n\t        day: current.startDay\n\t      });\n\t    }\n\t    if (i < (compressedHours.length - 1))\n\t      childEl.querySelector('.' + ns + '-days-hours-hours').innerHTML += '<br />';\n\t    utils.appendToEach(moreHoursEl, childEl);\n\t  }\n\t}\n\t\n\tfunction compressHours(hours) {\n\t  var compressedHours = [];\n\t  var current = {};\n\t  for (var n = 0; n < hours.length; n++) {\n\t    var bothClosed, sameHours;\n\t    var last = (compressedHours.length > 0) ? compressedHours[compressedHours.length - 1] : false;\n\t    current = hours[n] || { isOpen: false };\n\t    bothClosed = last && (last.isOpen === current.isOpen && current.isOpen === false);\n\t    sameHours = last && (last.open === current.open && last.close === current.close && last.isOpen === current.isOpen);\n\t    if (compressedHours.length > 0 && last && (bothClosed || sameHours)) {\n\t      last.endDay = n;\n\t    } else {\n\t      compressedHours.push({\n\t        isOpen: current.isOpen,\n\t        startDay: n,\n\t        endDay: n,\n\t        open: current.open,\n\t        close: current.close\n\t      });\n\t    }\n\t  }\n\t\n\t  // convert to Date objects\n\t  var today = new Date();\n\t  today.setHours(12);\n\t  for (n = 0; n < compressedHours.length; n++) {\n\t    current = compressedHours[n];\n\t    current.startDay = getDate(today, current.startDay);\n\t    if (current.isOpen) {\n\t      current.endDay = getDate(today, current.endDay);\n\t      current.open = getTime(current.startDay, current.open);\n\t      current.close = getTime(current.startDay, current.close);\n\t    }\n\t  }\n\t\n\t  return compressedHours;\n\t}\n\t\n\tfunction getDate(today, idx) {\n\t  var offset = today.getDay() - idx;\n\t  var date = new Date(today); // clone\n\t  date.setDate(date.getDate() - offset);\n\t  return date;\n\t}\n\t\n\tfunction getTime(today, time) {\n\t  return new Date(today.toDateString() + ' ' + time);\n\t}\n\t\n\tfunction ShowLocations(data) {\n\t  this.init(data);\n\t}\n\t\n\tShowLocations.prototype.init = function(data) {\n\t  this.data = (data.message.data !== undefined && data.message.data.location_data !== undefined) ? data.message.data.location_data : [];\n\t  if (this.data.length > 1) {\n\t    state.set({\n\t      location_data: this.data\n\t    });\n\t  }\n\t  this.eventListeners = [];\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.msgElement = data.msgElement;\n\t  switch (this.data.length) {\n\t  case 0:\n\t    this.msgElement.textContent = strings.locations.none();\n\t    break;\n\t  case 1:\n\t    this.msgElement.textContent = strings.locations.single();\n\t    break;\n\t  default:\n\t    this.msgElement.textContent = strings.locations.list();\n\t  }\n\t\n\t  if (this.data.length > 0) {\n\t    var text = templates.base;\n\t    this.uuid = data.uuid;\n\t    if (first) {\n\t      initialSize(getWidth());\n\t      first = false;\n\t    }\n\t    this.map = document.createElement('div');\n\t    this.map.innerHTML = utils.compile(text, { ns: ns });\n\t    this.mapElement = this.map.querySelector('.' + ns + '-img');\n\t    this.dataElement = this.map.querySelector('.' + ns + '-data');\n\t    if (this.data.length > 1)\n\t      this.mapElement.appendChild(this.drawLocations());\n\t    this.dataElement.appendChild(this.addDetails());\n\t    this.layoutElement.appendChild(this.map);\n\t    if (this.data.length > 1)\n\t      this.layoutElement.querySelectorAll('.' + ns + '-locations-item')[0].focus();\n\t  }\n\t  this.subscribeReceive = subscribe('receive', this.removeAllEventListeners, this);\n\t};\n\t\n\tShowLocations.prototype.reDrawMap = function() {\n\t  this.mapElement.innerHTML = '';\n\t  if (this.data.length > 1)\n\t    this.mapElement.appendChild(this.drawLocations());\n\t};\n\t\n\tShowLocations.prototype.addDetails = function() {\n\t  if (this.data.length > 1)\n\t    return this.addLocations();\n\t  else\n\t    return this.addLocation();\n\t};\n\t\n\tShowLocations.prototype.convertColor = function(color) {\n\t  return styles.normalizeToHex(color).replace('#', '');\n\t};\n\t\n\tShowLocations.prototype.drawLocations = function() {\n\t  var current = state.get();\n\t  var img = document.createElement('img');\n\t  var width = getWidth();\n\t  var config = {\n\t    size: (width - 8) + 'x120',\n\t    scale: pixelRatio\n\t  };\n\t  if (this.data.length === 1)\n\t    config.zoom = 12;\n\t  this.uri = current.mapsServer + '?';\n\t  this.uri += utils.serialize(config);\n\t  this.uri += '&locations=';\n\t  var locations = '';\n\t  for (var i = 0; (i < displayLength && i < this.data.length); i++) {\n\t    var item = this.data[i];\n\t    locations += (i === 0 ) ? item.address.lat + ',' + item.address.lng : '+' + item.address.lat + ',' + item.address.lng;\n\t  }\n\t  this.uri += encodeURIComponent(locations);\n\t  this.uri += '&color=' + encodeURIComponent(this.convertColor(current.styles.accentBackground));\n\t  img.setAttribute('src', this.uri);\n\t  return img;\n\t};\n\t\n\tShowLocations.prototype.handleClick = function() {\n\t  this.className = ns + '-location-active';\n\t  publish('receive', {\n\t    message: {\n\t      text: [utils.compile(strings.locations.single(), { location: showLocations[this.dataset.uuid].data[this.dataset.id - 1].address.address }),\n\t             i18n('anything_else')],\n\t      layout: {\n\t        name: 'show-locations',\n\t        index: 0\n\t      },\n\t      data: {\n\t        location_data: [showLocations[this.dataset.uuid].data[this.dataset.id - 1]]\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\tShowLocations.prototype.removeAllEventListeners = function() {\n\t  var layout = document.querySelector('.' + this.uuid + ' .IBMChat-watson-layout');\n\t  if (layout) {\n\t    layout.classList.add('IBMChat-disabled-layout');\n\t    var inputs = layout.querySelectorAll('input, button');\n\t    for (var i = 0; i < inputs.length; i++)\n\t      inputs[i].setAttribute('disabled', true);\n\t    for (var x = 0; x < this.eventListeners.length; x++)\n\t      this.eventListeners[x].removeEventListener('click', this.handleClick);\n\t    if (this.hoursFunction)\n\t      this.hoursButton.removeEventListener('click', this.hoursFunction);\n\t    if (this.locationsFunction)\n\t      this.locationsButton.removeEventListener('click', this.locationsFunction);\n\t    this.eventListeners = [];\n\t    this.subscribeReceive.remove();\n\t  }\n\t};\n\t\n\tShowLocations.prototype.addLocation = function() {\n\t  var container = document.createElement('div');\n\t  var el = document.createElement('div');\n\t  var locationData = state.get().location_data;\n\t  var item = this.data[0];\n\t  var createDom = function(el) {\n\t    el.innerHTML = utils.compile(templates.addLocationItem, {\n\t      ns: ns,\n\t      loc_all: i18n('loc_all')\n\t    });\n\t    return {\n\t      link: el.querySelector('.' + ns + '-locations-item-data-address-link'),\n\t      label: el.querySelector('.' + ns + '-locations-item-data-title'),\n\t      address: el.querySelector('.' + ns + '-locations-item-data-address'),\n\t      phone: el.querySelector('.' + ns + '-locations-item-data-phone'),\n\t      email: el.querySelector('.' + ns + '-locations-item-data-email'),\n\t      hours: el.querySelectorAll('.' + ns + '-locations-item-data-hours'),\n\t      timezone: el.querySelectorAll('.' + ns + '-locations-item-data-timezone'),\n\t      moreHours: el.querySelectorAll('.' + ns + '-locations-item-data-more-hours'),\n\t      backHolder: el.querySelector('.' + ns + '-locations-all-holder'),\n\t      back: el.querySelector('.' + ns + '-locations-all'),\n\t      parentEl: el.querySelector('.' + ns + '-locations-item')\n\t    };\n\t  };\n\t\n\t  var dom = createDom(el);\n\t\n\t  // name\n\t  if (item.label)\n\t    dom.label.textContent = item.label;\n\t  else\n\t    dom.parentEl.removeChild(dom.label);\n\t\n\t  // addresses\n\t  dom.address.textContent = item.address.address;\n\t  dom.link.setAttribute('href', i18n('google_maps_url') + '?q=' + encodeURIComponent(item.address.address));\n\t  dom.link.setAttribute('target', '_blank');\n\t\n\t  // email\n\t  if (item.email)\n\t    createEmails(dom.email, item);\n\t  else\n\t    dom.email.parentNode.removeChild(dom.email);\n\t\n\t  // phones\n\t  if (item.phones && item.phones.length > 0 && item.hasPhones !== false)\n\t    createPhoneArray(dom.phone, item.phones);\n\t  else\n\t    dom.phone.parentNode.removeChild(dom.phone);\n\t\n\t  // hours/timezone\n\t  if (item.days && item.hasDays !== false) {\n\t    createHours(dom.hours, dom.moreHours, item.days, item.address.timezone, dom.timezone);\n\t  } else {\n\t    for (var i = 0; i < dom.hours; i++)\n\t      dom.hours[i].parentNode.removeChild(dom.hours[i]);\n\t    for (var j = 0; j < dom.timezone; j++)\n\t      dom.timezone[j].parentNode.removeChild(dom.timezone[j]);\n\t    for (var n = 0; n < dom.moreHours; i++)\n\t      dom.moreHours[n].parentNode.removeChild(dom.moreHours[n]);\n\t  }\n\t\n\t  if (locationData && locationData.length > 1) {\n\t    this.locationsButton = dom.back;\n\t    this.locationsFunction = function(e) {\n\t      e.preventDefault();\n\t      publish('receive', {\n\t        message: {\n\t          text: [strings.locations.list(), i18n('anything_else')],\n\t          layout: {\n\t            name: 'show-locations',\n\t            index: 0\n\t          },\n\t          data: {\n\t            location_data: locationData\n\t          }\n\t        }\n\t      });\n\t    };\n\t    dom.back.addEventListener('click', this.locationsFunction);\n\t  } else {\n\t    dom.backHolder.parentNode.removeChild(dom.backHolder);\n\t  }\n\t  container.appendChild(el);\n\t  return container;\n\t};\n\tShowLocations.prototype.addLocations = function() {\n\t  var current = state.get();\n\t  var createDom = function(el, i, uuid) {\n\t    el.addEventListener('click', this.handleClick);\n\t    el.dataset.uuid = uuid;\n\t    el.dataset.id = i + 1;\n\t    el.innerHTML = utils.compile(templates.addLocationsItem, {\n\t      ns: ns,\n\t      title: item.label || '',\n\t      address: item.address.address,\n\t      iconText: alphaMap[i],\n\t      accentText: current.styles.accentText,\n\t      accentBackground: current.styles.accentBackground,\n\t    });\n\t    this.eventListeners.push(el);\n\t  };\n\t\n\t  var container = document.createElement('div');\n\t\n\t  for (var i = 0; (i < displayLength && i < this.data.length); i++) {\n\t    var el = document.createElement('div');\n\t    var item = this.data[i];\n\t    createDom.call(this, el, i, this.uuid);\n\t    container.appendChild(el);\n\t  }\n\t  return container;\n\t};\n\t\n\tmodule.exports = showLocationsLayout;\n\n\n/***/ },\n/* 89 */\n/*!***********************************!*\\\n  !*** ./src/utils/writeMessage.js ***!\n  \\***********************************/\n/***/ function(module, exports) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tfunction writeMessage(el, text) {\n\t  new ParseContent(el, text);\n\t}\n\t\n\tfunction ParseContent(el, text) {\n\t  this.init(el, text);\n\t}\n\t\n\tfunction validLink(link) {\n\t  if (link.startsWith('http://') || link.startsWith('https://'))\n\t    return link;\n\t  else\n\t    return 'http://' + link;\n\t}\n\t\n\tfunction isValidURL(str) {\n\t  var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n\t  '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|'+ // domain name\n\t  '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n\t  '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n\t  '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n\t  '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n\t  return pattern.test(str);\n\t}\n\t\n\tParseContent.prototype.init = function(el, text) {\n\t  if (text) {\n\t    var cls = this;\n\t    var content = [\n\t      {\n\t        type: 'span',\n\t        content: text\n\t      }\n\t    ];\n\t    this.addLineEndings(content)\n\t      .then(cls.addUrls)\n\t      .then(cls.addEmails)\n\t      .then(function(content) {\n\t        cls.writeMessage(el, content);\n\t      })\n\t      .catch(function(e) {\n\t        console.error(e);\n\t      });\n\t  }\n\t};\n\t\n\tParseContent.prototype.writeMessage = function(el, content) {\n\t  content.map(function(item) {\n\t    var s = document.createElement(item.type);\n\t    if (item.content)\n\t      s.textContent = item.content;\n\t    if (item.attributes) {\n\t      Object.keys(item.attributes).map(function(key) {\n\t        s.setAttribute(key, item.attributes[key]);\n\t      });\n\t    }\n\t    el.appendChild(s);\n\t  });\n\t};\n\t\n\tParseContent.prototype.addLineEndings = function(content) {\n\t  return new window.Promise(function(resolve, reject) {\n\t    try {\n\t      var newContent = [];\n\t      for (var i = 0; i < content.length; i++) {\n\t        var arr = content[i].content.split('\\n');\n\t        arr.map(function(value, index) {\n\t          if (value) {\n\t            newContent.push({\n\t              content: value,\n\t              type: 'span'\n\t            });\n\t          }\n\t          if (arr.length != index + 1) {\n\t            newContent.push({\n\t              type: 'br'\n\t            });\n\t          }\n\t        });\n\t      }\n\t      resolve(newContent);\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\tParseContent.prototype.addUrls = function(content) {\n\t  return new window.Promise(function(resolve, reject) {\n\t    try {\n\t      var newContent = [];\n\t      for (var i = 0; i < content.length; i++) {\n\t        content[i].content = content[i].content || '';\n\t        var exp = /(\\b((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\n\t        var splitter = '|^|%|^|';\n\t        var linked = content[i].content.replace(exp, splitter + '$1' + splitter);\n\t        var arr = linked.split(splitter);\n\t        arr.map(function(value) {\n\t          if (value.search(exp) != -1 && isValidURL(value)) {\n\t            var link = validLink(value);\n\t            newContent.push({\n\t              content: value,\n\t              type: 'a',\n\t              attributes: {\n\t                href: link,\n\t                target: '_blank'\n\t              }\n\t            });\n\t          } else {\n\t            newContent.push({\n\t              content: value,\n\t              type: content[i].type,\n\t              attributes: content[i].attributes\n\t            });\n\t          }\n\t        });\n\t      }\n\t      resolve(newContent);\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\tParseContent.prototype.addEmails = function(content) {\n\t  return new window.Promise(function(resolve, reject) {\n\t    try {\n\t      var newContent = [];\n\t      for (var i = 0; i < content.length; i++) {\n\t        if (content[i].content) {\n\t          var exp = /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi;\n\t          var linked = content[i].content.replace(exp,'|||$1|||');\n\t          var arr = linked.split('|||');\n\t          arr.map(function(value) {\n\t            var newtext = value.replace(exp, '<a href=\"mailto:$1\" target=\"_blank\">$1</a>');\n\t            if (newtext === value) {\n\t              newContent.push({\n\t                content: value,\n\t                type: content[i].type,\n\t                attributes: content[i].attributes\n\t              });\n\t            } else {\n\t              newContent.push({\n\t                content: value,\n\t                type: 'a',\n\t                attributes: {\n\t                  href: 'mailto:' + value,\n\t                  target: '_blank'\n\t                }\n\t              });\n\t            }\n\t          });\n\t        } else {\n\t          newContent.push({\n\t            type: content[i].type,\n\t            content: content[i].content,\n\t            attributes: content[i].attributes\n\t          });\n\t        }\n\t      }\n\t      resolve(newContent);\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\tmodule.exports = writeMessage;\n\n\n/***/ },\n/* 90 */\n/*!*******************************!*\\\n  !*** ./lib/locales (ignored) ***!\n  \\*******************************/\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** chat.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 940c32c96aa9f76769be\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar bootstrap = require('./bootstrap');\n\n/**\n * @namespace IBMChat\n */\n\nvar IBMChat = {\n  /**\n   * Generate the chat widget into an element.\n   * @function init\n   * @memberof IBMChat\n   * @param {Object} config\n   * @param {string} config.el - Takes a string representing the ID of an html element to be rendered to OR a selected element\n   * @param {string} config.botID - The unique identifier of your Virtual Agent.\n   * @param {string} config.userID - optional: A one-way hashed non-identifiable (e.g. not a users email address or public user id) unique ID used for tracking in the Engagement Metrics dashboard.\n   * @param {string} config.locale=en - optional: Locale string to use for localization and translated text.\n   * @param {Object} config.langBundle - optional: Object containing one or more translation bundles, indexed by locale.\n   * @param {string} config.userLatLon -  optional: A lat,lon string (e.g. 28.3852,-81.5639) used for tracking in the Engagement Metrics dashboard.\n   * @param {string} config.defaultCountry -  optional: Takes a string of a country name (e.g. United Kingdom) to use to help postal code calculation using `request-geolocation-zipcode` layout in context with \"Find nearest store\" flows.\n   * @param {string} config.baseURL=https://api.ibm.com/virtualagent/run/api/v1/ - optional: specifies a different bot hosting server. The most common use-case for this param is to point the widget to a server that will add X-IBM-Client-Id and X-IBM-Client-Secret headers to the request.\n   * @param {string} config.XIBMClientID - optional: Your IBMClientID... this should not be made public in a public environment. Including this will add X-IBM-Client-Id as a header to your request.\n   * @param {string} config.XIBMClientSecret - optional: Your IBMClientSecret... this should not be made public in a public environment. Including this will add X-IBM-Client-Secret as a header to your request.\n   * @param {Function} config.errorHandler - optional: A function that takes an error object as a param if there is a problem with communicating with your Virtual Agent. By default, if an error is received, the user is escalated to a live agent. You may, however, want to handle some errors differently (401 for instance)\n   * @param {Object} config.errorHandlerContext - optional: A \"this\" value for the errorHandler.\n   * @param {Object} config.styles - optional: Override default styling.\n   * @param {string} config.styles.background=rgba(61,61,61,1) - optional: rgba(X, X, X, X) or hex code for background color\n   * @param {string} config.styles.text=#ffffff - optional: rgba(X, X, X, X) or hex code for main text color\n   * @param {string} config.styles.link=#ffffff - optional: rgba(X, X, X, X) or hex code for color of links in text\n   * @param {string} config.styles.secondaryBackground=rgba(90,90,90,1) - optional: rgba(X, X, X, X) or hex code for background color of chat bubbles and other secondary info\n   * @param {string} config.styles.secondaryText=rgba(247,247,247,1) - optional: rgba(X, X, X, X) or hex code for color of chat bubble text and other secondary info\n   * @param {string} config.styles.inputBackground=rgba(90,90,90,1) - optional: rgba(X, X, X, X) or hex code for background color of input elements in forms\n   * @param {string} config.styles.inputText=rgba(247,247,247,1) - optional: rgba(X, X, X, X) or hex code for color of input text in forms\n   * @param {string} config.styles.accentText=#ffffff - optional: rgba(X, X, X, X) or hex code for text colors to be used in conjunction with accentBackground e.g. button text\n   * @param {string} config.styles.accentBackground=#BA8FF7 - optional: rgba(X, X, X, X) or hex code for accent colors used by the chat application e.g. buttons\n   * @param {string} config.styles.errorText=#ffffff - optional: rgba(X, X, X, X) or hex code for text colors to be used in conjunction with errorBackground e.g. button text\n   * @param {string} config.styles.errorBackground=#e86e6e - optional: rgba(X, X, X, X) or hex code for error colors used by the chat application e.g. validation buttons\n   * @param {string} config.styles.fontFamily=HelveticaNeue,Helvetica,sans-serif - optional: comma seperated list of fonts to use\n   * @param {string} config.styles.fontSize=15px - optional: base font size to use\n   * @example\n   * IBMChat.init({\n   *  el: 'my_div',\n   *  botID: 'xxxxxxxxxxxxxx'\n   *  styles: {\n   *    background: \"#000000\"\n   *  }\n   * }).then(function(){\n   *     console.log('initialize');\n   * });\n   * //or\n   * var el = document.querySelector('.my-widget-container');\n   * IBMChat.init({\n   *  el: el,\n   *  botID: 'xxxxxxxxxxxxxx'\n   *  styles: {\n   *    background: \"#000000\"\n   *  }\n   * }).then(function(){\n   *     console.log('initialize');\n   * });\n   * @returns {Promise} Returns: A promise so you can call functions after the widget has been initialized.\n   */\n  init: bootstrap.init,\n  /**\n   * Please use either IBMChat.clear() or IBMChat.destroy() and IBMChat.init() in conjunction instead of this method. This method destroys the chat widget and re-intitializes it. The same chat widget is rendered in the same html element as was specified in the init method. **Action subscriptions and custom layouts are NOT reincluded**.\n   * @function restart\n   * @deprecated\n   * @memberof IBMChat\n   * @example\n   * IBMChat.restart().then(function(){\n   *     console.log('restarted');\n   * });\n   * @returns {Promise} Returns: A promise so you can call functions after the widget has been initialized.\n   */\n  restart: bootstrap.restart,\n  /**\n   * Destroy the chat widget and restore the original HTML content. Useful if the chat widget is displayed in a modal, for example, and you want it to go away when the modal is closed.\n   * @function destroy\n   * @memberof IBMChat\n   * @example\n   * IBMChat.destroy().then(function(){\n   *     console.log('destroyed');\n   * });\n   * @returns {Promise} Returns: A promise so you can call functions after the widget has been destroyed.\n   */\n  destroy: bootstrap.destroy,\n  /**\n   * Clear the chat widget of its current conversation and start a new conversation with the Virtual Agent\n   * @function clear\n   * @memberof IBMChat\n   * @example\n   * IBMChat.clear().then(function(){\n   *     console.log('cleared');\n   * });\n   * @returns {Promise} Returns: A promise so you can call functions after the widget has been cleared.\n   */\n  clear: bootstrap.clear,\n  /**\n   * Send a message to the chat widget from outside the chat widget. This message will be displayed in the interface.\n   * @function send\n   * @memberof IBMChat\n   * @param {string} message - A message you want to send to the chat widget.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.send('Hello world.');\n   */\n  send: function(message) {\n    bootstrap.send(message);\n    return IBMChat;\n  },\n\n  /**\n   * Mock receiving a message to the chat widget from outside the chat widget.\n   * @function receive\n   * @memberof IBMChat\n   * @param {string} message - A message you want to show as received in the chat widget.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.receive('Hello world.');\n   */\n  receive: function(message) {\n    bootstrap.receive(message);\n    return IBMChat;\n  },\n\n  /**\n   * Send a message to the chat widget from outside the chat widget. This message will be displayed in the interface, but will not actually get sent to the server.\n   * @function sendMock\n   * @memberof IBMChat\n   * @param {string} message - A message you want to pretend to send to the chat widget.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.sendMock('Hello world.');\n   */\n  sendMock: function(message) {\n    bootstrap.sendMock(message);\n    return IBMChat;\n  },\n\n  /**\n   * Send a message to the chat widget from outside the chat widget. This message will NOT be displayed in the interface.\n   * @function sendSilently\n   * @memberof IBMChat\n   * @param {string} message - A message you want to send to the chat widget, but not de displayed in the interface.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.sendSilently('Hello world.');\n   */\n  sendSilently: function(message) {\n    bootstrap.sendSilently(message);\n    return IBMChat;\n  },\n\n  /**\n   * Register a custom layout with the chat widget. Call registerLayout() before you call init().\n   * @function registerLayout\n   * @memberof IBMChat\n   * @param {string} layout - The name of the layout your bot will provide when it is triggered to render a layout.\n   * @param {function} init - A function that runs one time, when the chat widget is bootstrapped. Be sure to subscribe to the \"layout:YOUR_LAYOUT_NAME\" event in this function.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * var PlumberBrothers = require('../plumber-brothers-game');\n   * var config = {};\n   *\n   * function initGame() {\n   *   IBMChat.subscribe('layout:plumber-brothers-game', function(obj) {\n   *     var uuid = obj.uuid;\n   *     var parentElement = obj.element;\n   *     var layoutElement = obj.layoutElement;\n   *     var msgElement = obj.msgElement;\n   *     var message = obj.message;\n   *     var data = obj.data;\n   *     msgElement.textContent = 'Loading Plumber Brothers!';\n   *     var brothers = new PlumberBrothers();\n   *     brothers.render(layoutElement, data).then(function() {\n   *       msgElement.textContent = 'Enjoy your game of Plumber Brothers!';\n   *     });\n   *   }\n   * });\n   *\n   * IBMChat.registerLayout('plumber-brothers-game', initGame);\n   * IBMChat.init(config);\n   */\n  registerLayout: function(layout, init) {\n    bootstrap.registerLayout(layout, init);\n    return IBMChat;\n  },\n\n  /**\n   * Override how inputs into the chat text box are handled. e.g. you may wish to send messages to your live agent instead of to your virtual agent.\n   * @function enableCustomInputHandler\n   * @memberof IBMChat\n   * @param {Object} config\n   * @param {function} config.callback - A function that receives a message and resolve and reject functions as params\n   * @param {boolean} config.context - (optional) A value for \"this\" in your callback function\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.enableCustomInputHandler({\n   *   callback: function(message, resolve, reject) {\n   *     //do something like send the message to your live customer service rep\n   *     IBMChat.receive('A message from your live customer service rep');\n   *     resolve(); // gets rid of loading spinner and allows the chat text box to accept another message\n   *     // reject(error);\n   *  }\n   * });\n   */\n\n  enableCustomInputHandler: function(config) {\n    bootstrap.enableCustomInputHandler(config);\n    return IBMChat;\n  },\n\n  /**\n   * Return chat input boxes handling to the default provided handler.\n   * @function disableCustomInputHandler\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.disableCustomInputHandler();\n   */\n\n  disableCustomInputHandler: function() {\n    bootstrap.disableCustomInputHandler();\n    return IBMChat;\n  },\n\n  /**\n   * Set focus to the chat text box. Useful if you want users to be able to just start typing into the text box without having to click in the text box first to set focus.\n   * @function focusInput\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.focusInput();\n   */\n\n  focusInput: function() {\n    bootstrap.focusInput();\n    return IBMChat;\n  },\n  /**\n   * Prevent users from submitting messages in the chat text box. Useful when you want the user to interact with a layout instead.\n   * @function disableInput\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.disableInput();\n   */\n  disableInput: function() {\n    bootstrap.disableInput();\n    return IBMChat;\n  },\n\n  /**\n   * Enable users to submit messages in the chat text box. Useful when you want users to be able to return to adding messages to the chat text box after interacting with a layout.\n   * @function enableInput\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.enableInput();\n   */\n  enableInput: function() {\n    bootstrap.enableInput();\n    return IBMChat;\n  },\n\n\n  /**\n   * Subscribe to an IBMChat event. See [./EVENTS.md](./EVENTS.md) for more details.\n   * @function subscribe\n   * @memberof IBMChat\n   * @param {string} eventName - Takes a string representing the name of the event\n   * @param {function} callback - function to run when event is called\n   * @param context - optional: value of \"this\" in the function\n   * @returns {Object} - Returns object with a .remove function to destroy the subscription\n   * @example\n   * var mySubscription = IBMChat.subscribe('the-end-of-the-world', function(message) {\n   *   console.log(message);\n   *   mySubscription.remove(); // remove subscription\n   * });\n   */\n  subscribe: bootstrap.subscribe,\n\n  /**\n   * Subscribe to an IBMChat event and auto unsubscribe when called.\n   * @function subscribeOnce\n   * @memberof IBMChat\n   * @param {string} eventName - Takes a string representing the name of the event\n   * @param {function} callback - function to run when event is called\n   * @param context - optional: value of \"this\" in the function\n   * @returns {Object} - Returns object with a .remove function to destroy the subscription\n   * @example\n   * var mySubscription = IBMChat.subscribeOnce('the-end-of-the-world', function(message) {\n   *   console.log(message);\n   * });\n   */\n  subscribeOnce: bootstrap.subscribeOnce,\n  /**\n   * Publish an IBMChat event. See [./EVENTS.md](./EVENTS.md) for more details.\n   * @function publish\n   * @memberof IBMChat\n   * @param {string} eventName - A string that represents the name of the event data\n   * @param data - Data to pass to the callback function of any subscribed functions. Accepts any data type.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.publish('the-end-of-the-world', 'panic!');\n   */\n  publish: function(eventName, data) {\n    bootstrap.publish(eventName, data);\n    return IBMChat;\n  },\n  /**\n   * @namespace profile\n   * @memberof IBMChat\n   */\n  profile: {\n    /**\n    * Get an item from the user profile based on key.\n    * @memberof IBMChat.profile\n    * @function get\n    * @param {string} key - The named key of the value you are accessing.\n    * @example\n    * IBMChat.profile.get('first_name');\n    * @returns {Any} Returns: the value of the key in the profile map.\n    */\n    get: bootstrap.profile.get,\n    /**\n    * Set an item from the user profile based on key.\n    * @memberof IBMChat.profile\n    * @function set\n    * @param {string} key - The named key of the value you are setting.\n    * @param {string} value - The value you are setting.\n    * @example\n    * IBMChat.profile.set('first_name', 'john');\n    */\n    set: bootstrap.profile.set,\n    /**\n    * See if an item from the user profile exists based on key.\n    * @memberof IBMChat.profile\n    * @function has\n    * @param {string} key - The named key of the value you are checking the existence of.\n    * @example\n    * IBMChat.profile.has('first_name');\n    * @returns {Boolean} - Boolean indicating if the key exists.\n    */\n    has: bootstrap.profile.has,\n    /**\n    * Clear the entire user profile.\n    * @memberof IBMChat.profile\n    * @function clear\n    * @example\n    * IBMChat.profile.clear();\n    */\n    clear: bootstrap.profile.clear,\n    /**\n    * Delete an item from the user profile based on key.\n    * @memberof IBMChat.profile\n    * @function delete\n    * @param {string} key - The named key of the value you are deleting.\n    * @example\n    * IBMChat.profile.delete('first_name');\n    */\n    delete: bootstrap.profile.delete,\n    /**\n    * Iterate over the profile.\n    * @memberof IBMChat.profile\n    * @function forEach\n    * @param {function} callback - The function you are calling on each item in the profile object. This function is passed key as the first argument and value as the second argument.\n    * @param {Object} this - (optional) The context you wish to call the callback in.\n    * @example\n    * IBMChat.profile.forEach(function(key, value) {\n    *   console.log(key, value);\n    * });\n    */\n    forEach: bootstrap.profile.forEach\n  },\n  /**\n   * See a list of current event subscriptions. See [./EVENTS.md](./EVENTS.md) for more details.\n    * @function currentSubscriptions\n   * @memberof IBMChat\n   * @returns {Array} - Array of events and callbacks.\n   * @example\n   * IBMChat.currentSubscriptions();\n   */\n  currentSubscriptions: bootstrap.currentSubscriptions,\n  /**\n   * @namespace state\n   * @memberof IBMChat\n   */\n  state: {\n    /**\n    * @memberof IBMChat.state\n    * @function get\n    * @example\n    * IBMChat.state.get();\n    * @returns {Object} Returns: the current application state.\n    */\n    get: bootstrap.state.get,\n    /**\n    * @memberof IBMChat.state\n    * @function set\n    * @param {Object} newState - The key/value pairs put here will merge with current application state.\n    * @returns {IBMChat} - Returns IBMChat for chaining.\n    * @example\n    * IBMChat.state.set({\n    *      \"first_name\": \"Bob\"\n    * });\n    */\n    set: function(obj) {\n      bootstrap.state.set(obj);\n      return IBMChat;\n    }\n  },\n  /**\n   * @namespace context\n   * @memberof IBMChat\n   */\n  context: {\n    /**\n    * For [use with Custom Workspaces](https://www.ibm.com/watson/developercloud/doc/conversation/dialog-build.html#context-variables)\n    * @memberof IBMChat.context\n    * @function get\n    * @example\n    * IBMChat.context.get();\n    * @returns {Object} Returns: the current content.\n    */\n    get: bootstrap.context.get,\n    /**\n    * @memberof IBMChat.context\n    * @function set\n    * @param {Object} newContext - The key/value pairs put here will merge with current context variables.\n    * @returns {IBMChat} - Returns IBMChat for chaining.\n    * @example\n    * IBMChat.context.set({\n    *      \"first_name\": \"Bob\"\n    * });\n    */\n    set: function(obj) {\n      bootstrap.context.set(obj);\n      return IBMChat;\n    }\n  },\n\n  /**\n   * Turns on a whole bunch of verbose console.log statements!\n   * @function debug\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.debug()\n   */\n  debug: function() {\n    bootstrap.debug();\n    return IBMChat;\n  },\n\n  /**\n   * String of current version of the chat widget.\n   * @memberof IBMChat\n   * @example\n   * IBMChat.version\n   */\n  version: process.env.CHAT_VERSION\n\n};\n\n\nmodule.exports = IBMChat;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../state');\n\nvar events = [];\n\nfunction completeEvent(response) {\n  switch (response) {\n  case true:\n    publish('send', {\n      message: 'success',\n      silent: true\n    });\n    break;\n  case false:\n    publish('send', {\n      message: 'failure',\n      silent: true\n    });\n    break;\n  default:\n    publish('send', {\n      message: 'cancel',\n      silent: true\n    });\n  }\n}\n\nfunction destroy() {\n  events = [];\n}\n\nfunction unsubscribe(event, handler, context) {\n  if (typeof context === undefined)\n    context = handler;\n}\n\nfunction currentSubscriptions() {\n  return events.slice(0);\n}\n\nfunction hasSubscription(action) {\n  var subscriptions = currentSubscriptions();\n  for (var i = 0; i < subscriptions.length; i++) {\n    var subscription = subscriptions[i];\n    if (subscription && subscription.event === action)\n      return true;\n    if (i === subscriptions.length - 1)\n      return false;\n  }\n}\n\nfunction subscribe(event, handler, context, subscribeOnce) {\n  if (typeof context === undefined)\n    context = handler;\n  var index = events.push({ event: event, handler: handler.bind(context), subscribeOnce: (subscribeOnce) ? true : false }) - 1;\n  if (!subscribeOnce) {\n    return {\n      remove: function() {\n        delete events[index];\n      }\n    };\n  }\n}\n\nfunction subscribeMany(event, handler, context) {\n  return subscribe(event, handler, context, false);\n}\n\nfunction subscribeOnce(event, handler, context) {\n  subscribe(event, handler, context, true);\n}\n\nfunction publish(event, data, cb) {\n  var current = state.get();\n  var wasSubscription = false;\n  for (var i = 0; i < events.length; i++) {\n    if (events[i] && events[i].event && events[i].event === event) {\n      if (current.DEBUG) {\n        wasSubscription = true;\n        if (event !== 'resize')\n          console.log('Subscription to ' + event + ' was called: ', data);\n      }\n      events[i].handler.call(undefined, data, cb);\n      if (events[i] && events[i].subscribeOnce === true)\n        delete events[i];\n    }\n  }\n  if (current.DEBUG && event.indexOf('layout') == -1 && !wasSubscription)\n    console.warn('Nothing is subscribed to ' + event);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  unsubscribe: unsubscribe,\n  currentSubscriptions: currentSubscriptions,\n  hasSubscription: hasSubscription,\n  subscribe: subscribeMany,\n  subscribeOnce: subscribeOnce,\n  publish: publish,\n  completeEvent: completeEvent\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/index.js\n ** module id = 1\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar states = [];\nvar state = {};\nvar assign = require('lodash/assign');\n\nfunction get() {\n  return state;\n}\nfunction destroy() {\n  state = {};\n  set({});\n}\n\nfunction set(updated) {\n  state = assign({}, state, updated);\n  if (state.DEBUG) {\n    states.push(state);\n    console.log('STATE HISTORY: ', states);\n    console.log('NEW STATE: ', state);\n  }\n}\n\nmodule.exports ={\n  get: get,\n  set: set,\n  destroy: destroy,\n  getState: get,\n  setState: set,\n  destroyState: destroy\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/state/index.js\n ** module id = 2\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar IntlMessageFormat = require('intl-messageformat');\nvar fallbacks = require('json!yaml!../lang/en.yaml').en;\nvar state = require('../state');\n\nfunction getString(id, fallback) {\n  var t = state.get().langBundle;\n  if (t && t[id]) {\n    return t[id];\n  }\n  if (fallback) {\n    return fallback;\n  }\n  if (fallbacks[id]) {\n    return fallbacks[id];\n  }\n  return null;\n}\n\nvar intlMsgOptions = {\n  date: {\n    // outputs 'Sat', 'Sun'\n    weekday_short: {\n      weekday: 'short'\n    }\n  }\n};\n\nfunction getMessage(id, _useFallbacks) {\n  var msg;\n  var t = !_useFallbacks ? state.get().langBundle : fallbacks;\n  if (t && t[id]) {\n    msg = t[id];\n    if (typeof msg === 'string') {\n      // create a message object and store it\n      var locale = state.get().locale;\n      msg = new IntlMessageFormat(msg, locale, intlMsgOptions);\n      t[id] = msg;\n    }\n  } else {\n    msg = getMessage(id, true);\n  }\n\n  return msg;\n}\n\nfunction format(id, values) {\n  var msg = getMessage(id);\n  return msg.format(values);\n}\n\nmodule.exports = getString;\nmodule.exports.format = format;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/i18n.js\n ** module id = 3\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../state');\nvar events = require('../events');\nvar writeMessage = require('./writeMessage');\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nfunction serialize(obj) {\n  var str = [];\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p))\n      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]));\n  }\n  return str.join('&');\n}\n\nfunction compile(str, options) {\n  if (options && Array.isArray(Object.keys(options)) && Object.keys(options).length > 0) {\n    Object.keys(options).forEach(function(key) {\n      str = str.split('${' + key + '}').join(options[key]);\n    });\n  }\n  return str;\n}\n\nfunction getUUID() {\n  var d = new Date().getTime();\n  if ( window.performance && typeof window.performance.now === 'function' )\n    d += performance.now();\n  return 'IBMChat-' + ('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = (d + Math.random()*16)%16 | 0;\n    d = Math.floor(d/16);\n    return (( c == 'x' ? r : (r&0x3|0x8)).toString(16));\n  }));\n}\n\nfunction hasClass(element, className) {\n  var thatClass = \" \" + className + \" \";\n  return ( (\" \" + element.className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(thatClass) > -1 );\n}\n\nfunction appendToEach(appendTo, content) {\n  for (var i = 0; i < appendTo.length; i++) {\n    var clone = content.cloneNode(true);\n    appendTo[i].appendChild(clone);\n  }\n}\n\nfunction isVisible(elem) {\n  if (elem)\n    return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n  else\n    return false;\n}\n\nvar _currentVisibilityCheck;\n\nfunction checkVisibility() {\n  var current = state.get();\n  if (_currentVisibilityCheck)\n    clearTimeout(_currentVisibilityCheck);\n  if (isVisible(current.root)) {\n    if (!current.isVisible) {\n      state.set({\n        isVisible: true\n      });\n    }\n    events.publish('resize');\n    _currentVisibilityCheck = setTimeout(checkVisibility, 1000);\n  } else {\n    if (current.isVisible) {\n      state.set({\n        isVisible: false\n      });\n    }\n    _currentVisibilityCheck = setTimeout(checkVisibility, 300);\n  }\n}\n\nfunction endVisibilityCheck() {\n  if (_currentVisibilityCheck)\n    clearTimeout(_currentVisibilityCheck);\n}\n\nfunction checkRoot(el) {\n  if (typeof el === 'string' && document.getElementById(el))\n    return true;\n  else if (el.nodeType && el.nodeType === 1)\n    return true;\n  else\n    return false;\n}\n\nfunction getSDKConfig(config) {\n  var SDKconfig = {};\n  var baseURL = 'https://api.ibm.com/virtualagent/run/api/v1/';\n  SDKconfig.baseURL = config.baseURL || baseURL;\n  if (config.withCredentials)\n    SDKconfig.withCredentials = config.withCredentials;\n  if (config.XIBMClientID)\n    SDKconfig.XIBMClientID = config.XIBMClientID;\n  if (config.XIBMClientSecret)\n    SDKconfig.XIBMClientSecret = config.XIBMClientSecret;\n  if (config.userID)\n    SDKconfig.userID = config.userID;\n  if (config.userLatLon)\n    SDKconfig.userLatLon = config.userLatLon;\n  return SDKconfig;\n}\n\nmodule.exports = {\n  appendToEach: appendToEach,\n  debounce: debounce,\n  serialize: serialize,\n  hasClass: hasClass,\n  getUUID: getUUID,\n  compile: compile,\n  writeMessage: writeMessage,\n  isVisible: isVisible,\n  checkVisibility: checkVisibility,\n  checkRoot: checkRoot,\n  getSDKConfig: getSDKConfig,\n  endVisibilityCheck: endVisibilityCheck\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/index.js\n ** module id = 4\n ** module chunks = 0\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SDK\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SDK\"] = factory();\n\telse\n\t\troot[\"SDK\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(22);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*global toString:true*/\n\t\n\t// utils is a library of generic helper functions non-specific to axios\n\t\n\tvar toString = Object.prototype.toString;\n\t\n\t/**\n\t * Determine if a value is an Array\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an Array, otherwise false\n\t */\n\tfunction isArray(val) {\n\t  return toString.call(val) === '[object Array]';\n\t}\n\t\n\t/**\n\t * Determine if a value is an ArrayBuffer\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n\t */\n\tfunction isArrayBuffer(val) {\n\t  return toString.call(val) === '[object ArrayBuffer]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a FormData\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an FormData, otherwise false\n\t */\n\tfunction isFormData(val) {\n\t  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n\t}\n\t\n\t/**\n\t * Determine if a value is a view on an ArrayBuffer\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n\t */\n\tfunction isArrayBufferView(val) {\n\t  var result;\n\t  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n\t    result = ArrayBuffer.isView(val);\n\t  } else {\n\t    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n\t  }\n\t  return result;\n\t}\n\t\n\t/**\n\t * Determine if a value is a String\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a String, otherwise false\n\t */\n\tfunction isString(val) {\n\t  return typeof val === 'string';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Number\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Number, otherwise false\n\t */\n\tfunction isNumber(val) {\n\t  return typeof val === 'number';\n\t}\n\t\n\t/**\n\t * Determine if a value is undefined\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if the value is undefined, otherwise false\n\t */\n\tfunction isUndefined(val) {\n\t  return typeof val === 'undefined';\n\t}\n\t\n\t/**\n\t * Determine if a value is an Object\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an Object, otherwise false\n\t */\n\tfunction isObject(val) {\n\t  return val !== null && typeof val === 'object';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Date\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Date, otherwise false\n\t */\n\tfunction isDate(val) {\n\t  return toString.call(val) === '[object Date]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a File\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a File, otherwise false\n\t */\n\tfunction isFile(val) {\n\t  return toString.call(val) === '[object File]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Blob\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Blob, otherwise false\n\t */\n\tfunction isBlob(val) {\n\t  return toString.call(val) === '[object Blob]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Function\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Function, otherwise false\n\t */\n\tfunction isFunction(val) {\n\t  return toString.call(val) === '[object Function]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Stream\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Stream, otherwise false\n\t */\n\tfunction isStream(val) {\n\t  return isObject(val) && isFunction(val.pipe);\n\t}\n\t\n\t/**\n\t * Determine if a value is a URLSearchParams object\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n\t */\n\tfunction isURLSearchParams(val) {\n\t  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n\t}\n\t\n\t/**\n\t * Trim excess whitespace off the beginning and end of a string\n\t *\n\t * @param {String} str The String to trim\n\t * @returns {String} The String freed of excess whitespace\n\t */\n\tfunction trim(str) {\n\t  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n\t}\n\t\n\t/**\n\t * Determine if we're running in a standard browser environment\n\t *\n\t * This allows axios to run in a web worker, and react-native.\n\t * Both environments support XMLHttpRequest, but not fully standard globals.\n\t *\n\t * web workers:\n\t *  typeof window -> undefined\n\t *  typeof document -> undefined\n\t *\n\t * react-native:\n\t *  typeof document.createElement -> undefined\n\t */\n\tfunction isStandardBrowserEnv() {\n\t  return (\n\t    typeof window !== 'undefined' &&\n\t    typeof document !== 'undefined' &&\n\t    typeof document.createElement === 'function'\n\t  );\n\t}\n\t\n\t/**\n\t * Iterate over an Array or an Object invoking a function for each item.\n\t *\n\t * If `obj` is an Array callback will be called passing\n\t * the value, index, and complete array for each item.\n\t *\n\t * If 'obj' is an Object callback will be called passing\n\t * the value, key, and complete object for each property.\n\t *\n\t * @param {Object|Array} obj The object to iterate\n\t * @param {Function} fn The callback to invoke for each item\n\t */\n\tfunction forEach(obj, fn) {\n\t  // Don't bother if no value provided\n\t  if (obj === null || typeof obj === 'undefined') {\n\t    return;\n\t  }\n\t\n\t  // Force an array if not already something iterable\n\t  if (typeof obj !== 'object' && !isArray(obj)) {\n\t    /*eslint no-param-reassign:0*/\n\t    obj = [obj];\n\t  }\n\t\n\t  if (isArray(obj)) {\n\t    // Iterate over array values\n\t    for (var i = 0, l = obj.length; i < l; i++) {\n\t      fn.call(null, obj[i], i, obj);\n\t    }\n\t  } else {\n\t    // Iterate over object keys\n\t    for (var key in obj) {\n\t      if (obj.hasOwnProperty(key)) {\n\t        fn.call(null, obj[key], key, obj);\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Accepts varargs expecting each argument to be an object, then\n\t * immutably merges the properties of each object and returns result.\n\t *\n\t * When multiple objects contain the same key the later object in\n\t * the arguments list will take precedence.\n\t *\n\t * Example:\n\t *\n\t * ```js\n\t * var result = merge({foo: 123}, {foo: 456});\n\t * console.log(result.foo); // outputs 456\n\t * ```\n\t *\n\t * @param {Object} obj1 Object to merge\n\t * @returns {Object} Result of all merge properties\n\t */\n\tfunction merge(/* obj1, obj2, obj3, ... */) {\n\t  var result = {};\n\t  function assignValue(val, key) {\n\t    if (typeof result[key] === 'object' && typeof val === 'object') {\n\t      result[key] = merge(result[key], val);\n\t    } else {\n\t      result[key] = val;\n\t    }\n\t  }\n\t\n\t  for (var i = 0, l = arguments.length; i < l; i++) {\n\t    forEach(arguments[i], assignValue);\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = {\n\t  isArray: isArray,\n\t  isArrayBuffer: isArrayBuffer,\n\t  isFormData: isFormData,\n\t  isArrayBufferView: isArrayBufferView,\n\t  isString: isString,\n\t  isNumber: isNumber,\n\t  isObject: isObject,\n\t  isUndefined: isUndefined,\n\t  isDate: isDate,\n\t  isFile: isFile,\n\t  isBlob: isBlob,\n\t  isFunction: isFunction,\n\t  isStream: isStream,\n\t  isURLSearchParams: isURLSearchParams,\n\t  isStandardBrowserEnv: isStandardBrowserEnv,\n\t  forEach: forEach,\n\t  merge: merge,\n\t  trim: trim\n\t};\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\tvar buildURL = __webpack_require__(12);\n\tvar parseHeaders = __webpack_require__(18);\n\tvar transformData = __webpack_require__(4);\n\tvar isURLSameOrigin = __webpack_require__(16);\n\tvar btoa = (typeof window !== 'undefined' && window.btoa) || __webpack_require__(11);\n\tvar settle = __webpack_require__(19);\n\t\n\tmodule.exports = function xhrAdapter(resolve, reject, config) {\n\t  var requestData = config.data;\n\t  var requestHeaders = config.headers;\n\t\n\t  if (utils.isFormData(requestData)) {\n\t    delete requestHeaders['Content-Type']; // Let the browser set it\n\t  }\n\t\n\t  var request = new XMLHttpRequest();\n\t  var loadEvent = 'onreadystatechange';\n\t  var xDomain = false;\n\t\n\t  // For IE 8/9 CORS support\n\t  // Only supports POST and GET calls and doesn't returns the response headers.\n\t  // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n\t  if (process.env.NODE_ENV !== 'test' && typeof window !== 'undefined' && window.XDomainRequest && !('withCredentials' in request) && !isURLSameOrigin(config.url)) {\n\t    request = new window.XDomainRequest();\n\t    loadEvent = 'onload';\n\t    xDomain = true;\n\t    request.onprogress = function handleProgress() {};\n\t    request.ontimeout = function handleTimeout() {};\n\t  }\n\t\n\t  // HTTP basic authentication\n\t  if (config.auth) {\n\t    var username = config.auth.username || '';\n\t    var password = config.auth.password || '';\n\t    requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n\t  }\n\t\n\t  request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\t\n\t  // Set the request timeout in MS\n\t  request.timeout = config.timeout;\n\t\n\t  // Listen for ready state\n\t  request[loadEvent] = function handleLoad() {\n\t    if (!request || (request.readyState !== 4 && !xDomain)) {\n\t      return;\n\t    }\n\t\n\t    // The request errored out and we didn't get a response, this will be\n\t    // handled by onerror instead\n\t    if (request.status === 0) {\n\t      return;\n\t    }\n\t\n\t    // Prepare the response\n\t    var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n\t    var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n\t    var response = {\n\t      data: transformData(\n\t        responseData,\n\t        responseHeaders,\n\t        config.transformResponse\n\t      ),\n\t      // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n\t      status: request.status === 1223 ? 204 : request.status,\n\t      statusText: request.status === 1223 ? 'No Content' : request.statusText,\n\t      headers: responseHeaders,\n\t      config: config,\n\t      request: request\n\t    };\n\t\n\t    settle(resolve, reject, response);\n\t\n\t    // Clean up request\n\t    request = null;\n\t  };\n\t\n\t  // Handle low level network errors\n\t  request.onerror = function handleError() {\n\t    // Real errors are hidden from us by the browser\n\t    // onerror should only fire if it's a network error\n\t    reject(new Error('Network Error'));\n\t\n\t    // Clean up request\n\t    request = null;\n\t  };\n\t\n\t  // Handle timeout\n\t  request.ontimeout = function handleTimeout() {\n\t    var err = new Error('timeout of ' + config.timeout + 'ms exceeded');\n\t    err.timeout = config.timeout;\n\t    err.code = 'ECONNABORTED';\n\t    reject(err);\n\t\n\t    // Clean up request\n\t    request = null;\n\t  };\n\t\n\t  // Add xsrf header\n\t  // This is only done if running in a standard browser environment.\n\t  // Specifically not if we're in a web worker, or react-native.\n\t  if (utils.isStandardBrowserEnv()) {\n\t    var cookies = __webpack_require__(14);\n\t\n\t    // Add xsrf header\n\t    var xsrfValue = config.withCredentials || isURLSameOrigin(config.url) ?\n\t        cookies.read(config.xsrfCookieName) :\n\t        undefined;\n\t\n\t    if (xsrfValue) {\n\t      requestHeaders[config.xsrfHeaderName] = xsrfValue;\n\t    }\n\t  }\n\t\n\t  // Add headers to the request\n\t  if ('setRequestHeader' in request) {\n\t    utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n\t      if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n\t        // Remove Content-Type if data is undefined\n\t        delete requestHeaders[key];\n\t      } else {\n\t        // Otherwise add header to the request\n\t        request.setRequestHeader(key, val);\n\t      }\n\t    });\n\t  }\n\t\n\t  // Add withCredentials to request if needed\n\t  if (config.withCredentials) {\n\t    request.withCredentials = true;\n\t  }\n\t\n\t  // Add responseType to request if needed\n\t  if (config.responseType) {\n\t    try {\n\t      request.responseType = config.responseType;\n\t    } catch (e) {\n\t      if (request.responseType !== 'json') {\n\t        throw e;\n\t      }\n\t    }\n\t  }\n\t\n\t  // Handle progress if needed\n\t  if (config.progress) {\n\t    if (config.method === 'post' || config.method === 'put') {\n\t      request.upload.addEventListener('progress', config.progress);\n\t    } else if (config.method === 'get') {\n\t      request.addEventListener('progress', config.progress);\n\t    }\n\t  }\n\t\n\t  if (requestData === undefined) {\n\t    requestData = null;\n\t  }\n\t\n\t  // Send the request\n\t  request.send(requestData);\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\t/**\n\t * Transform the data for a request or a response\n\t *\n\t * @param {Object|String} data The data to be transformed\n\t * @param {Array} headers The headers for the request or response\n\t * @param {Array|Function} fns A single function or Array of functions\n\t * @returns {*} The resulting transformed data\n\t */\n\tmodule.exports = function transformData(data, headers, fns) {\n\t  /*eslint no-param-reassign:0*/\n\t  utils.forEach(fns, function transform(fn) {\n\t    data = fn(data, headers);\n\t  });\n\t\n\t  return data;\n\t};\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(6);\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar defaults = __webpack_require__(9);\n\tvar utils = __webpack_require__(1);\n\tvar dispatchRequest = __webpack_require__(8);\n\tvar InterceptorManager = __webpack_require__(7);\n\tvar isAbsoluteURL = __webpack_require__(15);\n\tvar combineURLs = __webpack_require__(13);\n\tvar bind = __webpack_require__(10);\n\tvar transformData = __webpack_require__(4);\n\t\n\tfunction Axios(defaultConfig) {\n\t  this.defaults = utils.merge({}, defaultConfig);\n\t  this.interceptors = {\n\t    request: new InterceptorManager(),\n\t    response: new InterceptorManager()\n\t  };\n\t}\n\t\n\tAxios.prototype.request = function request(config) {\n\t  /*eslint no-param-reassign:0*/\n\t  // Allow for axios('example/url'[, config]) a la fetch API\n\t  if (typeof config === 'string') {\n\t    config = utils.merge({\n\t      url: arguments[0]\n\t    }, arguments[1]);\n\t  }\n\t\n\t  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\t\n\t  // Support baseURL config\n\t  if (config.baseURL && !isAbsoluteURL(config.url)) {\n\t    config.url = combineURLs(config.baseURL, config.url);\n\t  }\n\t\n\t  // Don't allow overriding defaults.withCredentials\n\t  config.withCredentials = config.withCredentials || this.defaults.withCredentials;\n\t\n\t  // Transform request data\n\t  config.data = transformData(\n\t    config.data,\n\t    config.headers,\n\t    config.transformRequest\n\t  );\n\t\n\t  // Flatten headers\n\t  config.headers = utils.merge(\n\t    config.headers.common || {},\n\t    config.headers[config.method] || {},\n\t    config.headers || {}\n\t  );\n\t\n\t  utils.forEach(\n\t    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n\t    function cleanHeaderConfig(method) {\n\t      delete config.headers[method];\n\t    }\n\t  );\n\t\n\t  // Hook up interceptors middleware\n\t  var chain = [dispatchRequest, undefined];\n\t  var promise = Promise.resolve(config);\n\t\n\t  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n\t    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n\t  });\n\t\n\t  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n\t    chain.push(interceptor.fulfilled, interceptor.rejected);\n\t  });\n\t\n\t  while (chain.length) {\n\t    promise = promise.then(chain.shift(), chain.shift());\n\t  }\n\t\n\t  return promise;\n\t};\n\t\n\tvar defaultInstance = new Axios(defaults);\n\tvar axios = module.exports = bind(Axios.prototype.request, defaultInstance);\n\taxios.request = bind(Axios.prototype.request, defaultInstance);\n\t\n\t// Expose Axios class to allow class inheritance\n\taxios.Axios = Axios;\n\t\n\t// Expose properties from defaultInstance\n\taxios.defaults = defaultInstance.defaults;\n\taxios.interceptors = defaultInstance.interceptors;\n\t\n\t// Factory for creating new instances\n\taxios.create = function create(defaultConfig) {\n\t  return new Axios(defaultConfig);\n\t};\n\t\n\t// Expose all/spread\n\taxios.all = function all(promises) {\n\t  return Promise.all(promises);\n\t};\n\taxios.spread = __webpack_require__(20);\n\t\n\t// Provide aliases for supported request methods\n\tutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n\t  /*eslint func-names:0*/\n\t  Axios.prototype[method] = function(url, config) {\n\t    return this.request(utils.merge(config || {}, {\n\t      method: method,\n\t      url: url\n\t    }));\n\t  };\n\t  axios[method] = bind(Axios.prototype[method], defaultInstance);\n\t});\n\t\n\tutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n\t  /*eslint func-names:0*/\n\t  Axios.prototype[method] = function(url, data, config) {\n\t    return this.request(utils.merge(config || {}, {\n\t      method: method,\n\t      url: url,\n\t      data: data\n\t    }));\n\t  };\n\t  axios[method] = bind(Axios.prototype[method], defaultInstance);\n\t});\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tfunction InterceptorManager() {\n\t  this.handlers = [];\n\t}\n\t\n\t/**\n\t * Add a new interceptor to the stack\n\t *\n\t * @param {Function} fulfilled The function to handle `then` for a `Promise`\n\t * @param {Function} rejected The function to handle `reject` for a `Promise`\n\t *\n\t * @return {Number} An ID used to remove interceptor later\n\t */\n\tInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n\t  this.handlers.push({\n\t    fulfilled: fulfilled,\n\t    rejected: rejected\n\t  });\n\t  return this.handlers.length - 1;\n\t};\n\t\n\t/**\n\t * Remove an interceptor from the stack\n\t *\n\t * @param {Number} id The ID that was returned by `use`\n\t */\n\tInterceptorManager.prototype.eject = function eject(id) {\n\t  if (this.handlers[id]) {\n\t    this.handlers[id] = null;\n\t  }\n\t};\n\t\n\t/**\n\t * Iterate over all the registered interceptors\n\t *\n\t * This method is particularly useful for skipping over any\n\t * interceptors that may have become `null` calling `eject`.\n\t *\n\t * @param {Function} fn The function to call for each interceptor\n\t */\n\tInterceptorManager.prototype.forEach = function forEach(fn) {\n\t  utils.forEach(this.handlers, function forEachHandler(h) {\n\t    if (h !== null) {\n\t      fn(h);\n\t    }\n\t  });\n\t};\n\t\n\tmodule.exports = InterceptorManager;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\t/**\n\t * Dispatch a request to the server using whichever adapter\n\t * is supported by the current environment.\n\t *\n\t * @param {object} config The config that is to be used for the request\n\t * @returns {Promise} The Promise to be fulfilled\n\t */\n\tmodule.exports = function dispatchRequest(config) {\n\t  return new Promise(function executor(resolve, reject) {\n\t    try {\n\t      var adapter;\n\t\n\t      if (typeof config.adapter === 'function') {\n\t        // For custom adapter support\n\t        adapter = config.adapter;\n\t      } else if (typeof XMLHttpRequest !== 'undefined') {\n\t        // For browsers use XHR adapter\n\t        adapter = __webpack_require__(3);\n\t      } else if (typeof process !== 'undefined') {\n\t        // For node use HTTP adapter\n\t        adapter = __webpack_require__(3);\n\t      }\n\t\n\t      if (typeof adapter === 'function') {\n\t        adapter(resolve, reject, config);\n\t      }\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\tvar normalizeHeaderName = __webpack_require__(17);\n\t\n\tvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\n\tvar DEFAULT_CONTENT_TYPE = {\n\t  'Content-Type': 'application/x-www-form-urlencoded'\n\t};\n\t\n\tfunction setContentTypeIfUnset(headers, value) {\n\t  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n\t    headers['Content-Type'] = value;\n\t  }\n\t}\n\t\n\tmodule.exports = {\n\t  transformRequest: [function transformRequest(data, headers) {\n\t    normalizeHeaderName(headers, 'Content-Type');\n\t    if (utils.isFormData(data) ||\n\t      utils.isArrayBuffer(data) ||\n\t      utils.isStream(data) ||\n\t      utils.isFile(data) ||\n\t      utils.isBlob(data)\n\t    ) {\n\t      return data;\n\t    }\n\t    if (utils.isArrayBufferView(data)) {\n\t      return data.buffer;\n\t    }\n\t    if (utils.isURLSearchParams(data)) {\n\t      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n\t      return data.toString();\n\t    }\n\t    if (utils.isObject(data)) {\n\t      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n\t      return JSON.stringify(data);\n\t    }\n\t    return data;\n\t  }],\n\t\n\t  transformResponse: [function transformResponse(data) {\n\t    /*eslint no-param-reassign:0*/\n\t    if (typeof data === 'string') {\n\t      data = data.replace(PROTECTION_PREFIX, '');\n\t      try {\n\t        data = JSON.parse(data);\n\t      } catch (e) { /* Ignore */ }\n\t    }\n\t    return data;\n\t  }],\n\t\n\t  headers: {\n\t    common: {\n\t      'Accept': 'application/json, text/plain, */*'\n\t    },\n\t    patch: utils.merge(DEFAULT_CONTENT_TYPE),\n\t    post: utils.merge(DEFAULT_CONTENT_TYPE),\n\t    put: utils.merge(DEFAULT_CONTENT_TYPE)\n\t  },\n\t\n\t  timeout: 0,\n\t\n\t  xsrfCookieName: 'XSRF-TOKEN',\n\t  xsrfHeaderName: 'X-XSRF-TOKEN',\n\t\n\t  maxContentLength: -1,\n\t\n\t  validateStatus: function validateStatus(status) {\n\t    return status >= 200 && status < 300;\n\t  }\n\t};\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function bind(fn, thisArg) {\n\t  return function wrap() {\n\t    var args = new Array(arguments.length);\n\t    for (var i = 0; i < args.length; i++) {\n\t      args[i] = arguments[i];\n\t    }\n\t    return fn.apply(thisArg, args);\n\t  };\n\t};\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\t\n\tvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\t\n\tfunction E() {\n\t  this.message = 'String contains an invalid character';\n\t}\n\tE.prototype = new Error;\n\tE.prototype.code = 5;\n\tE.prototype.name = 'InvalidCharacterError';\n\t\n\tfunction btoa(input) {\n\t  var str = String(input);\n\t  var output = '';\n\t  for (\n\t    // initialize result and counter\n\t    var block, charCode, idx = 0, map = chars;\n\t    // if the next str index does not exist:\n\t    //   change the mapping table to \"=\"\n\t    //   check if d has no fractional digits\n\t    str.charAt(idx | 0) || (map = '=', idx % 1);\n\t    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n\t    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n\t  ) {\n\t    charCode = str.charCodeAt(idx += 3 / 4);\n\t    if (charCode > 0xFF) {\n\t      throw new E();\n\t    }\n\t    block = block << 8 | charCode;\n\t  }\n\t  return output;\n\t}\n\t\n\tmodule.exports = btoa;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tfunction encode(val) {\n\t  return encodeURIComponent(val).\n\t    replace(/%40/gi, '@').\n\t    replace(/%3A/gi, ':').\n\t    replace(/%24/g, '$').\n\t    replace(/%2C/gi, ',').\n\t    replace(/%20/g, '+').\n\t    replace(/%5B/gi, '[').\n\t    replace(/%5D/gi, ']');\n\t}\n\t\n\t/**\n\t * Build a URL by appending params to the end\n\t *\n\t * @param {string} url The base of the url (e.g., http://www.google.com)\n\t * @param {object} [params] The params to be appended\n\t * @returns {string} The formatted url\n\t */\n\tmodule.exports = function buildURL(url, params, paramsSerializer) {\n\t  /*eslint no-param-reassign:0*/\n\t  if (!params) {\n\t    return url;\n\t  }\n\t\n\t  var serializedParams;\n\t  if (paramsSerializer) {\n\t    serializedParams = paramsSerializer(params);\n\t  } else if (utils.isURLSearchParams(params)) {\n\t    serializedParams = params.toString();\n\t  } else {\n\t    var parts = [];\n\t\n\t    utils.forEach(params, function serialize(val, key) {\n\t      if (val === null || typeof val === 'undefined') {\n\t        return;\n\t      }\n\t\n\t      if (utils.isArray(val)) {\n\t        key = key + '[]';\n\t      }\n\t\n\t      if (!utils.isArray(val)) {\n\t        val = [val];\n\t      }\n\t\n\t      utils.forEach(val, function parseValue(v) {\n\t        if (utils.isDate(v)) {\n\t          v = v.toISOString();\n\t        } else if (utils.isObject(v)) {\n\t          v = JSON.stringify(v);\n\t        }\n\t        parts.push(encode(key) + '=' + encode(v));\n\t      });\n\t    });\n\t\n\t    serializedParams = parts.join('&');\n\t  }\n\t\n\t  if (serializedParams) {\n\t    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n\t  }\n\t\n\t  return url;\n\t};\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Creates a new URL by combining the specified URLs\n\t *\n\t * @param {string} baseURL The base URL\n\t * @param {string} relativeURL The relative URL\n\t * @returns {string} The combined URL\n\t */\n\tmodule.exports = function combineURLs(baseURL, relativeURL) {\n\t  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n\t};\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tmodule.exports = (\n\t  utils.isStandardBrowserEnv() ?\n\t\n\t  // Standard browser envs support document.cookie\n\t  (function standardBrowserEnv() {\n\t    return {\n\t      write: function write(name, value, expires, path, domain, secure) {\n\t        var cookie = [];\n\t        cookie.push(name + '=' + encodeURIComponent(value));\n\t\n\t        if (utils.isNumber(expires)) {\n\t          cookie.push('expires=' + new Date(expires).toGMTString());\n\t        }\n\t\n\t        if (utils.isString(path)) {\n\t          cookie.push('path=' + path);\n\t        }\n\t\n\t        if (utils.isString(domain)) {\n\t          cookie.push('domain=' + domain);\n\t        }\n\t\n\t        if (secure === true) {\n\t          cookie.push('secure');\n\t        }\n\t\n\t        document.cookie = cookie.join('; ');\n\t      },\n\t\n\t      read: function read(name) {\n\t        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n\t        return (match ? decodeURIComponent(match[3]) : null);\n\t      },\n\t\n\t      remove: function remove(name) {\n\t        this.write(name, '', Date.now() - 86400000);\n\t      }\n\t    };\n\t  })() :\n\t\n\t  // Non standard browser env (web workers, react-native) lack needed support.\n\t  (function nonStandardBrowserEnv() {\n\t    return {\n\t      write: function write() {},\n\t      read: function read() { return null; },\n\t      remove: function remove() {}\n\t    };\n\t  })()\n\t);\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Determines whether the specified URL is absolute\n\t *\n\t * @param {string} url The URL to test\n\t * @returns {boolean} True if the specified URL is absolute, otherwise false\n\t */\n\tmodule.exports = function isAbsoluteURL(url) {\n\t  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n\t  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n\t  // by any combination of letters, digits, plus, period, or hyphen.\n\t  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n\t};\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tmodule.exports = (\n\t  utils.isStandardBrowserEnv() ?\n\t\n\t  // Standard browser envs have full support of the APIs needed to test\n\t  // whether the request URL is of the same origin as current location.\n\t  (function standardBrowserEnv() {\n\t    var msie = /(msie|trident)/i.test(navigator.userAgent);\n\t    var urlParsingNode = document.createElement('a');\n\t    var originURL;\n\t\n\t    /**\n\t    * Parse a URL to discover it's components\n\t    *\n\t    * @param {String} url The URL to be parsed\n\t    * @returns {Object}\n\t    */\n\t    function resolveURL(url) {\n\t      var href = url;\n\t\n\t      if (msie) {\n\t        // IE needs attribute set twice to normalize properties\n\t        urlParsingNode.setAttribute('href', href);\n\t        href = urlParsingNode.href;\n\t      }\n\t\n\t      urlParsingNode.setAttribute('href', href);\n\t\n\t      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n\t      return {\n\t        href: urlParsingNode.href,\n\t        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n\t        host: urlParsingNode.host,\n\t        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n\t        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n\t        hostname: urlParsingNode.hostname,\n\t        port: urlParsingNode.port,\n\t        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n\t                  urlParsingNode.pathname :\n\t                  '/' + urlParsingNode.pathname\n\t      };\n\t    }\n\t\n\t    originURL = resolveURL(window.location.href);\n\t\n\t    /**\n\t    * Determine if a URL shares the same origin as the current location\n\t    *\n\t    * @param {String} requestURL The URL to test\n\t    * @returns {boolean} True if URL shares the same origin, otherwise false\n\t    */\n\t    return function isURLSameOrigin(requestURL) {\n\t      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n\t      return (parsed.protocol === originURL.protocol &&\n\t            parsed.host === originURL.host);\n\t    };\n\t  })() :\n\t\n\t  // Non standard browser envs (web workers, react-native) lack needed support.\n\t  (function nonStandardBrowserEnv() {\n\t    return function isURLSameOrigin() {\n\t      return true;\n\t    };\n\t  })()\n\t);\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n\t  utils.forEach(headers, function processHeader(value, name) {\n\t    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n\t      headers[normalizedName] = value;\n\t      delete headers[name];\n\t    }\n\t  });\n\t};\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\t/**\n\t * Parse headers into an object\n\t *\n\t * ```\n\t * Date: Wed, 27 Aug 2014 08:58:49 GMT\n\t * Content-Type: application/json\n\t * Connection: keep-alive\n\t * Transfer-Encoding: chunked\n\t * ```\n\t *\n\t * @param {String} headers Headers needing to be parsed\n\t * @returns {Object} Headers parsed into an object\n\t */\n\tmodule.exports = function parseHeaders(headers) {\n\t  var parsed = {};\n\t  var key;\n\t  var val;\n\t  var i;\n\t\n\t  if (!headers) { return parsed; }\n\t\n\t  utils.forEach(headers.split('\\n'), function parser(line) {\n\t    i = line.indexOf(':');\n\t    key = utils.trim(line.substr(0, i)).toLowerCase();\n\t    val = utils.trim(line.substr(i + 1));\n\t\n\t    if (key) {\n\t      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n\t    }\n\t  });\n\t\n\t  return parsed;\n\t};\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Resolve or reject a Promise based on response status.\n\t *\n\t * @param {Function} resolve A function that resolves the promise.\n\t * @param {Function} reject A function that rejects the promise.\n\t * @param {object} response The response.\n\t */\n\tmodule.exports = function settle(resolve, reject, response) {\n\t  var validateStatus = response.config.validateStatus;\n\t  // Note: status is not exposed by XDomainRequest\n\t  if (!response.status || !validateStatus || validateStatus(response.status)) {\n\t    resolve(response);\n\t  } else {\n\t    reject(response);\n\t  }\n\t};\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Syntactic sugar for invoking a function and expanding an array for arguments.\n\t *\n\t * Common use case would be to use `Function.prototype.apply`.\n\t *\n\t *  ```js\n\t *  function f(x, y, z) {}\n\t *  var args = [1, 2, 3];\n\t *  f.apply(null, args);\n\t *  ```\n\t *\n\t * With `spread` this example can be re-written.\n\t *\n\t *  ```js\n\t *  spread(function(x, y, z) {})([1, 2, 3]);\n\t *  ```\n\t *\n\t * @param {Function} callback\n\t * @returns {Function}\n\t */\n\tmodule.exports = function spread(callback) {\n\t  return function wrap(arr) {\n\t    return callback.apply(null, arr);\n\t  };\n\t};\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar require;var __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(process, global, module) {/*!\n\t * @overview es6-promise - a tiny implementation of Promises/A+.\n\t * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n\t * @license   Licensed under MIT license\n\t *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n\t * @version   3.2.1\n\t */\n\t\n\t(function() {\n\t    \"use strict\";\n\t    function lib$es6$promise$utils$$objectOrFunction(x) {\n\t      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n\t    }\n\t\n\t    function lib$es6$promise$utils$$isFunction(x) {\n\t      return typeof x === 'function';\n\t    }\n\t\n\t    function lib$es6$promise$utils$$isMaybeThenable(x) {\n\t      return typeof x === 'object' && x !== null;\n\t    }\n\t\n\t    var lib$es6$promise$utils$$_isArray;\n\t    if (!Array.isArray) {\n\t      lib$es6$promise$utils$$_isArray = function (x) {\n\t        return Object.prototype.toString.call(x) === '[object Array]';\n\t      };\n\t    } else {\n\t      lib$es6$promise$utils$$_isArray = Array.isArray;\n\t    }\n\t\n\t    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n\t    var lib$es6$promise$asap$$len = 0;\n\t    var lib$es6$promise$asap$$vertxNext;\n\t    var lib$es6$promise$asap$$customSchedulerFn;\n\t\n\t    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n\t      lib$es6$promise$asap$$len += 2;\n\t      if (lib$es6$promise$asap$$len === 2) {\n\t        // If len is 2, that means that we need to schedule an async flush.\n\t        // If additional callbacks are queued before the queue is flushed, they\n\t        // will be processed by this flush that we are scheduling.\n\t        if (lib$es6$promise$asap$$customSchedulerFn) {\n\t          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n\t        } else {\n\t          lib$es6$promise$asap$$scheduleFlush();\n\t        }\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n\t      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n\t    }\n\t\n\t    function lib$es6$promise$asap$$setAsap(asapFn) {\n\t      lib$es6$promise$asap$$asap = asapFn;\n\t    }\n\t\n\t    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n\t    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n\t    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n\t    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\t\n\t    // test for web worker but not in IE10\n\t    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n\t      typeof importScripts !== 'undefined' &&\n\t      typeof MessageChannel !== 'undefined';\n\t\n\t    // node\n\t    function lib$es6$promise$asap$$useNextTick() {\n\t      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n\t      // see https://github.com/cujojs/when/issues/410 for details\n\t      return function() {\n\t        process.nextTick(lib$es6$promise$asap$$flush);\n\t      };\n\t    }\n\t\n\t    // vertx\n\t    function lib$es6$promise$asap$$useVertxTimer() {\n\t      return function() {\n\t        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n\t      };\n\t    }\n\t\n\t    function lib$es6$promise$asap$$useMutationObserver() {\n\t      var iterations = 0;\n\t      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n\t      var node = document.createTextNode('');\n\t      observer.observe(node, { characterData: true });\n\t\n\t      return function() {\n\t        node.data = (iterations = ++iterations % 2);\n\t      };\n\t    }\n\t\n\t    // web worker\n\t    function lib$es6$promise$asap$$useMessageChannel() {\n\t      var channel = new MessageChannel();\n\t      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n\t      return function () {\n\t        channel.port2.postMessage(0);\n\t      };\n\t    }\n\t\n\t    function lib$es6$promise$asap$$useSetTimeout() {\n\t      return function() {\n\t        setTimeout(lib$es6$promise$asap$$flush, 1);\n\t      };\n\t    }\n\t\n\t    var lib$es6$promise$asap$$queue = new Array(1000);\n\t    function lib$es6$promise$asap$$flush() {\n\t      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n\t        var callback = lib$es6$promise$asap$$queue[i];\n\t        var arg = lib$es6$promise$asap$$queue[i+1];\n\t\n\t        callback(arg);\n\t\n\t        lib$es6$promise$asap$$queue[i] = undefined;\n\t        lib$es6$promise$asap$$queue[i+1] = undefined;\n\t      }\n\t\n\t      lib$es6$promise$asap$$len = 0;\n\t    }\n\t\n\t    function lib$es6$promise$asap$$attemptVertx() {\n\t      try {\n\t        var r = require;\n\t        var vertx = __webpack_require__(27);\n\t        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n\t        return lib$es6$promise$asap$$useVertxTimer();\n\t      } catch(e) {\n\t        return lib$es6$promise$asap$$useSetTimeout();\n\t      }\n\t    }\n\t\n\t    var lib$es6$promise$asap$$scheduleFlush;\n\t    // Decide what async method to use to triggering processing of queued callbacks:\n\t    if (lib$es6$promise$asap$$isNode) {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n\t    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n\t    } else if (lib$es6$promise$asap$$isWorker) {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n\t    } else if (lib$es6$promise$asap$$browserWindow === undefined && \"function\" === 'function') {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n\t    } else {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n\t    }\n\t    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n\t      var parent = this;\n\t\n\t      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\t\n\t      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n\t        lib$es6$promise$$internal$$makePromise(child);\n\t      }\n\t\n\t      var state = parent._state;\n\t\n\t      if (state) {\n\t        var callback = arguments[state - 1];\n\t        lib$es6$promise$asap$$asap(function(){\n\t          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n\t        });\n\t      } else {\n\t        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n\t      }\n\t\n\t      return child;\n\t    }\n\t    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n\t    function lib$es6$promise$promise$resolve$$resolve(object) {\n\t      /*jshint validthis:true */\n\t      var Constructor = this;\n\t\n\t      if (object && typeof object === 'object' && object.constructor === Constructor) {\n\t        return object;\n\t      }\n\t\n\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t      lib$es6$promise$$internal$$resolve(promise, object);\n\t      return promise;\n\t    }\n\t    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n\t    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\t\n\t    function lib$es6$promise$$internal$$noop() {}\n\t\n\t    var lib$es6$promise$$internal$$PENDING   = void 0;\n\t    var lib$es6$promise$$internal$$FULFILLED = 1;\n\t    var lib$es6$promise$$internal$$REJECTED  = 2;\n\t\n\t    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\n\t    function lib$es6$promise$$internal$$selfFulfillment() {\n\t      return new TypeError(\"You cannot resolve a promise with itself\");\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$cannotReturnOwn() {\n\t      return new TypeError('A promises callback cannot return that same promise.');\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$getThen(promise) {\n\t      try {\n\t        return promise.then;\n\t      } catch(error) {\n\t        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n\t        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n\t      try {\n\t        then.call(value, fulfillmentHandler, rejectionHandler);\n\t      } catch(e) {\n\t        return e;\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n\t       lib$es6$promise$asap$$asap(function(promise) {\n\t        var sealed = false;\n\t        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n\t          if (sealed) { return; }\n\t          sealed = true;\n\t          if (thenable !== value) {\n\t            lib$es6$promise$$internal$$resolve(promise, value);\n\t          } else {\n\t            lib$es6$promise$$internal$$fulfill(promise, value);\n\t          }\n\t        }, function(reason) {\n\t          if (sealed) { return; }\n\t          sealed = true;\n\t\n\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\t\n\t        if (!sealed && error) {\n\t          sealed = true;\n\t          lib$es6$promise$$internal$$reject(promise, error);\n\t        }\n\t      }, promise);\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n\t      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n\t        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n\t      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n\t        lib$es6$promise$$internal$$reject(promise, thenable._result);\n\t      } else {\n\t        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t        }, function(reason) {\n\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t        });\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n\t      if (maybeThenable.constructor === promise.constructor &&\n\t          then === lib$es6$promise$then$$default &&\n\t          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n\t        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n\t      } else {\n\t        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n\t        } else if (then === undefined) {\n\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t        } else if (lib$es6$promise$utils$$isFunction(then)) {\n\t          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n\t        } else {\n\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t        }\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$resolve(promise, value) {\n\t      if (promise === value) {\n\t        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n\t      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n\t        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n\t      } else {\n\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$publishRejection(promise) {\n\t      if (promise._onerror) {\n\t        promise._onerror(promise._result);\n\t      }\n\t\n\t      lib$es6$promise$$internal$$publish(promise);\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$fulfill(promise, value) {\n\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t\n\t      promise._result = value;\n\t      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\t\n\t      if (promise._subscribers.length !== 0) {\n\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$reject(promise, reason) {\n\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t      promise._state = lib$es6$promise$$internal$$REJECTED;\n\t      promise._result = reason;\n\t\n\t      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n\t      var subscribers = parent._subscribers;\n\t      var length = subscribers.length;\n\t\n\t      parent._onerror = null;\n\t\n\t      subscribers[length] = child;\n\t      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n\t      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\t\n\t      if (length === 0 && parent._state) {\n\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$publish(promise) {\n\t      var subscribers = promise._subscribers;\n\t      var settled = promise._state;\n\t\n\t      if (subscribers.length === 0) { return; }\n\t\n\t      var child, callback, detail = promise._result;\n\t\n\t      for (var i = 0; i < subscribers.length; i += 3) {\n\t        child = subscribers[i];\n\t        callback = subscribers[i + settled];\n\t\n\t        if (child) {\n\t          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n\t        } else {\n\t          callback(detail);\n\t        }\n\t      }\n\t\n\t      promise._subscribers.length = 0;\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$ErrorObject() {\n\t      this.error = null;\n\t    }\n\t\n\t    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\n\t    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n\t      try {\n\t        return callback(detail);\n\t      } catch(e) {\n\t        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n\t        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n\t      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n\t          value, error, succeeded, failed;\n\t\n\t      if (hasCallback) {\n\t        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\t\n\t        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n\t          failed = true;\n\t          error = value.error;\n\t          value = null;\n\t        } else {\n\t          succeeded = true;\n\t        }\n\t\n\t        if (promise === value) {\n\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n\t          return;\n\t        }\n\t\n\t      } else {\n\t        value = detail;\n\t        succeeded = true;\n\t      }\n\t\n\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n\t        // noop\n\t      } else if (hasCallback && succeeded) {\n\t        lib$es6$promise$$internal$$resolve(promise, value);\n\t      } else if (failed) {\n\t        lib$es6$promise$$internal$$reject(promise, error);\n\t      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n\t        lib$es6$promise$$internal$$reject(promise, value);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n\t      try {\n\t        resolver(function resolvePromise(value){\n\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t        }, function rejectPromise(reason) {\n\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t        });\n\t      } catch(e) {\n\t        lib$es6$promise$$internal$$reject(promise, e);\n\t      }\n\t    }\n\t\n\t    var lib$es6$promise$$internal$$id = 0;\n\t    function lib$es6$promise$$internal$$nextId() {\n\t      return lib$es6$promise$$internal$$id++;\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$makePromise(promise) {\n\t      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n\t      promise._state = undefined;\n\t      promise._result = undefined;\n\t      promise._subscribers = [];\n\t    }\n\t\n\t    function lib$es6$promise$promise$all$$all(entries) {\n\t      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n\t    }\n\t    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n\t    function lib$es6$promise$promise$race$$race(entries) {\n\t      /*jshint validthis:true */\n\t      var Constructor = this;\n\t\n\t      if (!lib$es6$promise$utils$$isArray(entries)) {\n\t        return new Constructor(function(resolve, reject) {\n\t          reject(new TypeError('You must pass an array to race.'));\n\t        });\n\t      } else {\n\t        return new Constructor(function(resolve, reject) {\n\t          var length = entries.length;\n\t          for (var i = 0; i < length; i++) {\n\t            Constructor.resolve(entries[i]).then(resolve, reject);\n\t          }\n\t        });\n\t      }\n\t    }\n\t    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n\t    function lib$es6$promise$promise$reject$$reject(reason) {\n\t      /*jshint validthis:true */\n\t      var Constructor = this;\n\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t      lib$es6$promise$$internal$$reject(promise, reason);\n\t      return promise;\n\t    }\n\t    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\t\n\t\n\t    function lib$es6$promise$promise$$needsResolver() {\n\t      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n\t    }\n\t\n\t    function lib$es6$promise$promise$$needsNew() {\n\t      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n\t    }\n\t\n\t    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n\t    /**\n\t      Promise objects represent the eventual result of an asynchronous operation. The\n\t      primary way of interacting with a promise is through its `then` method, which\n\t      registers callbacks to receive either a promise's eventual value or the reason\n\t      why the promise cannot be fulfilled.\n\t\n\t      Terminology\n\t      -----------\n\t\n\t      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n\t      - `thenable` is an object or function that defines a `then` method.\n\t      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n\t      - `exception` is a value that is thrown using the throw statement.\n\t      - `reason` is a value that indicates why a promise was rejected.\n\t      - `settled` the final resting state of a promise, fulfilled or rejected.\n\t\n\t      A promise can be in one of three states: pending, fulfilled, or rejected.\n\t\n\t      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n\t      state.  Promises that are rejected have a rejection reason and are in the\n\t      rejected state.  A fulfillment value is never a thenable.\n\t\n\t      Promises can also be said to *resolve* a value.  If this value is also a\n\t      promise, then the original promise's settled state will match the value's\n\t      settled state.  So a promise that *resolves* a promise that rejects will\n\t      itself reject, and a promise that *resolves* a promise that fulfills will\n\t      itself fulfill.\n\t\n\t\n\t      Basic Usage:\n\t      ------------\n\t\n\t      ```js\n\t      var promise = new Promise(function(resolve, reject) {\n\t        // on success\n\t        resolve(value);\n\t\n\t        // on failure\n\t        reject(reason);\n\t      });\n\t\n\t      promise.then(function(value) {\n\t        // on fulfillment\n\t      }, function(reason) {\n\t        // on rejection\n\t      });\n\t      ```\n\t\n\t      Advanced Usage:\n\t      ---------------\n\t\n\t      Promises shine when abstracting away asynchronous interactions such as\n\t      `XMLHttpRequest`s.\n\t\n\t      ```js\n\t      function getJSON(url) {\n\t        return new Promise(function(resolve, reject){\n\t          var xhr = new XMLHttpRequest();\n\t\n\t          xhr.open('GET', url);\n\t          xhr.onreadystatechange = handler;\n\t          xhr.responseType = 'json';\n\t          xhr.setRequestHeader('Accept', 'application/json');\n\t          xhr.send();\n\t\n\t          function handler() {\n\t            if (this.readyState === this.DONE) {\n\t              if (this.status === 200) {\n\t                resolve(this.response);\n\t              } else {\n\t                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n\t              }\n\t            }\n\t          };\n\t        });\n\t      }\n\t\n\t      getJSON('/posts.json').then(function(json) {\n\t        // on fulfillment\n\t      }, function(reason) {\n\t        // on rejection\n\t      });\n\t      ```\n\t\n\t      Unlike callbacks, promises are great composable primitives.\n\t\n\t      ```js\n\t      Promise.all([\n\t        getJSON('/posts'),\n\t        getJSON('/comments')\n\t      ]).then(function(values){\n\t        values[0] // => postsJSON\n\t        values[1] // => commentsJSON\n\t\n\t        return values;\n\t      });\n\t      ```\n\t\n\t      @class Promise\n\t      @param {function} resolver\n\t      Useful for tooling.\n\t      @constructor\n\t    */\n\t    function lib$es6$promise$promise$$Promise(resolver) {\n\t      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n\t      this._result = this._state = undefined;\n\t      this._subscribers = [];\n\t\n\t      if (lib$es6$promise$$internal$$noop !== resolver) {\n\t        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n\t        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n\t      }\n\t    }\n\t\n\t    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n\t    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n\t    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n\t    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n\t    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n\t    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n\t    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\t\n\t    lib$es6$promise$promise$$Promise.prototype = {\n\t      constructor: lib$es6$promise$promise$$Promise,\n\t\n\t    /**\n\t      The primary way of interacting with a promise is through its `then` method,\n\t      which registers callbacks to receive either a promise's eventual value or the\n\t      reason why the promise cannot be fulfilled.\n\t\n\t      ```js\n\t      findUser().then(function(user){\n\t        // user is available\n\t      }, function(reason){\n\t        // user is unavailable, and you are given the reason why\n\t      });\n\t      ```\n\t\n\t      Chaining\n\t      --------\n\t\n\t      The return value of `then` is itself a promise.  This second, 'downstream'\n\t      promise is resolved with the return value of the first promise's fulfillment\n\t      or rejection handler, or rejected if the handler throws an exception.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        return user.name;\n\t      }, function (reason) {\n\t        return 'default name';\n\t      }).then(function (userName) {\n\t        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n\t        // will be `'default name'`\n\t      });\n\t\n\t      findUser().then(function (user) {\n\t        throw new Error('Found user, but still unhappy');\n\t      }, function (reason) {\n\t        throw new Error('`findUser` rejected and we're unhappy');\n\t      }).then(function (value) {\n\t        // never reached\n\t      }, function (reason) {\n\t        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n\t        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n\t      });\n\t      ```\n\t      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        throw new PedagogicalException('Upstream error');\n\t      }).then(function (value) {\n\t        // never reached\n\t      }).then(function (value) {\n\t        // never reached\n\t      }, function (reason) {\n\t        // The `PedgagocialException` is propagated all the way down to here\n\t      });\n\t      ```\n\t\n\t      Assimilation\n\t      ------------\n\t\n\t      Sometimes the value you want to propagate to a downstream promise can only be\n\t      retrieved asynchronously. This can be achieved by returning a promise in the\n\t      fulfillment or rejection handler. The downstream promise will then be pending\n\t      until the returned promise is settled. This is called *assimilation*.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        return findCommentsByAuthor(user);\n\t      }).then(function (comments) {\n\t        // The user's comments are now available\n\t      });\n\t      ```\n\t\n\t      If the assimliated promise rejects, then the downstream promise will also reject.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        return findCommentsByAuthor(user);\n\t      }).then(function (comments) {\n\t        // If `findCommentsByAuthor` fulfills, we'll have the value here\n\t      }, function (reason) {\n\t        // If `findCommentsByAuthor` rejects, we'll have the reason here\n\t      });\n\t      ```\n\t\n\t      Simple Example\n\t      --------------\n\t\n\t      Synchronous Example\n\t\n\t      ```javascript\n\t      var result;\n\t\n\t      try {\n\t        result = findResult();\n\t        // success\n\t      } catch(reason) {\n\t        // failure\n\t      }\n\t      ```\n\t\n\t      Errback Example\n\t\n\t      ```js\n\t      findResult(function(result, err){\n\t        if (err) {\n\t          // failure\n\t        } else {\n\t          // success\n\t        }\n\t      });\n\t      ```\n\t\n\t      Promise Example;\n\t\n\t      ```javascript\n\t      findResult().then(function(result){\n\t        // success\n\t      }, function(reason){\n\t        // failure\n\t      });\n\t      ```\n\t\n\t      Advanced Example\n\t      --------------\n\t\n\t      Synchronous Example\n\t\n\t      ```javascript\n\t      var author, books;\n\t\n\t      try {\n\t        author = findAuthor();\n\t        books  = findBooksByAuthor(author);\n\t        // success\n\t      } catch(reason) {\n\t        // failure\n\t      }\n\t      ```\n\t\n\t      Errback Example\n\t\n\t      ```js\n\t\n\t      function foundBooks(books) {\n\t\n\t      }\n\t\n\t      function failure(reason) {\n\t\n\t      }\n\t\n\t      findAuthor(function(author, err){\n\t        if (err) {\n\t          failure(err);\n\t          // failure\n\t        } else {\n\t          try {\n\t            findBoooksByAuthor(author, function(books, err) {\n\t              if (err) {\n\t                failure(err);\n\t              } else {\n\t                try {\n\t                  foundBooks(books);\n\t                } catch(reason) {\n\t                  failure(reason);\n\t                }\n\t              }\n\t            });\n\t          } catch(error) {\n\t            failure(err);\n\t          }\n\t          // success\n\t        }\n\t      });\n\t      ```\n\t\n\t      Promise Example;\n\t\n\t      ```javascript\n\t      findAuthor().\n\t        then(findBooksByAuthor).\n\t        then(function(books){\n\t          // found books\n\t      }).catch(function(reason){\n\t        // something went wrong\n\t      });\n\t      ```\n\t\n\t      @method then\n\t      @param {Function} onFulfilled\n\t      @param {Function} onRejected\n\t      Useful for tooling.\n\t      @return {Promise}\n\t    */\n\t      then: lib$es6$promise$then$$default,\n\t\n\t    /**\n\t      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n\t      as the catch block of a try/catch statement.\n\t\n\t      ```js\n\t      function findAuthor(){\n\t        throw new Error('couldn't find that author');\n\t      }\n\t\n\t      // synchronous\n\t      try {\n\t        findAuthor();\n\t      } catch(reason) {\n\t        // something went wrong\n\t      }\n\t\n\t      // async with promises\n\t      findAuthor().catch(function(reason){\n\t        // something went wrong\n\t      });\n\t      ```\n\t\n\t      @method catch\n\t      @param {Function} onRejection\n\t      Useful for tooling.\n\t      @return {Promise}\n\t    */\n\t      'catch': function(onRejection) {\n\t        return this.then(null, onRejection);\n\t      }\n\t    };\n\t    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\t    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n\t      this._instanceConstructor = Constructor;\n\t      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\n\t      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n\t        lib$es6$promise$$internal$$makePromise(this.promise);\n\t      }\n\t\n\t      if (lib$es6$promise$utils$$isArray(input)) {\n\t        this._input     = input;\n\t        this.length     = input.length;\n\t        this._remaining = input.length;\n\t\n\t        this._result = new Array(this.length);\n\t\n\t        if (this.length === 0) {\n\t          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n\t        } else {\n\t          this.length = this.length || 0;\n\t          this._enumerate();\n\t          if (this._remaining === 0) {\n\t            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n\t          }\n\t        }\n\t      } else {\n\t        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$enumerator$$validationError() {\n\t      return new Error('Array Methods must be provided an Array');\n\t    }\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n\t      var length  = this.length;\n\t      var input   = this._input;\n\t\n\t      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n\t        this._eachEntry(input[i], i);\n\t      }\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n\t      var c = this._instanceConstructor;\n\t      var resolve = c.resolve;\n\t\n\t      if (resolve === lib$es6$promise$promise$resolve$$default) {\n\t        var then = lib$es6$promise$$internal$$getThen(entry);\n\t\n\t        if (then === lib$es6$promise$then$$default &&\n\t            entry._state !== lib$es6$promise$$internal$$PENDING) {\n\t          this._settledAt(entry._state, i, entry._result);\n\t        } else if (typeof then !== 'function') {\n\t          this._remaining--;\n\t          this._result[i] = entry;\n\t        } else if (c === lib$es6$promise$promise$$default) {\n\t          var promise = new c(lib$es6$promise$$internal$$noop);\n\t          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n\t          this._willSettleAt(promise, i);\n\t        } else {\n\t          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n\t        }\n\t      } else {\n\t        this._willSettleAt(resolve(entry), i);\n\t      }\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n\t      var promise = this.promise;\n\t\n\t      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n\t        this._remaining--;\n\t\n\t        if (state === lib$es6$promise$$internal$$REJECTED) {\n\t          lib$es6$promise$$internal$$reject(promise, value);\n\t        } else {\n\t          this._result[i] = value;\n\t        }\n\t      }\n\t\n\t      if (this._remaining === 0) {\n\t        lib$es6$promise$$internal$$fulfill(promise, this._result);\n\t      }\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n\t      var enumerator = this;\n\t\n\t      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n\t        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n\t      }, function(reason) {\n\t        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n\t      });\n\t    };\n\t    function lib$es6$promise$polyfill$$polyfill() {\n\t      var local;\n\t\n\t      if (typeof global !== 'undefined') {\n\t          local = global;\n\t      } else if (typeof self !== 'undefined') {\n\t          local = self;\n\t      } else {\n\t          try {\n\t              local = Function('return this')();\n\t          } catch (e) {\n\t              throw new Error('polyfill failed because global object is unavailable in this environment');\n\t          }\n\t      }\n\t\n\t      var P = local.Promise;\n\t\n\t      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n\t        return;\n\t      }\n\t\n\t      local.Promise = lib$es6$promise$promise$$default;\n\t    }\n\t    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\t\n\t    var lib$es6$promise$umd$$ES6Promise = {\n\t      'Promise': lib$es6$promise$promise$$default,\n\t      'polyfill': lib$es6$promise$polyfill$$default\n\t    };\n\t\n\t    /* global define:true module:true window: true */\n\t    if (\"function\" === 'function' && __webpack_require__(25)['amd']) {\n\t      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return lib$es6$promise$umd$$ES6Promise; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof module !== 'undefined' && module['exports']) {\n\t      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n\t    } else if (typeof this !== 'undefined') {\n\t      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n\t    }\n\t\n\t    lib$es6$promise$polyfill$$default();\n\t}).call(this);\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), (function() { return this; }()), __webpack_require__(26)(module)))\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t* (C) Copyright IBM Corp. 2016. All Rights Reserved.\r\n\t*\r\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\r\n\t* use this file except in compliance with the License. You may obtain a copy of\r\n\t* the License at\r\n\t*\r\n\t* http://www.apache.org/licenses/LICENSE-2.0\r\n\t*\r\n\t* Unless required by applicable law or agreed to in writing, software\r\n\t* distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n\t* WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n\t* License for the specific language governing permissions and limitations under\r\n\t* the License.\r\n\t*/\r\n\t\r\n\tif ( typeof Promise === 'undefined' ) __webpack_require__(21).polyfill();\r\n\t\r\n\tvar assign = __webpack_require__(24);\r\n\tvar axios = __webpack_require__(5);\r\n\tvar storage = __webpack_require__(23);\r\n\t\r\n\tvar options = {\r\n\t\tbaseURL: 'https://dev.api.ibm.com/virtualagent/development/api/v1/',\r\n\t\ttimeout: 30 * 1000,\r\n\t\tuserID: null,\r\n\t\twithCredentials: false,\r\n\t\tXIBMClientID: false,\r\n\t\tXIBMClientSecret: false\r\n\t};\r\n\t\r\n\tvar api = axios.create( options );\r\n\t\r\n\tvar profileDataRe = /\\|&(.*?)\\|/g;\r\n\tvar insertUserProfileData = function(msg) {\r\n\t\tvar flatten = (typeof msg === 'string') ? msg : JSON.stringify(msg);\r\n\t\tvar matches = (flatten.match(profileDataRe) || []);\r\n\t\tflatten = matches.reduce(function(result, prof) {\r\n\t\t\tconst name = prof.slice( 2, -1 );\r\n\t\t\tconst value = storage.get(name) || name;\r\n\t\t\treturn result.replace( prof, value );\r\n\t\t}, flatten);\r\n\t\treturn (typeof msg === 'string') ? flatten : JSON.parse(flatten);\r\n\t};\r\n\t\r\n\t/**\r\n\t * @namespace SDK\r\n\t */\r\n\t\r\n\tvar SDK = module.exports = {\r\n\t\t/**\r\n\t\t * Configure the Client SDK\r\n\t\t * @function configure\r\n\t\t * @memberof SDK\r\n\t\t * @param {Object} config\r\n\t\t * @param {string} config.baseURL=https://dev.api.ibm.com/virtualagent/development/api/v1/ - Optional: The URL the SDK should prepend to requests.\r\n\t\t * @param {int} config.timeout=30000 - Optional: How long requests should wait before they error.\r\n\t\t * @param {string} config.userID - Optional: A user identifier, transformed by a one-way hashing algorithm. Used by your Metrics Dashboard to track usage.\r\n\t\t * @param {string} config.userLatLon - Optional: lat,lon or user ( eg. 28.3852,-81.5639 ). Used by your Metrics Dashboard to track usage.\r\n\t\t * @param {string} config.withCredentials - Optional: indicates whether or not cross-site Access-Control requests should be made using credentials\r\n\t\t * @param {string} config.XIBMClientID - Optional: Your X-IBM-Client-Id. This should not be made public in a public environment. Including this will add X-IBM-Client-Id as a header to your request.\r\n\t\t * @param {string} config.XIBMClientSecret - Optional: Your X-IBM-Client-Secret. This should not be made public in a public environment. Including this will add X-IBM-Client-Secret as a header to your request.\r\n\t\t * @example\r\n\t\t * SDK.configure({\r\n\t\t *   baseURL: 'https://server.mysite.com',\r\n\t\t *   userID: 'poiuytrewq',\r\n\t\t *   userLatLon: '28.3852,-81.5639'\r\n\t\t * });\r\n\t\t * @returns {SDK} Returns: The SDK singleton\r\n\t\t */\r\n\t\tconfigure: function( config ) {\r\n\t\t\tassign( options, config );\r\n\t\t\tapi = axios.create({\r\n\t\t\t\tbaseURL: options.baseURL,\r\n\t\t\t\ttimeout: options.timeout,\r\n\t\t\t\twithCredentials: options.withCredentials,\r\n\t\t\t\theaders: (options.XIBMClientID && options.XIBMClientSecret) ? {\r\n\t\t\t\t\t'X-IBM-Client-Id': options.XIBMClientID,\r\n\t\t\t\t\t'X-IBM-Client-Secret': options.XIBMClientSecret\r\n\t\t\t\t} : {}\r\n\t\t\t});\r\n\t\t\treturn SDK;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Start a new chat session\r\n\t\t * @function start\r\n\t\t * @memberof SDK\r\n\t\t * @param {string} botID - Your botID.\r\n\t\t * @example\r\n\t\t * SDK.start(botID)\r\n\t\t *    .then(function(res) {\r\n\t\t *      console.log(res.chatID, res.message);\r\n\t\t *    })\r\n\t\t *    .catch(function(err) {\r\n\t\t *      console.error(err);\r\n\t\t *    });\r\n\t\t * @returns {Promise({ chatID: \"string\", message: \"string\" })} Returns: A Promise that resolves when the chat session is started.\r\n\t\t */\r\n\t\tstart: function( botID ) {\r\n\t\t\tvar requestID = uuid();\r\n\t\t\tvar data = { userID: options.userID, userLatLon: options.userLatLon };\r\n\t\t\tvar endpoint = '/bots/'+ botID +'/dialogs';\r\n\t\t\tvar config = { 'headers': { 'X-Request-ID': requestID } };\r\n\t\t\treturn api\r\n\t\t\t\t.post( endpoint, data, config )\r\n\t\t\t\t.then( function( res ) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchatID: res.data.dialog_id,\r\n\t\t\t\t\t\tmessage: insertUserProfileData(res.data.message)\r\n\t\t\t\t\t};\r\n\t\t\t\t})['catch']( function( err ) {\r\n\t\t\t\t\tconsole.error('Request failed:', requestID );\r\n\t\t\t\t\tonError( err );\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * Send a message to a chat session\r\n\t\t * @function send\r\n\t\t * @memberof SDK\r\n\t\t * @param {string} botID - Your botID\r\n\t\t * @param {string} chatID - Your chatID provided by SDK.start\r\n\t\t * @param {string} message - Your message\r\n\t\t * @param {Object} context - (optional) Context variables to pass to your [Custom Workspaces](https://www.ibm.com/watson/developercloud/doc/conversation/dialog-build.html#context-variables)\r\n\t\t * @example\r\n\t\t * SDK.send(botID, chatID, 'Hello!')\r\n\t\t *    .then(function(data) {\r\n\t\t *      console.log(data.message);\r\n\t\t *    })\r\n\t\t *    .catch(function(err) {\r\n\t\t *      console.error(err);\r\n\t\t *    });\r\n\t\t * @returns {Promise({ message: \"string\" })} Returns: A Promise that resolves when the bot responds.\r\n\t\t */\r\n\t\tsend: function( botID, chatID, message, context ) {\r\n\t\t\tvar requestID = uuid();\r\n\t\t\tvar data = { message: message, userID: options.userID, userLatLon: options.userLatLon, context: context };\r\n\t\t\tvar endpoint = '/bots/'+ botID +'/dialogs/'+ chatID +'/messages';\r\n\t\t\tvar config = { 'headers': { 'X-Request-ID': requestID } };\r\n\t\t\treturn api\r\n\t\t\t\t.post( endpoint, data, config )\r\n\t\t\t\t.then( function( res ) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tmessage: insertUserProfileData(res.data.message)\r\n\t\t\t\t\t};\r\n\t\t\t\t})['catch']( function( err ) {\r\n\t\t\t\t\tconsole.error('Request failed:', requestID );\r\n\t\t\t\t\tonError( err );\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t* Iterate profile data into a given message object.\r\n\t\t* @memberof SDK\r\n\t\t* @function parse\r\n\t\t* @param {Any} message - A string or message object to insert profile data into.\r\n\t\t* @returns {Any} Returns: The message in original format with variables replaced.\r\n\t\t* @example\r\n\t\t* var message = \"You owe |&bill_amount|.\";\r\n\t\t* var parsed = SDK.parse(message);\r\n\t\t*/\r\n\t\tparse: insertUserProfileData,\r\n\t\t/**\r\n\t\t * @namespace profile\r\n\t\t * @memberof SDK\r\n\t\t */\r\n\t\tprofile: {\r\n\t\t\t/**\r\n\t\t\t* Get an item from the user profile based on key.\r\n\t\t\t* @memberof SDK.profile\r\n\t\t\t* @function get\r\n\t\t\t* @param {string} key - The named key of the value you are accessing.\r\n\t\t\t* @example\r\n\t\t\t* SDK.profile.get('first_name');\r\n\t\t\t* @returns {Any} Returns: the value of the key in the profile map.\r\n\t\t\t*/\r\n\t\t\tget: storage.get,\r\n\t\t\t/**\r\n\t\t\t* Set an item from the user profile based on key.\r\n\t\t\t* @memberof SDK.profile\r\n\t\t\t* @function set\r\n\t\t\t* @param {string} key - The named key of the value you are setting.\r\n\t\t\t* @param {string} value - The value you are setting.\r\n\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\r\n\t\t\t* @example\r\n\t\t\t* SDK.profile.set('first_name', 'john');\r\n\t\t\t*/\r\n\t\t\tset: storage.set,\r\n\t\t\t/**\r\n\t\t\t* See if an item from the user profile exists based on key.\r\n\t\t\t* @memberof SDK.profile\r\n\t\t\t* @function has\r\n\t\t\t* @param {string} key - The named key of the value you are checking the existance of.\r\n\t\t\t* @example\r\n\t\t\t* SDK.profile.has('first_name');\r\n\t\t\t* @returns {Boolean} Returns: Boolean indicating if the key exists.\r\n\t\t\t*/\r\n\t\t\thas: storage.has,\r\n\t\t\t/**\r\n\t\t\t* Clear the entire user profile.\r\n\t\t\t* @memberof SDK.profile\r\n\t\t\t* @function clear\r\n\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\r\n\t\t\t* @example\r\n\t\t\t* SDK.profile.clear();\r\n\t\t\t*/\r\n\t\t\tclear: storage.clear,\r\n\t\t\t/**\r\n\t\t\t* Delete an item from the user profile based on key.\r\n\t\t\t* @memberof SDK.profile\r\n\t\t\t* @function delete\r\n\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\r\n\t\t\t* @param {string} key - The named key of the value you are deleting.\r\n\t\t\t* @example\r\n\t\t\t* SDK.profile.delete('first_name');\r\n\t\t\t*/\r\n\t\t\tdelete: storage.delete,\r\n\t\t\t/**\r\n\t\t\t* Iterate over the profile.\r\n\t\t\t* @memberof SDK.profile\r\n\t\t\t* @function forEach\r\n\t\t\t* @param {function} callback - The function you are calling on each item in the profile object. This function is passed key as the first argument and value as the second argument.\r\n\t\t\t* @param {Object} this - (optional) The context you wish to call the callback in.\r\n\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\r\n\t\t\t* @example\r\n\t\t\t* SDK.profile.forEach(function(key, value) {\r\n\t\t\t*   console.log(key, value);\r\n\t\t\t* });\r\n\t\t\t*/\r\n\t\t\tforEach: storage.forEach\r\n\t\t}\r\n\t};\r\n\t\r\n\tvar uuid = function( ) {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n\t\t\tvar r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n\t\t\treturn v.toString(16);\r\n\t\t});\r\n\t};\r\n\t\r\n\tvar onError = function( err ) {\r\n\t\tif ( !err.status )\r\n\t\t\tthrow err;\r\n\t\tvar status = err.status;\r\n\t\tvar statusText = err.statusText;\r\n\t\tvar error = new Error( statusText );\r\n\t\terror.status = status;\r\n\t\tthrow error;\r\n\t};\r\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t/**\r\n\t* (C) Copyright IBM Corp. 2016. All Rights Reserved.\r\n\t*\r\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\r\n\t* use this file except in compliance with the License. You may obtain a copy of\r\n\t* the License at\r\n\t*\r\n\t* http://www.apache.org/licenses/LICENSE-2.0\r\n\t*\r\n\t* Unless required by applicable law or agreed to in writing, software\r\n\t* distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n\t* WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n\t* License for the specific language governing permissions and limitations under\r\n\t* the License.\r\n\t*/\r\n\t\r\n\tvar profile = {};\r\n\tvar storage = {\r\n\t\tset: function(key, value) {\r\n\t\t\tprofile[key] = value;\r\n\t\t\treturn storage;\r\n\t\t},\r\n\t\tget: function(key) {\r\n\t\t\treturn profile[key] || '';\r\n\t\t},\r\n\t\thas: function(key) {\r\n\t\t\treturn (profile[key] !== undefined);\r\n\t\t},\r\n\t\tclear: function() {\r\n\t\t\tprofile = {};\r\n\t\t\treturn storage;\r\n\t\t},\r\n\t\tdelete: function(key) {\r\n\t\t\tdelete profile[key];\r\n\t\t\treturn storage;\r\n\t\t},\r\n\t\tforEach: function(cb, context) {\r\n\t\t\tObject.keys(profile).forEach(function(key) {\r\n\t\t\t\tif (context)\r\n\t\t\t\t\tcb(key, profile[key]).bind(context);\r\n\t\t\t\telse\r\n\t\t\t\t\tcb(key, profile[key]);\r\n\t\t\t});\r\n\t\t\treturn storage;\r\n\t\t}\r\n\t};\r\n\t\r\n\tmodule.exports = storage;\r\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t/**\n\t * lodash (Custom Build) <https://lodash.com/>\n\t * Build: `lodash modularize exports=\"npm\" -o ./`\n\t * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n\t * Released under MIT license <https://lodash.com/license>\n\t * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n\t * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t */\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]',\n\t    funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]',\n\t    stringTag = '[object String]';\n\t\n\t/** Used to detect unsigned integer values. */\n\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\t\n\t/**\n\t * A faster alternative to `Function#apply`, this function invokes `func`\n\t * with the `this` binding of `thisArg` and the arguments of `args`.\n\t *\n\t * @private\n\t * @param {Function} func The function to invoke.\n\t * @param {*} thisArg The `this` binding of `func`.\n\t * @param {Array} args The arguments to invoke `func` with.\n\t * @returns {*} Returns the result of `func`.\n\t */\n\tfunction apply(func, thisArg, args) {\n\t  switch (args.length) {\n\t    case 0: return func.call(thisArg);\n\t    case 1: return func.call(thisArg, args[0]);\n\t    case 2: return func.call(thisArg, args[0], args[1]);\n\t    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n\t  }\n\t  return func.apply(thisArg, args);\n\t}\n\t\n\t/**\n\t * The base implementation of `_.property` without support for deep paths.\n\t *\n\t * @private\n\t * @param {string} key The key of the property to get.\n\t * @returns {Function} Returns the new accessor function.\n\t */\n\tfunction baseProperty(key) {\n\t  return function(object) {\n\t    return object == null ? undefined : object[key];\n\t  };\n\t}\n\t\n\t/**\n\t * The base implementation of `_.times` without support for iteratee shorthands\n\t * or max array length checks.\n\t *\n\t * @private\n\t * @param {number} n The number of times to invoke `iteratee`.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Array} Returns the array of results.\n\t */\n\tfunction baseTimes(n, iteratee) {\n\t  var index = -1,\n\t      result = Array(n);\n\t\n\t  while (++index < n) {\n\t    result[index] = iteratee(index);\n\t  }\n\t  return result;\n\t}\n\t\n\t/**\n\t * Creates a function that invokes `func` with its first argument transformed.\n\t *\n\t * @private\n\t * @param {Function} func The function to wrap.\n\t * @param {Function} transform The argument transform.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction overArg(func, transform) {\n\t  return function(arg) {\n\t    return func(transform(arg));\n\t  };\n\t}\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Used to resolve the\n\t * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objectToString = objectProto.toString;\n\t\n\t/** Built-in value references. */\n\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeGetPrototype = Object.getPrototypeOf,\n\t    nativeKeys = Object.keys,\n\t    nativeMax = Math.max;\n\t\n\t/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\n\tvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\t\n\t/**\n\t * Assigns `value` to `key` of `object` if the existing value is not equivalent\n\t * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t * for equality comparisons.\n\t *\n\t * @private\n\t * @param {Object} object The object to modify.\n\t * @param {string} key The key of the property to assign.\n\t * @param {*} value The value to assign.\n\t */\n\tfunction assignValue(object, key, value) {\n\t  var objValue = object[key];\n\t  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n\t      (value === undefined && !(key in object))) {\n\t    object[key] = value;\n\t  }\n\t}\n\t\n\t/**\n\t * The base implementation of `_.has` without support for deep paths.\n\t *\n\t * @private\n\t * @param {Object} [object] The object to query.\n\t * @param {Array|string} key The key to check.\n\t * @returns {boolean} Returns `true` if `key` exists, else `false`.\n\t */\n\tfunction baseHas(object, key) {\n\t  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n\t  // that are composed entirely of index properties, return `false` for\n\t  // `hasOwnProperty` checks of them.\n\t  return object != null &&\n\t    (hasOwnProperty.call(object, key) ||\n\t      (typeof object == 'object' && key in object && getPrototype(object) === null));\n\t}\n\t\n\t/**\n\t * The base implementation of `_.keys` which doesn't skip the constructor\n\t * property of prototypes or treat sparse arrays as dense.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tvar baseKeys = overArg(nativeKeys, Object);\n\t\n\t/**\n\t * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n\t *\n\t * @private\n\t * @param {Function} func The function to apply a rest parameter to.\n\t * @param {number} [start=func.length-1] The start position of the rest parameter.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction baseRest(func, start) {\n\t  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n\t  return function() {\n\t    var args = arguments,\n\t        index = -1,\n\t        length = nativeMax(args.length - start, 0),\n\t        array = Array(length);\n\t\n\t    while (++index < length) {\n\t      array[index] = args[start + index];\n\t    }\n\t    index = -1;\n\t    var otherArgs = Array(start + 1);\n\t    while (++index < start) {\n\t      otherArgs[index] = args[index];\n\t    }\n\t    otherArgs[start] = array;\n\t    return apply(func, this, otherArgs);\n\t  };\n\t}\n\t\n\t/**\n\t * Copies properties of `source` to `object`.\n\t *\n\t * @private\n\t * @param {Object} source The object to copy properties from.\n\t * @param {Array} props The property identifiers to copy.\n\t * @param {Object} [object={}] The object to copy properties to.\n\t * @param {Function} [customizer] The function to customize copied values.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction copyObject(source, props, object, customizer) {\n\t  object || (object = {});\n\t\n\t  var index = -1,\n\t      length = props.length;\n\t\n\t  while (++index < length) {\n\t    var key = props[index];\n\t\n\t    var newValue = customizer\n\t      ? customizer(object[key], source[key], key, object, source)\n\t      : undefined;\n\t\n\t    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n\t  }\n\t  return object;\n\t}\n\t\n\t/**\n\t * Creates a function like `_.assign`.\n\t *\n\t * @private\n\t * @param {Function} assigner The function to assign values.\n\t * @returns {Function} Returns the new assigner function.\n\t */\n\tfunction createAssigner(assigner) {\n\t  return baseRest(function(object, sources) {\n\t    var index = -1,\n\t        length = sources.length,\n\t        customizer = length > 1 ? sources[length - 1] : undefined,\n\t        guard = length > 2 ? sources[2] : undefined;\n\t\n\t    customizer = (assigner.length > 3 && typeof customizer == 'function')\n\t      ? (length--, customizer)\n\t      : undefined;\n\t\n\t    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t      customizer = length < 3 ? undefined : customizer;\n\t      length = 1;\n\t    }\n\t    object = Object(object);\n\t    while (++index < length) {\n\t      var source = sources[index];\n\t      if (source) {\n\t        assigner(object, source, index, customizer);\n\t      }\n\t    }\n\t    return object;\n\t  });\n\t}\n\t\n\t/**\n\t * Gets the \"length\" property value of `object`.\n\t *\n\t * **Note:** This function is used to avoid a\n\t * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects\n\t * Safari on at least iOS 8.1-8.3 ARM64.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {*} Returns the \"length\" value.\n\t */\n\tvar getLength = baseProperty('length');\n\t\n\t/**\n\t * Gets the `[[Prototype]]` of `value`.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @returns {null|Object} Returns the `[[Prototype]]`.\n\t */\n\tvar getPrototype = overArg(nativeGetPrototype, Object);\n\t\n\t/**\n\t * Creates an array of index keys for `object` values of arrays,\n\t * `arguments` objects, and strings, otherwise `null` is returned.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array|null} Returns index keys, else `null`.\n\t */\n\tfunction indexKeys(object) {\n\t  var length = object ? object.length : undefined;\n\t  if (isLength(length) &&\n\t      (isArray(object) || isString(object) || isArguments(object))) {\n\t    return baseTimes(length, String);\n\t  }\n\t  return null;\n\t}\n\t\n\t/**\n\t * Checks if `value` is a valid array-like index.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n\t * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n\t */\n\tfunction isIndex(value, length) {\n\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t  return !!length &&\n\t    (typeof value == 'number' || reIsUint.test(value)) &&\n\t    (value > -1 && value % 1 == 0 && value < length);\n\t}\n\t\n\t/**\n\t * Checks if the given arguments are from an iteratee call.\n\t *\n\t * @private\n\t * @param {*} value The potential iteratee value argument.\n\t * @param {*} index The potential iteratee index or key argument.\n\t * @param {*} object The potential iteratee object argument.\n\t * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n\t *  else `false`.\n\t */\n\tfunction isIterateeCall(value, index, object) {\n\t  if (!isObject(object)) {\n\t    return false;\n\t  }\n\t  var type = typeof index;\n\t  if (type == 'number'\n\t        ? (isArrayLike(object) && isIndex(index, object.length))\n\t        : (type == 'string' && index in object)\n\t      ) {\n\t    return eq(object[index], value);\n\t  }\n\t  return false;\n\t}\n\t\n\t/**\n\t * Checks if `value` is likely a prototype object.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n\t */\n\tfunction isPrototype(value) {\n\t  var Ctor = value && value.constructor,\n\t      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\t\n\t  return value === proto;\n\t}\n\t\n\t/**\n\t * Performs a\n\t * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t * comparison between two values to determine if they are equivalent.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to compare.\n\t * @param {*} other The other value to compare.\n\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t * @example\n\t *\n\t * var object = { 'a': 1 };\n\t * var other = { 'a': 1 };\n\t *\n\t * _.eq(object, object);\n\t * // => true\n\t *\n\t * _.eq(object, other);\n\t * // => false\n\t *\n\t * _.eq('a', 'a');\n\t * // => true\n\t *\n\t * _.eq('a', Object('a'));\n\t * // => false\n\t *\n\t * _.eq(NaN, NaN);\n\t * // => true\n\t */\n\tfunction eq(value, other) {\n\t  return value === other || (value !== value && other !== other);\n\t}\n\t\n\t/**\n\t * Checks if `value` is likely an `arguments` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isArguments(function() { return arguments; }());\n\t * // => true\n\t *\n\t * _.isArguments([1, 2, 3]);\n\t * // => false\n\t */\n\tfunction isArguments(value) {\n\t  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n\t  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n\t    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as an `Array` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n\t * @example\n\t *\n\t * _.isArray([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArray(document.body.children);\n\t * // => false\n\t *\n\t * _.isArray('abc');\n\t * // => false\n\t *\n\t * _.isArray(_.noop);\n\t * // => false\n\t */\n\tvar isArray = Array.isArray;\n\t\n\t/**\n\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t * not a function and has a `value.length` that's an integer greater than or\n\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t * @example\n\t *\n\t * _.isArrayLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLike(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLike('abc');\n\t * // => true\n\t *\n\t * _.isArrayLike(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLike(value) {\n\t  return value != null && isLength(getLength(value)) && !isFunction(value);\n\t}\n\t\n\t/**\n\t * This method is like `_.isArrayLike` except that it also checks if `value`\n\t * is an object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an array-like object,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isArrayLikeObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject('abc');\n\t * // => false\n\t *\n\t * _.isArrayLikeObject(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLikeObject(value) {\n\t  return isObjectLike(value) && isArrayLike(value);\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n\t  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\t\n\t/**\n\t * Checks if `value` is a valid array-like length.\n\t *\n\t * **Note:** This function is loosely based on\n\t * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a valid length,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isLength(3);\n\t * // => true\n\t *\n\t * _.isLength(Number.MIN_VALUE);\n\t * // => false\n\t *\n\t * _.isLength(Infinity);\n\t * // => false\n\t *\n\t * _.isLength('3');\n\t * // => false\n\t */\n\tfunction isLength(value) {\n\t  return typeof value == 'number' &&\n\t    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\t\n\t/**\n\t * Checks if `value` is the\n\t * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n\t * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t * @example\n\t *\n\t * _.isObject({});\n\t * // => true\n\t *\n\t * _.isObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObject(_.noop);\n\t * // => true\n\t *\n\t * _.isObject(null);\n\t * // => false\n\t */\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\t\n\t/**\n\t * Checks if `value` is object-like. A value is object-like if it's not `null`\n\t * and has a `typeof` result of \"object\".\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n\t * @example\n\t *\n\t * _.isObjectLike({});\n\t * // => true\n\t *\n\t * _.isObjectLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObjectLike(_.noop);\n\t * // => false\n\t *\n\t * _.isObjectLike(null);\n\t * // => false\n\t */\n\tfunction isObjectLike(value) {\n\t  return !!value && typeof value == 'object';\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as a `String` primitive or object.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n\t * @example\n\t *\n\t * _.isString('abc');\n\t * // => true\n\t *\n\t * _.isString(1);\n\t * // => false\n\t */\n\tfunction isString(value) {\n\t  return typeof value == 'string' ||\n\t    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n\t}\n\t\n\t/**\n\t * Assigns own enumerable string keyed properties of source objects to the\n\t * destination object. Source objects are applied from left to right.\n\t * Subsequent sources overwrite property assignments of previous sources.\n\t *\n\t * **Note:** This method mutates `object` and is loosely based on\n\t * [`Object.assign`](https://mdn.io/Object/assign).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.10.0\n\t * @category Object\n\t * @param {Object} object The destination object.\n\t * @param {...Object} [sources] The source objects.\n\t * @returns {Object} Returns `object`.\n\t * @see _.assignIn\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t * }\n\t *\n\t * function Bar() {\n\t *   this.c = 3;\n\t * }\n\t *\n\t * Foo.prototype.b = 2;\n\t * Bar.prototype.d = 4;\n\t *\n\t * _.assign({ 'a': 0 }, new Foo, new Bar);\n\t * // => { 'a': 1, 'c': 3 }\n\t */\n\tvar assign = createAssigner(function(object, source) {\n\t  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n\t    copyObject(source, keys(source), object);\n\t    return;\n\t  }\n\t  for (var key in source) {\n\t    if (hasOwnProperty.call(source, key)) {\n\t      assignValue(object, key, source[key]);\n\t    }\n\t  }\n\t});\n\t\n\t/**\n\t * Creates an array of the own enumerable property names of `object`.\n\t *\n\t * **Note:** Non-object values are coerced to objects. See the\n\t * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n\t * for more details.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.keys(new Foo);\n\t * // => ['a', 'b'] (iteration order is not guaranteed)\n\t *\n\t * _.keys('hi');\n\t * // => ['0', '1']\n\t */\n\tfunction keys(object) {\n\t  var isProto = isPrototype(object);\n\t  if (!(isProto || isArrayLike(object))) {\n\t    return baseKeys(object);\n\t  }\n\t  var indexes = indexKeys(object),\n\t      skipIndexes = !!indexes,\n\t      result = indexes || [],\n\t      length = result.length;\n\t\n\t  for (var key in object) {\n\t    if (baseHas(object, key) &&\n\t        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n\t        !(isProto && key == 'constructor')) {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = assign;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBlYWM3NzRlZDYyMjc0OWUzZGZiOCIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYnRvYS5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9zZGsuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2guYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vL3ZlcnR4IChpZ25vcmVkKSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztBQ1ZBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDdENBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsT0FBTztBQUNsQixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBVyxPQUFPO0FBQ2xCLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLE9BQU87QUFDbEIsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDZCQUE0QixVQUFVOzs7Ozs7O0FDbkx0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMEM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUE4QixzQkFBc0I7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXFCLCtCQUErQjtBQUNwRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULFFBQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLFFBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQSxVQUFTO0FBQ1Qsd0JBQXVCLFFBQVE7QUFDL0I7O0FBRUE7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG1FQUFrRSxRQUFROztBQUUxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUVBQWtFLFFBQVE7QUFDMUU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNDQUFxQyxRQUFROztBQUU3Qzs7QUFFQSxzQkFBcUIsd0JBQXdCO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBLFVBQVM7QUFDVCxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsUUFBTztBQUNQO0FBQ0E7QUFDQSwwQkFBeUIsWUFBWTtBQUNyQztBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFPOztBQUVQO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQSxlQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQU87O0FBRVA7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWU7QUFDZjtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixZQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBLGVBQWMsU0FBUztBQUN2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QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0EsaUJBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxPQUFPO0FBQ2xCLFlBQVcsVUFBVTtBQUNyQixjQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWEsU0FBUztBQUN0QixXQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsT0FBTztBQUNsQixjQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7OztBQ3RzQkEsOEJBQTZCLG1EQUFtRDs7Ozs7OztBQ0FoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1RBLGdCIiwiZmlsZSI6IndlYi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiU0RLXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlNES1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJTREtcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiBcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb25cbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIGVhYzc3NGVkNjIyNzQ5ZTNkZmI4XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKmdsb2JhbCB0b1N0cmluZzp0cnVlKi9cblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0ZpbGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZpbGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Jsb2IodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHZhbCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcztcbn1cblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpLnJlcGxhY2UoL1xccyokLywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IC0+IHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgIWlzQXJyYXkob2JqKSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICB0cmltOiB0cmltXG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL3V0aWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL3BhcnNlSGVhZGVycycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9pc1VSTFNhbWVPcmlnaW4nKTtcbnZhciBidG9hID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5idG9hKSB8fCByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnRvYScpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvc2V0dGxlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihyZXNvbHZlLCByZWplY3QsIGNvbmZpZykge1xuICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cbiAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpKSB7XG4gICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICB9XG5cbiAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgdmFyIGxvYWRFdmVudCA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xuICB2YXIgeERvbWFpbiA9IGZhbHNlO1xuXG4gIC8vIEZvciBJRSA4LzkgQ09SUyBzdXBwb3J0XG4gIC8vIE9ubHkgc3VwcG9ydHMgUE9TVCBhbmQgR0VUIGNhbGxzIGFuZCBkb2Vzbid0IHJldHVybnMgdGhlIHJlc3BvbnNlIGhlYWRlcnMuXG4gIC8vIERPTidUIGRvIHRoaXMgZm9yIHRlc3RpbmcgYi9jIFhNTEh0dHBSZXF1ZXN0IGlzIG1vY2tlZCwgbm90IFhEb21haW5SZXF1ZXN0LlxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0JyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiByZXF1ZXN0KSAmJiAhaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSB7XG4gICAgcmVxdWVzdCA9IG5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QoKTtcbiAgICBsb2FkRXZlbnQgPSAnb25sb2FkJztcbiAgICB4RG9tYWluID0gdHJ1ZTtcbiAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBoYW5kbGVQcm9ncmVzcygpIHt9O1xuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHt9O1xuICB9XG5cbiAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcbiAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICB9XG5cbiAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gIHJlcXVlc3RbbG9hZEV2ZW50XSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgaWYgKCFyZXF1ZXN0IHx8IChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQgJiYgIXhEb21haW4pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICB2YXIgcmVzcG9uc2VEYXRhID0gIWNvbmZpZy5yZXNwb25zZVR5cGUgfHwgY29uZmlnLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8gcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgIGRhdGE6IHRyYW5zZm9ybURhdGEoXG4gICAgICAgIHJlc3BvbnNlRGF0YSxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICksXG4gICAgICAvLyBJRSBzZW5kcyAxMjIzIGluc3RlYWQgb2YgMjA0IChodHRwczovL2dpdGh1Yi5jb20vbXphYnJpc2tpZS9heGlvcy9pc3N1ZXMvMjAxKVxuICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICB9O1xuXG4gICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgIHJlcXVlc3QgPSBudWxsO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgcmVqZWN0KG5ldyBFcnJvcignTmV0d29yayBFcnJvcicpKTtcblxuICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICByZXF1ZXN0ID0gbnVsbDtcbiAgfTtcblxuICAvLyBIYW5kbGUgdGltZW91dFxuICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnKTtcbiAgICBlcnIudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuICAgIGVyci5jb2RlID0gJ0VDT05OQUJPUlRFRCc7XG4gICAgcmVqZWN0KGVycik7XG5cbiAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgcmVxdWVzdCA9IG51bGw7XG4gIH07XG5cbiAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIHZhciB4c3JmVmFsdWUgPSBjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSA/XG4gICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgdW5kZWZpbmVkO1xuXG4gICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBhZGQgaGVhZGVyIHRvIHRoZSByZXF1ZXN0XG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gIGlmIChjb25maWcud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICB9XG5cbiAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuICAgIHRyeSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKHJlcXVlc3QucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gIGlmIChjb25maWcucHJvZ3Jlc3MpIHtcbiAgICBpZiAoY29uZmlnLm1ldGhvZCA9PT0gJ3Bvc3QnIHx8IGNvbmZpZy5tZXRob2QgPT09ICdwdXQnKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5wcm9ncmVzcyk7XG4gICAgfSBlbHNlIGlmIChjb25maWcubWV0aG9kID09PSAnZ2V0Jykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5wcm9ncmVzcyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gIH1cblxuICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGRhdGEgVGhlIGRhdGEgdG8gYmUgdHJhbnNmb3JtZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgVGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3RyYW5zZm9ybURhdGEuanNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBkaXNwYXRjaFJlcXVlc3QgPSByZXF1aXJlKCcuL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0Jyk7XG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyID0gcmVxdWlyZSgnLi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vaGVscGVycy90cmFuc2Zvcm1EYXRhJyk7XG5cbmZ1bmN0aW9uIEF4aW9zKGRlZmF1bHRDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IHV0aWxzLm1lcmdlKHt9LCBkZWZhdWx0Q29uZmlnKTtcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSB1dGlscy5tZXJnZSh7XG4gICAgICB1cmw6IGFyZ3VtZW50c1swXVxuICAgIH0sIGFyZ3VtZW50c1sxXSk7XG4gIH1cblxuICBjb25maWcgPSB1dGlscy5tZXJnZShkZWZhdWx0cywgdGhpcy5kZWZhdWx0cywgeyBtZXRob2Q6ICdnZXQnIH0sIGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRG9uJ3QgYWxsb3cgb3ZlcnJpZGluZyBkZWZhdWx0cy53aXRoQ3JlZGVudGlhbHNcbiAgY29uZmlnLndpdGhDcmVkZW50aWFscyA9IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgdGhpcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHM7XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG52YXIgZGVmYXVsdEluc3RhbmNlID0gbmV3IEF4aW9zKGRlZmF1bHRzKTtcbnZhciBheGlvcyA9IG1vZHVsZS5leHBvcnRzID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgZGVmYXVsdEluc3RhbmNlKTtcbmF4aW9zLnJlcXVlc3QgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBkZWZhdWx0SW5zdGFuY2UpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEV4cG9zZSBwcm9wZXJ0aWVzIGZyb20gZGVmYXVsdEluc3RhbmNlXG5heGlvcy5kZWZhdWx0cyA9IGRlZmF1bHRJbnN0YW5jZS5kZWZhdWx0cztcbmF4aW9zLmludGVyY2VwdG9ycyA9IGRlZmF1bHRJbnN0YW5jZS5pbnRlcmNlcHRvcnM7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShkZWZhdWx0Q29uZmlnKSB7XG4gIHJldHVybiBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG59O1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsXG4gICAgfSkpO1xuICB9O1xuICBheGlvc1ttZXRob2RdID0gYmluZChBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSwgZGVmYXVsdEluc3RhbmNlKTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xuICBheGlvc1ttZXRob2RdID0gYmluZChBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSwgZGVmYXVsdEluc3RhbmNlKTtcbn0pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2F4aW9zLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qc1xuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB3aGljaGV2ZXIgYWRhcHRlclxuICogaXMgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGVudmlyb25tZW50LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBhZGFwdGVyO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZy5hZGFwdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIEZvciBjdXN0b20gYWRhcHRlciBzdXBwb3J0XG4gICAgICAgIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlcjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuLi9hZGFwdGVycy94aHInKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICAgICAgYWRhcHRlciA9IHJlcXVpcmUoJy4uL2FkYXB0ZXJzL2h0dHAnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhZGFwdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFkYXB0ZXIocmVzb2x2ZSwgcmVqZWN0LCBjb25maWcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBQUk9URUNUSU9OX1BSRUZJWCA9IC9eXFwpXFxdXFx9Jyw/XFxuLztcbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoUFJPVEVDVElPTl9QUkVGSVgsICcnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgaGVhZGVyczoge1xuICAgIGNvbW1vbjoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gICAgfSxcbiAgICBwYXRjaDogdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpLFxuICAgIHBvc3Q6IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKSxcbiAgICBwdXQ6IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKVxuICB9LFxuXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvZGVmYXVsdHMuanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLy8gYnRvYSBwb2x5ZmlsbCBmb3IgSUU8MTAgY291cnRlc3kgaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkY2hhbWJlcnMvQmFzZTY0LmpzXG5cbnZhciBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbmZ1bmN0aW9uIEUoKSB7XG4gIHRoaXMubWVzc2FnZSA9ICdTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXInO1xufVxuRS5wcm90b3R5cGUgPSBuZXcgRXJyb3I7XG5FLnByb3RvdHlwZS5jb2RlID0gNTtcbkUucHJvdG90eXBlLm5hbWUgPSAnSW52YWxpZENoYXJhY3RlckVycm9yJztcblxuZnVuY3Rpb24gYnRvYShpbnB1dCkge1xuICB2YXIgc3RyID0gU3RyaW5nKGlucHV0KTtcbiAgdmFyIG91dHB1dCA9ICcnO1xuICBmb3IgKFxuICAgIC8vIGluaXRpYWxpemUgcmVzdWx0IGFuZCBjb3VudGVyXG4gICAgdmFyIGJsb2NrLCBjaGFyQ29kZSwgaWR4ID0gMCwgbWFwID0gY2hhcnM7XG4gICAgLy8gaWYgdGhlIG5leHQgc3RyIGluZGV4IGRvZXMgbm90IGV4aXN0OlxuICAgIC8vICAgY2hhbmdlIHRoZSBtYXBwaW5nIHRhYmxlIHRvIFwiPVwiXG4gICAgLy8gICBjaGVjayBpZiBkIGhhcyBubyBmcmFjdGlvbmFsIGRpZ2l0c1xuICAgIHN0ci5jaGFyQXQoaWR4IHwgMCkgfHwgKG1hcCA9ICc9JywgaWR4ICUgMSk7XG4gICAgLy8gXCI4IC0gaWR4ICUgMSAqIDhcIiBnZW5lcmF0ZXMgdGhlIHNlcXVlbmNlIDIsIDQsIDYsIDhcbiAgICBvdXRwdXQgKz0gbWFwLmNoYXJBdCg2MyAmIGJsb2NrID4+IDggLSBpZHggJSAxICogOClcbiAgKSB7XG4gICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpZHggKz0gMyAvIDQpO1xuICAgIGlmIChjaGFyQ29kZSA+IDB4RkYpIHtcbiAgICAgIHRocm93IG5ldyBFKCk7XG4gICAgfVxuICAgIGJsb2NrID0gYmxvY2sgPDwgOCB8IGNoYXJDb2RlO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnRvYTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2J0b2EuanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH1cblxuICAgICAgaWYgKCF1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qc1xuICoqIG1vZHVsZSBpZCA9IDEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9KSgpXG4pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgIH1cblxuICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKVxuKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qc1xuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICAvLyBOb3RlOiBzdGF0dXMgaXMgbm90IGV4cG9zZWQgYnkgWERvbWFpblJlcXVlc3RcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QocmVzcG9uc2UpO1xuICB9XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvc2V0dGxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qc1xuICoqIG1vZHVsZSBpZCA9IDIwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKiFcbiAqIEBvdmVydmlldyBlczYtcHJvbWlzZSAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vamFrZWFyY2hpYmFsZC9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICAzLjIuMVxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJG9iamVjdE9yRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nIHx8ICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzTWF5YmVUaGVuYWJsZSh4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkgPSBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID0gMDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbl0gPSBjYWxsYmFjaztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICsgMV0gPSBhcmc7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuICs9IDI7XG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9PT0gMikge1xuICAgICAgICAvLyBJZiBsZW4gaXMgMiwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbihsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldEFzYXAoYXNhcEZuKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcCA9IGFzYXBGbjtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpID8gd2luZG93IDogdW5kZWZpbmVkO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93IHx8IHt9O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc05vZGUgPSB0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHt9LnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJztcblxuICAgIC8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc1dvcmtlciA9IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuICAgIC8vIG5vZGVcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2soKSB7XG4gICAgICAvLyBub2RlIHZlcnNpb24gMC4xMC54IGRpc3BsYXlzIGEgZGVwcmVjYXRpb24gd2FybmluZyB3aGVuIG5leHRUaWNrIGlzIHVzZWQgcmVjdXJzaXZlbHlcbiAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHZlcnR4XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVZlcnR4VGltZXIoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgbGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIG5vZGUuZGF0YSA9IChpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHdlYiB3b3JrZXJcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2g7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0VGltZW91dChsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gsIDEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbjsgaSs9Mikge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaV07XG4gICAgICAgIHZhciBhcmcgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaSsxXTtcblxuICAgICAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2krMV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydHgoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgciA9IHJlcXVpcmU7XG4gICAgICAgIHZhciB2ZXJ0eCA9IHIoJ3ZlcnR4Jyk7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVZlcnR4VGltZXIoKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2g7XG4gICAgLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbiAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGlzTm9kZSkge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTmV4dFRpY2soKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlcigpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXR0ZW1wdFZlcnR4KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHRoZW4kJHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcblxuICAgICAgaWYgKGNoaWxkW2xpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbWFrZVByb21pc2UoY2hpbGQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW3N0YXRlIC0gMV07XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc3RhdGUsIGNoaWxkLCBjYWxsYmFjaywgcGFyZW50Ll9yZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR0aGVuJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHRoZW4kJHRoZW47XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkcmVzb2x2ZShvYmplY3QpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gICAgICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDE2KTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3AoKSB7fVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgICA9IHZvaWQgMDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEID0gMTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQgID0gMjtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUiA9IG5ldyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc2VsZkZ1bGZpbGxtZW50KCkge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGNhbm5vdFJldHVybk93bigpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbihwcm9taXNlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuO1xuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUi5lcnJvciA9IGVycm9yO1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAoZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeVRoZW4odGhlbiwgdGhlbmFibGUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHNlYWxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgIGlmIChzZWFsZWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcblxuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9LCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSkge1xuICAgICAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHRoZW5hYmxlLCB1bmRlZmluZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pIHtcbiAgICAgIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgdGhlbiA9PT0gbGliJGVzNiRwcm9taXNlJHRoZW4kJGRlZmF1bHQgJiZcbiAgICAgICAgICBjb25zdHJ1Y3Rvci5yZXNvbHZlID09PSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0KSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoZW4gPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SLmVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzZWxmRnVsZmlsbG1lbnQoKSk7XG4gICAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbih2YWx1ZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgICAgICBwcm9taXNlLl9vbmVycm9yKHByb21pc2UuX3Jlc3VsdCk7XG4gICAgICB9XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gocHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7IHJldHVybjsgfVxuXG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSB2YWx1ZTtcbiAgICAgIHByb21pc2UuX3N0YXRlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEO1xuXG4gICAgICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gsIHByb21pc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQ7XG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSByZWFzb247XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVycztcbiAgICAgIHZhciBsZW5ndGggPSBzdWJzY3JpYmVycy5sZW5ndGg7XG5cbiAgICAgIHBhcmVudC5fb25lcnJvciA9IG51bGw7XG5cbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRF0gPSBvbkZ1bGZpbGxtZW50O1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURURdICA9IG9uUmVqZWN0aW9uO1xuXG4gICAgICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaCwgcGFyZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoKHByb21pc2UpIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICAgICAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTtcblxuICAgICAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgICAgdmFyIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsID0gcHJvbWlzZS5fcmVzdWx0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgICAgIGNhbGxiYWNrID0gc3Vic2NyaWJlcnNbaSArIHNldHRsZWRdO1xuXG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgZGV0YWlsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKSB7XG4gICAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SID0gbmV3IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCk7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZGV0YWlsKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IuZXJyb3IgPSBlO1xuICAgICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHZhciBoYXNDYWxsYmFjayA9IGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICAgICAgdmFsdWUsIGVycm9yLCBzdWNjZWVkZWQsIGZhaWxlZDtcblxuICAgICAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgICAgIHZhbHVlID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgIGVycm9yID0gdmFsdWUuZXJyb3I7XG4gICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkY2Fubm90UmV0dXJuT3duKCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGRldGFpbDtcbiAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgIC8vIG5vb3BcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXNvbHZlcihmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSl7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaWQgPSAwO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5leHRJZCgpIHtcbiAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpZCsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG1ha2VQcm9taXNlKHByb21pc2UpIHtcbiAgICAgIHByb21pc2VbbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRF0gPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpZCsrO1xuICAgICAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICBwcm9taXNlLl9yZXN1bHQgPSB1bmRlZmluZWQ7XG4gICAgICBwcm9taXNlLl9zdWJzY3JpYmVycyA9IFtdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsKGVudHJpZXMpIHtcbiAgICAgIHJldHVybiBuZXcgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJGRlZmF1bHQodGhpcywgZW50cmllcykucHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkYWxsO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2UoZW50cmllcykge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAgIGlmICghbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgQ29uc3RydWN0b3IucmVzb2x2ZShlbnRyaWVzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRyYWNlO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0KHJlYXNvbikge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJHJlamVjdDtcblxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzTmV3KCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZTtcbiAgICAvKipcbiAgICAgIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgICAgIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsIHdoaWNoXG4gICAgICByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZSByZWFzb25cbiAgICAgIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gICAgICBUZXJtaW5vbG9neVxuICAgICAgLS0tLS0tLS0tLS1cblxuICAgICAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgICAgIC0gYHRoZW5hYmxlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gdGhhdCBkZWZpbmVzIGEgYHRoZW5gIG1ldGhvZC5cbiAgICAgIC0gYHZhbHVlYCBpcyBhbnkgbGVnYWwgSmF2YVNjcmlwdCB2YWx1ZSAoaW5jbHVkaW5nIHVuZGVmaW5lZCwgYSB0aGVuYWJsZSwgb3IgYSBwcm9taXNlKS5cbiAgICAgIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAgICAgLSBgcmVhc29uYCBpcyBhIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoeSBhIHByb21pc2Ugd2FzIHJlamVjdGVkLlxuICAgICAgLSBgc2V0dGxlZGAgdGhlIGZpbmFsIHJlc3Rpbmcgc3RhdGUgb2YgYSBwcm9taXNlLCBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQuXG5cbiAgICAgIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICAgICAgUHJvbWlzZXMgdGhhdCBhcmUgZnVsZmlsbGVkIGhhdmUgYSBmdWxmaWxsbWVudCB2YWx1ZSBhbmQgYXJlIGluIHRoZSBmdWxmaWxsZWRcbiAgICAgIHN0YXRlLiAgUHJvbWlzZXMgdGhhdCBhcmUgcmVqZWN0ZWQgaGF2ZSBhIHJlamVjdGlvbiByZWFzb24gYW5kIGFyZSBpbiB0aGVcbiAgICAgIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gICAgICBQcm9taXNlcyBjYW4gYWxzbyBiZSBzYWlkIHRvICpyZXNvbHZlKiBhIHZhbHVlLiAgSWYgdGhpcyB2YWx1ZSBpcyBhbHNvIGFcbiAgICAgIHByb21pc2UsIHRoZW4gdGhlIG9yaWdpbmFsIHByb21pc2UncyBzZXR0bGVkIHN0YXRlIHdpbGwgbWF0Y2ggdGhlIHZhbHVlJ3NcbiAgICAgIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICAgICAgaXRzZWxmIHJlamVjdCwgYW5kIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2lsbFxuICAgICAgaXRzZWxmIGZ1bGZpbGwuXG5cblxuICAgICAgQmFzaWMgVXNhZ2U6XG4gICAgICAtLS0tLS0tLS0tLS1cblxuICAgICAgYGBganNcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIG9uIHN1Y2Nlc3NcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAgICAgLy8gb24gZmFpbHVyZVxuICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuXG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAvLyBvbiByZWplY3Rpb25cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEFkdmFuY2VkIFVzYWdlOlxuICAgICAgLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFByb21pc2VzIHNoaW5lIHdoZW4gYWJzdHJhY3RpbmcgYXdheSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIHN1Y2ggYXNcbiAgICAgIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gICAgICBgYGBqc1xuICAgICAgZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICAgICAgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuRE9ORSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgICAgICAvLyBvbiBmdWxmaWxsbWVudFxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIC8vIG9uIHJlamVjdGlvblxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICAgICAgYGBganNcbiAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgICAgIGdldEpTT04oJy9jb21tZW50cycpXG4gICAgICBdKS50aGVuKGZ1bmN0aW9uKHZhbHVlcyl7XG4gICAgICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICAgICAgdmFsdWVzWzFdIC8vID0+IGNvbW1lbnRzSlNPTlxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAY2xhc3MgUHJvbWlzZVxuICAgICAgQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZXJcbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEBjb25zdHJ1Y3RvclxuICAgICovXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UocmVzb2x2ZXIpIHtcbiAgICAgIHRoaXNbbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRF0gPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRuZXh0SWQoKTtcbiAgICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcblxuICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3AgIT09IHJlc29sdmVyKSB7XG4gICAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlcigpO1xuICAgICAgICB0aGlzIGluc3RhbmNlb2YgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UgPyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcikgOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5hbGwgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmFjZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVzb2x2ZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucmVqZWN0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9zZXRTY2hlZHVsZXIgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0U2NoZWR1bGVyO1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9zZXRBc2FwID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldEFzYXA7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX2FzYXAgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcDtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSxcblxuICAgIC8qKlxuICAgICAgVGhlIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsXG4gICAgICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICAgICAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHVzZXIpe1xuICAgICAgICAvLyB1c2VyIGlzIGF2YWlsYWJsZVxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gdXNlciBpcyB1bmF2YWlsYWJsZSwgYW5kIHlvdSBhcmUgZ2l2ZW4gdGhlIHJlYXNvbiB3aHlcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIENoYWluaW5nXG4gICAgICAtLS0tLS0tLVxuXG4gICAgICBUaGUgcmV0dXJuIHZhbHVlIG9mIGB0aGVuYCBpcyBpdHNlbGYgYSBwcm9taXNlLiAgVGhpcyBzZWNvbmQsICdkb3duc3RyZWFtJ1xuICAgICAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICAgICAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHVzZXIubmFtZTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuICdkZWZhdWx0IG5hbWUnO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodXNlck5hbWUpIHtcbiAgICAgICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgICAgICAvLyB3aWxsIGJlIGAnZGVmYXVsdCBuYW1lJ2BcbiAgICAgIH0pO1xuXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScpO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gaWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGByZWFzb25gIHdpbGwgYmUgJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jy5cbiAgICAgICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gICAgICB9KTtcbiAgICAgIGBgYFxuICAgICAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQXNzaW1pbGF0aW9uXG4gICAgICAtLS0tLS0tLS0tLS1cblxuICAgICAgU29tZXRpbWVzIHRoZSB2YWx1ZSB5b3Ugd2FudCB0byBwcm9wYWdhdGUgdG8gYSBkb3duc3RyZWFtIHByb21pc2UgY2FuIG9ubHkgYmVcbiAgICAgIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgICAgIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gICAgICB1bnRpbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyBzZXR0bGVkLiBUaGlzIGlzIGNhbGxlZCAqYXNzaW1pbGF0aW9uKi5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgICAvLyBUaGUgdXNlcidzIGNvbW1lbnRzIGFyZSBub3cgYXZhaWxhYmxlXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgcmVqZWN0cywgd2UnbGwgaGF2ZSB0aGUgcmVhc29uIGhlcmVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFNpbXBsZSBFeGFtcGxlXG4gICAgICAtLS0tLS0tLS0tLS0tLVxuXG4gICAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfVxuICAgICAgYGBgXG5cbiAgICAgIEVycmJhY2sgRXhhbXBsZVxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAvLyBmYWlsdXJlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBQcm9taXNlIEV4YW1wbGU7XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIGZpbmRSZXN1bHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIGZhaWx1cmVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEFkdmFuY2VkIEV4YW1wbGVcbiAgICAgIC0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFN5bmNocm9ub3VzIEV4YW1wbGVcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIGF1dGhvciwgYm9va3M7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF1dGhvciA9IGZpbmRBdXRob3IoKTtcbiAgICAgICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfVxuICAgICAgYGBgXG5cbiAgICAgIEVycmJhY2sgRXhhbXBsZVxuXG4gICAgICBgYGBqc1xuXG4gICAgICBmdW5jdGlvbiBmb3VuZEJvb2tzKGJvb2tzKSB7XG5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcblxuICAgICAgfVxuXG4gICAgICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAvLyBmYWlsdXJlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgIGZhaWx1cmUocmVhc29uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBQcm9taXNlIEV4YW1wbGU7XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIGZpbmRBdXRob3IoKS5cbiAgICAgICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgICAgIC8vIGZvdW5kIGJvb2tzXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQG1ldGhvZCB0aGVuXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQHJldHVybiB7UHJvbWlzZX1cbiAgICAqL1xuICAgICAgdGhlbjogbGliJGVzNiRwcm9taXNlJHRoZW4kJGRlZmF1bHQsXG5cbiAgICAvKipcbiAgICAgIGBjYXRjaGAgaXMgc2ltcGx5IHN1Z2FyIGZvciBgdGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uKWAgd2hpY2ggbWFrZXMgaXQgdGhlIHNhbWVcbiAgICAgIGFzIHRoZSBjYXRjaCBibG9jayBvZiBhIHRyeS9jYXRjaCBzdGF0ZW1lbnQuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICAgICAgfVxuXG4gICAgICAvLyBzeW5jaHJvbm91c1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEF1dGhvcigpO1xuICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgIH1cblxuICAgICAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICAgICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIGNhdGNoXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGlvblxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQHJldHVybiB7UHJvbWlzZX1cbiAgICAqL1xuICAgICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvcjtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvcihDb25zdHJ1Y3RvciwgaW5wdXQpIHtcbiAgICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcblxuICAgICAgaWYgKCF0aGlzLnByb21pc2VbbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRF0pIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgdGhpcy5faW5wdXQgICAgID0gaW5wdXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoICAgICA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLmxlbmd0aCB8fCAwO1xuICAgICAgICAgIHRoaXMuX2VudW1lcmF0ZSgpO1xuICAgICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHRoaXMucHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJHZhbGlkYXRpb25FcnJvcigpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkdmFsaWRhdGlvbkVycm9yKCkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5Jyk7XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsZW5ndGggID0gdGhpcy5sZW5ndGg7XG4gICAgICB2YXIgaW5wdXQgICA9IHRoaXMuX2lucHV0O1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcgJiYgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24oZW50cnksIGkpIHtcbiAgICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICAgIHZhciByZXNvbHZlID0gYy5yZXNvbHZlO1xuXG4gICAgICBpZiAocmVzb2x2ZSA9PT0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCkge1xuICAgICAgICB2YXIgdGhlbiA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4oZW50cnkpO1xuXG4gICAgICAgIGlmICh0aGVuID09PSBsaWIkZXM2JHByb21pc2UkdGhlbiQkZGVmYXVsdCAmJlxuICAgICAgICAgICAgZW50cnkuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSBlbnRyeTtcbiAgICAgICAgfSBlbHNlIGlmIChjID09PSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCkge1xuICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IGMobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBlbnRyeSwgdGhlbik7XG4gICAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChuZXcgYyhmdW5jdGlvbihyZXNvbHZlKSB7IHJlc29sdmUoZW50cnkpOyB9KSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fc2V0dGxlZEF0ID0gZnVuY3Rpb24oc3RhdGUsIGksIHZhbHVlKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcblxuICAgICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7XG4gICAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uKHByb21pc2UsIGkpIHtcbiAgICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCwgaSwgdmFsdWUpO1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3NldHRsZWRBdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbCgpIHtcbiAgICAgIHZhciBsb2NhbDtcblxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbG9jYWwgPSBnbG9iYWw7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsID0gc2VsZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgbG9jYWwgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBQID0gbG9jYWwuUHJvbWlzZTtcblxuICAgICAgaWYgKFAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKSA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsb2NhbC5Qcm9taXNlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQ7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2UgPSB7XG4gICAgICAnUHJvbWlzZSc6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0LFxuICAgICAgJ3BvbHlmaWxsJzogbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0XG4gICAgfTtcblxuICAgIC8qIGdsb2JhbCBkZWZpbmU6dHJ1ZSBtb2R1bGU6dHJ1ZSB3aW5kb3c6IHRydWUgKi9cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlOyB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZVsnZXhwb3J0cyddKSB7XG4gICAgICBtb2R1bGVbJ2V4cG9ydHMnXSA9IGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXNbJ0VTNlByb21pc2UnXSA9IGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0KCk7XG59KS5jYWxsKHRoaXMpO1xuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzXG4gKiogbW9kdWxlIGlkID0gMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxyXG4qIChDKSBDb3B5cmlnaHQgSUJNIENvcnAuIDIwMTYuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdFxyXG4qIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mXHJcbiogdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxyXG4qIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxyXG4qIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyXHJcbiogdGhlIExpY2Vuc2UuXHJcbiovXHJcblxyXG5pZiAoIHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyApIHJlcXVpcmUoJ2VzNi1wcm9taXNlJykucG9seWZpbGwoKTtcclxuXHJcbnZhciBhc3NpZ24gPSByZXF1aXJlKCdsb2Rhc2guYXNzaWduJyk7XHJcbnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XHJcbnZhciBzdG9yYWdlID0gcmVxdWlyZSgnLi9zdG9yYWdlJyk7XHJcblxyXG52YXIgb3B0aW9ucyA9IHtcclxuXHRiYXNlVVJMOiAnaHR0cHM6Ly9kZXYuYXBpLmlibS5jb20vdmlydHVhbGFnZW50L2RldmVsb3BtZW50L2FwaS92MS8nLFxyXG5cdHRpbWVvdXQ6IDMwICogMTAwMCxcclxuXHR1c2VySUQ6IG51bGwsXHJcblx0d2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcclxuXHRYSUJNQ2xpZW50SUQ6IGZhbHNlLFxyXG5cdFhJQk1DbGllbnRTZWNyZXQ6IGZhbHNlXHJcbn07XHJcblxyXG52YXIgYXBpID0gYXhpb3MuY3JlYXRlKCBvcHRpb25zICk7XHJcblxyXG52YXIgcHJvZmlsZURhdGFSZSA9IC9cXHwmKC4qPylcXHwvZztcclxudmFyIGluc2VydFVzZXJQcm9maWxlRGF0YSA9IGZ1bmN0aW9uKG1zZykge1xyXG5cdHZhciBmbGF0dGVuID0gKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSA/IG1zZyA6IEpTT04uc3RyaW5naWZ5KG1zZyk7XHJcblx0dmFyIG1hdGNoZXMgPSAoZmxhdHRlbi5tYXRjaChwcm9maWxlRGF0YVJlKSB8fCBbXSk7XHJcblx0ZmxhdHRlbiA9IG1hdGNoZXMucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgcHJvZikge1xyXG5cdFx0Y29uc3QgbmFtZSA9IHByb2Yuc2xpY2UoIDIsIC0xICk7XHJcblx0XHRjb25zdCB2YWx1ZSA9IHN0b3JhZ2UuZ2V0KG5hbWUpIHx8IG5hbWU7XHJcblx0XHRyZXR1cm4gcmVzdWx0LnJlcGxhY2UoIHByb2YsIHZhbHVlICk7XHJcblx0fSwgZmxhdHRlbik7XHJcblx0cmV0dXJuICh0eXBlb2YgbXNnID09PSAnc3RyaW5nJykgPyBmbGF0dGVuIDogSlNPTi5wYXJzZShmbGF0dGVuKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAbmFtZXNwYWNlIFNES1xyXG4gKi9cclxuXHJcbnZhciBTREsgPSBtb2R1bGUuZXhwb3J0cyA9IHtcclxuXHQvKipcclxuXHQgKiBDb25maWd1cmUgdGhlIENsaWVudCBTREtcclxuXHQgKiBAZnVuY3Rpb24gY29uZmlndXJlXHJcblx0ICogQG1lbWJlcm9mIFNES1xyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmJhc2VVUkw9aHR0cHM6Ly9kZXYuYXBpLmlibS5jb20vdmlydHVhbGFnZW50L2RldmVsb3BtZW50L2FwaS92MS8gLSBPcHRpb25hbDogVGhlIFVSTCB0aGUgU0RLIHNob3VsZCBwcmVwZW5kIHRvIHJlcXVlc3RzLlxyXG5cdCAqIEBwYXJhbSB7aW50fSBjb25maWcudGltZW91dD0zMDAwMCAtIE9wdGlvbmFsOiBIb3cgbG9uZyByZXF1ZXN0cyBzaG91bGQgd2FpdCBiZWZvcmUgdGhleSBlcnJvci5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLnVzZXJJRCAtIE9wdGlvbmFsOiBBIHVzZXIgaWRlbnRpZmllciwgdHJhbnNmb3JtZWQgYnkgYSBvbmUtd2F5IGhhc2hpbmcgYWxnb3JpdGhtLiBVc2VkIGJ5IHlvdXIgTWV0cmljcyBEYXNoYm9hcmQgdG8gdHJhY2sgdXNhZ2UuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy51c2VyTGF0TG9uIC0gT3B0aW9uYWw6IGxhdCxsb24gb3IgdXNlciAoIGVnLiAyOC4zODUyLC04MS41NjM5ICkuIFVzZWQgYnkgeW91ciBNZXRyaWNzIERhc2hib2FyZCB0byB0cmFjayB1c2FnZS5cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLndpdGhDcmVkZW50aWFscyAtIE9wdGlvbmFsOiBpbmRpY2F0ZXMgd2hldGhlciBvciBub3QgY3Jvc3Mtc2l0ZSBBY2Nlc3MtQ29udHJvbCByZXF1ZXN0cyBzaG91bGQgYmUgbWFkZSB1c2luZyBjcmVkZW50aWFsc1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcuWElCTUNsaWVudElEIC0gT3B0aW9uYWw6IFlvdXIgWC1JQk0tQ2xpZW50LUlkLiBUaGlzIHNob3VsZCBub3QgYmUgbWFkZSBwdWJsaWMgaW4gYSBwdWJsaWMgZW52aXJvbm1lbnQuIEluY2x1ZGluZyB0aGlzIHdpbGwgYWRkIFgtSUJNLUNsaWVudC1JZCBhcyBhIGhlYWRlciB0byB5b3VyIHJlcXVlc3QuXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5YSUJNQ2xpZW50U2VjcmV0IC0gT3B0aW9uYWw6IFlvdXIgWC1JQk0tQ2xpZW50LVNlY3JldC4gVGhpcyBzaG91bGQgbm90IGJlIG1hZGUgcHVibGljIGluIGEgcHVibGljIGVudmlyb25tZW50LiBJbmNsdWRpbmcgdGhpcyB3aWxsIGFkZCBYLUlCTS1DbGllbnQtU2VjcmV0IGFzIGEgaGVhZGVyIHRvIHlvdXIgcmVxdWVzdC5cclxuXHQgKiBAZXhhbXBsZVxyXG5cdCAqIFNESy5jb25maWd1cmUoe1xyXG5cdCAqICAgYmFzZVVSTDogJ2h0dHBzOi8vc2VydmVyLm15c2l0ZS5jb20nLFxyXG5cdCAqICAgdXNlcklEOiAncG9pdXl0cmV3cScsXHJcblx0ICogICB1c2VyTGF0TG9uOiAnMjguMzg1MiwtODEuNTYzOSdcclxuXHQgKiB9KTtcclxuXHQgKiBAcmV0dXJucyB7U0RLfSBSZXR1cm5zOiBUaGUgU0RLIHNpbmdsZXRvblxyXG5cdCAqL1xyXG5cdGNvbmZpZ3VyZTogZnVuY3Rpb24oIGNvbmZpZyApIHtcclxuXHRcdGFzc2lnbiggb3B0aW9ucywgY29uZmlnICk7XHJcblx0XHRhcGkgPSBheGlvcy5jcmVhdGUoe1xyXG5cdFx0XHRiYXNlVVJMOiBvcHRpb25zLmJhc2VVUkwsXHJcblx0XHRcdHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCxcclxuXHRcdFx0d2l0aENyZWRlbnRpYWxzOiBvcHRpb25zLndpdGhDcmVkZW50aWFscyxcclxuXHRcdFx0aGVhZGVyczogKG9wdGlvbnMuWElCTUNsaWVudElEICYmIG9wdGlvbnMuWElCTUNsaWVudFNlY3JldCkgPyB7XHJcblx0XHRcdFx0J1gtSUJNLUNsaWVudC1JZCc6IG9wdGlvbnMuWElCTUNsaWVudElELFxyXG5cdFx0XHRcdCdYLUlCTS1DbGllbnQtU2VjcmV0Jzogb3B0aW9ucy5YSUJNQ2xpZW50U2VjcmV0XHJcblx0XHRcdH0gOiB7fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gU0RLO1xyXG5cdH0sXHJcblx0LyoqXHJcblx0ICogU3RhcnQgYSBuZXcgY2hhdCBzZXNzaW9uXHJcblx0ICogQGZ1bmN0aW9uIHN0YXJ0XHJcblx0ICogQG1lbWJlcm9mIFNES1xyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBib3RJRCAtIFlvdXIgYm90SUQuXHJcblx0ICogQGV4YW1wbGVcclxuXHQgKiBTREsuc3RhcnQoYm90SUQpXHJcblx0ICogICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0ICogICAgICBjb25zb2xlLmxvZyhyZXMuY2hhdElELCByZXMubWVzc2FnZSk7XHJcblx0ICogICAgfSlcclxuXHQgKiAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0ICogICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcblx0ICogICAgfSk7XHJcblx0ICogQHJldHVybnMge1Byb21pc2UoeyBjaGF0SUQ6IFwic3RyaW5nXCIsIG1lc3NhZ2U6IFwic3RyaW5nXCIgfSl9IFJldHVybnM6IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNoYXQgc2Vzc2lvbiBpcyBzdGFydGVkLlxyXG5cdCAqL1xyXG5cdHN0YXJ0OiBmdW5jdGlvbiggYm90SUQgKSB7XHJcblx0XHR2YXIgcmVxdWVzdElEID0gdXVpZCgpO1xyXG5cdFx0dmFyIGRhdGEgPSB7IHVzZXJJRDogb3B0aW9ucy51c2VySUQsIHVzZXJMYXRMb246IG9wdGlvbnMudXNlckxhdExvbiB9O1xyXG5cdFx0dmFyIGVuZHBvaW50ID0gJy9ib3RzLycrIGJvdElEICsnL2RpYWxvZ3MnO1xyXG5cdFx0dmFyIGNvbmZpZyA9IHsgJ2hlYWRlcnMnOiB7ICdYLVJlcXVlc3QtSUQnOiByZXF1ZXN0SUQgfSB9O1xyXG5cdFx0cmV0dXJuIGFwaVxyXG5cdFx0XHQucG9zdCggZW5kcG9pbnQsIGRhdGEsIGNvbmZpZyApXHJcblx0XHRcdC50aGVuKCBmdW5jdGlvbiggcmVzICkge1xyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRjaGF0SUQ6IHJlcy5kYXRhLmRpYWxvZ19pZCxcclxuXHRcdFx0XHRcdG1lc3NhZ2U6IGluc2VydFVzZXJQcm9maWxlRGF0YShyZXMuZGF0YS5tZXNzYWdlKVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH0pWydjYXRjaCddKCBmdW5jdGlvbiggZXJyICkge1xyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgZmFpbGVkOicsIHJlcXVlc3RJRCApO1xyXG5cdFx0XHRcdG9uRXJyb3IoIGVyciApO1xyXG5cdFx0XHR9KTtcclxuXHR9LFxyXG5cdC8qKlxyXG5cdCAqIFNlbmQgYSBtZXNzYWdlIHRvIGEgY2hhdCBzZXNzaW9uXHJcblx0ICogQGZ1bmN0aW9uIHNlbmRcclxuXHQgKiBAbWVtYmVyb2YgU0RLXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGJvdElEIC0gWW91ciBib3RJRFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjaGF0SUQgLSBZb3VyIGNoYXRJRCBwcm92aWRlZCBieSBTREsuc3RhcnRcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFlvdXIgbWVzc2FnZVxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0IC0gKG9wdGlvbmFsKSBDb250ZXh0IHZhcmlhYmxlcyB0byBwYXNzIHRvIHlvdXIgW0N1c3RvbSBXb3Jrc3BhY2VzXShodHRwczovL3d3dy5pYm0uY29tL3dhdHNvbi9kZXZlbG9wZXJjbG91ZC9kb2MvY29udmVyc2F0aW9uL2RpYWxvZy1idWlsZC5odG1sI2NvbnRleHQtdmFyaWFibGVzKVxyXG5cdCAqIEBleGFtcGxlXHJcblx0ICogU0RLLnNlbmQoYm90SUQsIGNoYXRJRCwgJ0hlbGxvIScpXHJcblx0ICogICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG5cdCAqICAgICAgY29uc29sZS5sb2coZGF0YS5tZXNzYWdlKTtcclxuXHQgKiAgICB9KVxyXG5cdCAqICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHQgKiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuXHQgKiAgICB9KTtcclxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZSh7IG1lc3NhZ2U6IFwic3RyaW5nXCIgfSl9IFJldHVybnM6IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGJvdCByZXNwb25kcy5cclxuXHQgKi9cclxuXHRzZW5kOiBmdW5jdGlvbiggYm90SUQsIGNoYXRJRCwgbWVzc2FnZSwgY29udGV4dCApIHtcclxuXHRcdHZhciByZXF1ZXN0SUQgPSB1dWlkKCk7XHJcblx0XHR2YXIgZGF0YSA9IHsgbWVzc2FnZTogbWVzc2FnZSwgdXNlcklEOiBvcHRpb25zLnVzZXJJRCwgdXNlckxhdExvbjogb3B0aW9ucy51c2VyTGF0TG9uLCBjb250ZXh0OiBjb250ZXh0IH07XHJcblx0XHR2YXIgZW5kcG9pbnQgPSAnL2JvdHMvJysgYm90SUQgKycvZGlhbG9ncy8nKyBjaGF0SUQgKycvbWVzc2FnZXMnO1xyXG5cdFx0dmFyIGNvbmZpZyA9IHsgJ2hlYWRlcnMnOiB7ICdYLVJlcXVlc3QtSUQnOiByZXF1ZXN0SUQgfSB9O1xyXG5cdFx0cmV0dXJuIGFwaVxyXG5cdFx0XHQucG9zdCggZW5kcG9pbnQsIGRhdGEsIGNvbmZpZyApXHJcblx0XHRcdC50aGVuKCBmdW5jdGlvbiggcmVzICkge1xyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRtZXNzYWdlOiBpbnNlcnRVc2VyUHJvZmlsZURhdGEocmVzLmRhdGEubWVzc2FnZSlcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9KVsnY2F0Y2gnXSggZnVuY3Rpb24oIGVyciApIHtcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdSZXF1ZXN0IGZhaWxlZDonLCByZXF1ZXN0SUQgKTtcclxuXHRcdFx0XHRvbkVycm9yKCBlcnIgKTtcclxuXHRcdFx0fSk7XHJcblx0fSxcclxuXHQvKipcclxuXHQqIEl0ZXJhdGUgcHJvZmlsZSBkYXRhIGludG8gYSBnaXZlbiBtZXNzYWdlIG9iamVjdC5cclxuXHQqIEBtZW1iZXJvZiBTREtcclxuXHQqIEBmdW5jdGlvbiBwYXJzZVxyXG5cdCogQHBhcmFtIHtBbnl9IG1lc3NhZ2UgLSBBIHN0cmluZyBvciBtZXNzYWdlIG9iamVjdCB0byBpbnNlcnQgcHJvZmlsZSBkYXRhIGludG8uXHJcblx0KiBAcmV0dXJucyB7QW55fSBSZXR1cm5zOiBUaGUgbWVzc2FnZSBpbiBvcmlnaW5hbCBmb3JtYXQgd2l0aCB2YXJpYWJsZXMgcmVwbGFjZWQuXHJcblx0KiBAZXhhbXBsZVxyXG5cdCogdmFyIG1lc3NhZ2UgPSBcIllvdSBvd2UgfCZiaWxsX2Ftb3VudHwuXCI7XHJcblx0KiB2YXIgcGFyc2VkID0gU0RLLnBhcnNlKG1lc3NhZ2UpO1xyXG5cdCovXHJcblx0cGFyc2U6IGluc2VydFVzZXJQcm9maWxlRGF0YSxcclxuXHQvKipcclxuXHQgKiBAbmFtZXNwYWNlIHByb2ZpbGVcclxuXHQgKiBAbWVtYmVyb2YgU0RLXHJcblx0ICovXHJcblx0cHJvZmlsZToge1xyXG5cdFx0LyoqXHJcblx0XHQqIEdldCBhbiBpdGVtIGZyb20gdGhlIHVzZXIgcHJvZmlsZSBiYXNlZCBvbiBrZXkuXHJcblx0XHQqIEBtZW1iZXJvZiBTREsucHJvZmlsZVxyXG5cdFx0KiBAZnVuY3Rpb24gZ2V0XHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIGFjY2Vzc2luZy5cclxuXHRcdCogQGV4YW1wbGVcclxuXHRcdCogU0RLLnByb2ZpbGUuZ2V0KCdmaXJzdF9uYW1lJyk7XHJcblx0XHQqIEByZXR1cm5zIHtBbnl9IFJldHVybnM6IHRoZSB2YWx1ZSBvZiB0aGUga2V5IGluIHRoZSBwcm9maWxlIG1hcC5cclxuXHRcdCovXHJcblx0XHRnZXQ6IHN0b3JhZ2UuZ2V0LFxyXG5cdFx0LyoqXHJcblx0XHQqIFNldCBhbiBpdGVtIGZyb20gdGhlIHVzZXIgcHJvZmlsZSBiYXNlZCBvbiBrZXkuXHJcblx0XHQqIEBtZW1iZXJvZiBTREsucHJvZmlsZVxyXG5cdFx0KiBAZnVuY3Rpb24gc2V0XHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIHNldHRpbmcuXHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSB2YWx1ZSB5b3UgYXJlIHNldHRpbmcuXHJcblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cclxuXHRcdCogQGV4YW1wbGVcclxuXHRcdCogU0RLLnByb2ZpbGUuc2V0KCdmaXJzdF9uYW1lJywgJ2pvaG4nKTtcclxuXHRcdCovXHJcblx0XHRzZXQ6IHN0b3JhZ2Uuc2V0LFxyXG5cdFx0LyoqXHJcblx0XHQqIFNlZSBpZiBhbiBpdGVtIGZyb20gdGhlIHVzZXIgcHJvZmlsZSBleGlzdHMgYmFzZWQgb24ga2V5LlxyXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcclxuXHRcdCogQGZ1bmN0aW9uIGhhc1xyXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIG5hbWVkIGtleSBvZiB0aGUgdmFsdWUgeW91IGFyZSBjaGVja2luZyB0aGUgZXhpc3RhbmNlIG9mLlxyXG5cdFx0KiBAZXhhbXBsZVxyXG5cdFx0KiBTREsucHJvZmlsZS5oYXMoJ2ZpcnN0X25hbWUnKTtcclxuXHRcdCogQHJldHVybnMge0Jvb2xlYW59IFJldHVybnM6IEJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUga2V5IGV4aXN0cy5cclxuXHRcdCovXHJcblx0XHRoYXM6IHN0b3JhZ2UuaGFzLFxyXG5cdFx0LyoqXHJcblx0XHQqIENsZWFyIHRoZSBlbnRpcmUgdXNlciBwcm9maWxlLlxyXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcclxuXHRcdCogQGZ1bmN0aW9uIGNsZWFyXHJcblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cclxuXHRcdCogQGV4YW1wbGVcclxuXHRcdCogU0RLLnByb2ZpbGUuY2xlYXIoKTtcclxuXHRcdCovXHJcblx0XHRjbGVhcjogc3RvcmFnZS5jbGVhcixcclxuXHRcdC8qKlxyXG5cdFx0KiBEZWxldGUgYW4gaXRlbSBmcm9tIHRoZSB1c2VyIHByb2ZpbGUgYmFzZWQgb24ga2V5LlxyXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcclxuXHRcdCogQGZ1bmN0aW9uIGRlbGV0ZVxyXG5cdFx0KiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zOiBBbiBpbnN0YW5jZSBvZiBTREsucHJvZmlsZSBmb3IgY2hhaW5pbmcuXHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIGRlbGV0aW5nLlxyXG5cdFx0KiBAZXhhbXBsZVxyXG5cdFx0KiBTREsucHJvZmlsZS5kZWxldGUoJ2ZpcnN0X25hbWUnKTtcclxuXHRcdCovXHJcblx0XHRkZWxldGU6IHN0b3JhZ2UuZGVsZXRlLFxyXG5cdFx0LyoqXHJcblx0XHQqIEl0ZXJhdGUgb3ZlciB0aGUgcHJvZmlsZS5cclxuXHRcdCogQG1lbWJlcm9mIFNESy5wcm9maWxlXHJcblx0XHQqIEBmdW5jdGlvbiBmb3JFYWNoXHJcblx0XHQqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHlvdSBhcmUgY2FsbGluZyBvbiBlYWNoIGl0ZW0gaW4gdGhlIHByb2ZpbGUgb2JqZWN0LiBUaGlzIGZ1bmN0aW9uIGlzIHBhc3NlZCBrZXkgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IGFuZCB2YWx1ZSBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxyXG5cdFx0KiBAcGFyYW0ge09iamVjdH0gdGhpcyAtIChvcHRpb25hbCkgVGhlIGNvbnRleHQgeW91IHdpc2ggdG8gY2FsbCB0aGUgY2FsbGJhY2sgaW4uXHJcblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cclxuXHRcdCogQGV4YW1wbGVcclxuXHRcdCogU0RLLnByb2ZpbGUuZm9yRWFjaChmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcblx0XHQqICAgY29uc29sZS5sb2coa2V5LCB2YWx1ZSk7XHJcblx0XHQqIH0pO1xyXG5cdFx0Ki9cclxuXHRcdGZvckVhY2g6IHN0b3JhZ2UuZm9yRWFjaFxyXG5cdH1cclxufTtcclxuXHJcbnZhciB1dWlkID0gZnVuY3Rpb24oICkge1xyXG5cdHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcclxuXHRcdHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLCB2ID0gYyA9PSAneCcgPyByIDogKHImMHgzfDB4OCk7XHJcblx0XHRyZXR1cm4gdi50b1N0cmluZygxNik7XHJcblx0fSk7XHJcbn07XHJcblxyXG52YXIgb25FcnJvciA9IGZ1bmN0aW9uKCBlcnIgKSB7XHJcblx0aWYgKCAhZXJyLnN0YXR1cyApXHJcblx0XHR0aHJvdyBlcnI7XHJcblx0dmFyIHN0YXR1cyA9IGVyci5zdGF0dXM7XHJcblx0dmFyIHN0YXR1c1RleHQgPSBlcnIuc3RhdHVzVGV4dDtcclxuXHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoIHN0YXR1c1RleHQgKTtcclxuXHRlcnJvci5zdGF0dXMgPSBzdGF0dXM7XHJcblx0dGhyb3cgZXJyb3I7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvc2RrLmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxyXG4qIChDKSBDb3B5cmlnaHQgSUJNIENvcnAuIDIwMTYuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbipcclxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdFxyXG4qIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mXHJcbiogdGhlIExpY2Vuc2UgYXRcclxuKlxyXG4qIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4qXHJcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxyXG4qIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxyXG4qIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyXHJcbiogdGhlIExpY2Vuc2UuXHJcbiovXHJcblxyXG52YXIgcHJvZmlsZSA9IHt9O1xyXG52YXIgc3RvcmFnZSA9IHtcclxuXHRzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuXHRcdHByb2ZpbGVba2V5XSA9IHZhbHVlO1xyXG5cdFx0cmV0dXJuIHN0b3JhZ2U7XHJcblx0fSxcclxuXHRnZXQ6IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0cmV0dXJuIHByb2ZpbGVba2V5XSB8fCAnJztcclxuXHR9LFxyXG5cdGhhczogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRyZXR1cm4gKHByb2ZpbGVba2V5XSAhPT0gdW5kZWZpbmVkKTtcclxuXHR9LFxyXG5cdGNsZWFyOiBmdW5jdGlvbigpIHtcclxuXHRcdHByb2ZpbGUgPSB7fTtcclxuXHRcdHJldHVybiBzdG9yYWdlO1xyXG5cdH0sXHJcblx0ZGVsZXRlOiBmdW5jdGlvbihrZXkpIHtcclxuXHRcdGRlbGV0ZSBwcm9maWxlW2tleV07XHJcblx0XHRyZXR1cm4gc3RvcmFnZTtcclxuXHR9LFxyXG5cdGZvckVhY2g6IGZ1bmN0aW9uKGNiLCBjb250ZXh0KSB7XHJcblx0XHRPYmplY3Qua2V5cyhwcm9maWxlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0XHRpZiAoY29udGV4dClcclxuXHRcdFx0XHRjYihrZXksIHByb2ZpbGVba2V5XSkuYmluZChjb250ZXh0KTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGNiKGtleSwgcHJvZmlsZVtrZXldKTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHN0b3JhZ2U7XHJcblx0fVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBzdG9yYWdlO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3N0b3JhZ2UuanNcbiAqKiBtb2R1bGUgaWQgPSAyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBmaXJzdCBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgIG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyoqIERldGVjdCBpZiBwcm9wZXJ0aWVzIHNoYWRvd2luZyB0aG9zZSBvbiBgT2JqZWN0LnByb3RvdHlwZWAgYXJlIG5vbi1lbnVtZXJhYmxlLiAqL1xudmFyIG5vbkVudW1TaGFkb3dzID0gIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoeyAndmFsdWVPZic6IDEgfSwgJ3ZhbHVlT2YnKTtcblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAvLyBBdm9pZCBhIGJ1ZyBpbiBJRSAxMC0xMSB3aGVyZSBvYmplY3RzIHdpdGggYSBbW1Byb3RvdHlwZV1dIG9mIGBudWxsYCxcbiAgLy8gdGhhdCBhcmUgY29tcG9zZWQgZW50aXJlbHkgb2YgaW5kZXggcHJvcGVydGllcywgcmV0dXJuIGBmYWxzZWAgZm9yXG4gIC8vIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2tzIG9mIHRoZW0uXG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJlxuICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSB8fFxuICAgICAgKHR5cGVvZiBvYmplY3QgPT0gJ29iamVjdCcgJiYga2V5IGluIG9iamVjdCAmJiBnZXRQcm90b3R5cGUob2JqZWN0KSA9PT0gbnVsbCkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3Qgc2tpcCB0aGUgY29uc3RydWN0b3JcbiAqIHByb3BlcnR5IG9mIHByb3RvdHlwZXMgb3IgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xudmFyIGJhc2VLZXlzID0gb3ZlckFyZyhuYXRpdmVLZXlzLCBPYmplY3QpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSBhcnJheTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlID09PSB1bmRlZmluZWQgPyBzb3VyY2Vba2V5XSA6IG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgdmFsdWUgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhdm9pZCBhXG4gKiBbSklUIGJ1Z10oaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE0Mjc5MikgdGhhdCBhZmZlY3RzXG4gKiBTYWZhcmkgb24gYXQgbGVhc3QgaU9TIDguMS04LjMgQVJNNjQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBcImxlbmd0aFwiIHZhbHVlLlxuICovXG52YXIgZ2V0TGVuZ3RoID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBgW1tQcm90b3R5cGVdXWAgb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGBbW1Byb3RvdHlwZV1dYC5cbiAqL1xudmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcobmF0aXZlR2V0UHJvdG90eXBlLCBPYmplY3QpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgaW5kZXgga2V5cyBmb3IgYG9iamVjdGAgdmFsdWVzIG9mIGFycmF5cyxcbiAqIGBhcmd1bWVudHNgIG9iamVjdHMsIGFuZCBzdHJpbmdzLCBvdGhlcndpc2UgYG51bGxgIGlzIHJldHVybmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl8bnVsbH0gUmV0dXJucyBpbmRleCBrZXlzLCBlbHNlIGBudWxsYC5cbiAqL1xuZnVuY3Rpb24gaW5kZXhLZXlzKG9iamVjdCkge1xuICB2YXIgbGVuZ3RoID0gb2JqZWN0ID8gb2JqZWN0Lmxlbmd0aCA6IHVuZGVmaW5lZDtcbiAgaWYgKGlzTGVuZ3RoKGxlbmd0aCkgJiZcbiAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNTdHJpbmcob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKSkge1xuICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBTdHJpbmcpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIC8vIFNhZmFyaSA4LjEgaW5jb3JyZWN0bHkgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgKCFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJnc1RhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aChnZXRMZW5ndGgodmFsdWUpKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCB3ZWFrIG1hcCBjb25zdHJ1Y3RvcnMsXG4gIC8vIGFuZCBQaGFudG9tSlMgMS45IHdoaWNoIHJldHVybnMgJ2Z1bmN0aW9uJyBmb3IgYE5vZGVMaXN0YCBpbnN0YW5jZXMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N0cmluZygnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N0cmluZygxKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHxcbiAgICAoIWlzQXJyYXkodmFsdWUpICYmIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbn1cblxuLyoqXG4gKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gKiBTdWJzZXF1ZW50IHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgT2JqZWN0LmFzc2lnbmBdKGh0dHBzOi8vbWRuLmlvL09iamVjdC9hc3NpZ24pLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAc2VlIF8uYXNzaWduSW5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIGZ1bmN0aW9uIEJhcigpIHtcbiAqICAgdGhpcy5jID0gMztcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAqXG4gKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICovXG52YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgaWYgKG5vbkVudW1TaGFkb3dzIHx8IGlzUHJvdG90eXBlKHNvdXJjZSkgfHwgaXNBcnJheUxpa2Uoc291cmNlKSkge1xuICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCk7XG4gIGlmICghKGlzUHJvdG8gfHwgaXNBcnJheUxpa2Uob2JqZWN0KSkpIHtcbiAgICByZXR1cm4gYmFzZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgaW5kZXhlcyA9IGluZGV4S2V5cyhvYmplY3QpLFxuICAgICAgc2tpcEluZGV4ZXMgPSAhIWluZGV4ZXMsXG4gICAgICByZXN1bHQgPSBpbmRleGVzIHx8IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKGJhc2VIYXMob2JqZWN0LCBrZXkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKGtleSA9PSAnbGVuZ3RoJyB8fCBpc0luZGV4KGtleSwgbGVuZ3RoKSkpICYmXG4gICAgICAgICEoaXNQcm90byAmJiBrZXkgPT0gJ2NvbnN0cnVjdG9yJykpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoLmFzc2lnbi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbmUgY2Fubm90IGJlIHVzZWQgaW5kaXJlY3RcIik7IH07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL2J1aWxkaW4vYW1kLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qIChpZ25vcmVkKSAqL1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogdmVydHggKGlnbm9yZWQpXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/@watson-virtual-agent/client-sdk/lib/web.js\n ** module id = 5\n ** module chunks = 0\n **/","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/assign.js\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = {\n  input: require('./input.html'),\n  receive: require('./receive.html'),\n  send: require('./send.html'),\n  start: require('./start.html'),\n  loading: require('./loading.html')\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/index.js\n ** module id = 7\n ** module chunks = 0\n **/","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isArrayLike.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar profile = BotSDK.profile;\n\nmodule.exports = profile;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/profile/index.js\n ** module id = 9\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('./state');\nvar css = require('./styles.css');\n\nvar defaultStyles = {\n  background: 'rgba(61, 61, 61, 1)',\n  accentBackground: '#BA8FF7',\n  accentText: '#ffffff',\n  text: '#ffffff',\n  link: '#AF6EE8',\n  secondaryBackground: 'rgba(90, 90, 90, 1)',\n  secondaryText: 'rgba(247, 247, 247, 1)',\n  inputBackground: 'rgba(90, 90, 90, 1)',\n  inputText: 'rgba(247, 247, 247, 1)',\n  errorBackground: '#e86e6e',\n  errorText: '#ffffff',\n  fontSize: '15px',\n  fontFamily: '\"Helvetica Neue\",HelveticaNeue,Helvetica,sans-serif'\n};\n\nfunction _attachStylesToDOM(styles, current) {\n  var css = document.createElement('style');\n  css.type = \"text/css\";\n  css.classList.add('styles-' + current.chatStyleID);\n  if (css.styleSheet)\n    css.styleSheet.cssText = styles;\n  else\n    css.appendChild(document.createTextNode(styles));\n  document.getElementsByTagName(\"head\")[0].appendChild(css);\n}\n\nfunction _getStyles(current) {\n  var containerClass = \".\" + current.chatStyleID;\n  var noOpacityBackgroundArray = _hexToRGBArray(normalizeToHex(current.styles.background));\n  var noOpacityBackground = \"rgba(\" + noOpacityBackgroundArray[0] + \",\" + noOpacityBackgroundArray[1] + \",\" + noOpacityBackgroundArray[2] + \",0.8)\";\n  var opacityBackground = \"rgba(\" + noOpacityBackgroundArray[0] + \",\" + noOpacityBackgroundArray[1] + \",\" + noOpacityBackgroundArray[2] + \",0)\";\n  var styles = '';\n  styles += containerClass + \"{ overflow:hidden;}\";\n  styles += containerClass + \" .IBMChat-outer-container {font-size: \" + current.styles.fontSize + \"; line-height: \" + current.styles.fontSize + \"; font-family: \" + current.styles.fontFamily + \";}\";\n  styles += containerClass + \" .IBMChat-outer-container textarea {font-size: \" + current.styles.fontSize + \"; font-family: \" + current.styles.fontFamily + \";}\";\n  styles += containerClass + \" .IBMChat-default-colors {background-color: \" + current.styles.background + \"; color: \" + current.styles.text + \";}\";\n  styles += containerClass + \" .IBMChat-secondary-colors {background-color: \" + current.styles.secondaryBackground + \"; color: \" + current.styles.secondaryText + \";}\";\n  styles += containerClass + \" .IBMChat-secondary-colors-button {background-color: transparent; border: 1px solid \" + current.styles.secondaryBackground + \"; color: \" + current.styles.secondaryBackground + \";}\";\n  styles += containerClass + \" .IBMChat-accent-colors {background-color: \" + current.styles.accentBackground + \"; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentText + \";}\";\n  styles += containerClass + \" .IBMChat-accent-colors-button {background-color: transparent; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentBackground + \";}\";\n  styles += containerClass + \" .IBMChat-accent-colors-button:hover {background-color: \" + current.styles.accentBackground + \"; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentText + \";}\";\n  styles += containerClass + \" .IBMChat-accent-colors-button[disabled]:hover {background-color: transparent; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentBackground + \";}\";\n  styles += containerClass + \" .IBMChat-error-colors {background-color: \" + current.styles.errorBackground + \"; color: \" + current.styles.errorText + \";}\";\n  styles += containerClass + \" .IBMChat-input-colors {background-color: \" + current.styles.inputBackground + \"; color: \" + current.styles.inputText + \"; border-bottom: 1px solid \" + current.styles.inputText + \";}\";\n  styles += containerClass + \" .IBMChat-watson-message-line {border-left: 3px solid \" + current.styles.accentBackground + \";}\";\n  styles += containerClass + \" a {border: 0; color: \" + current.styles.link + \"; font-weight: normal; text-decoration: none; font-size:1em;}\";\n  styles += containerClass + \" a:hover, \";\n  styles += containerClass + \" a:visited, \";\n  styles += containerClass + \" a:active {color: \" + current.styles.link + \"; font-weight: normal; text-decoration: underline; font-size:1em;}\";\n  styles += containerClass + \" .IBMChat-watson-intent a,\" +\n                             \" .IBMChat-watson-intent a:hover,\" +\n                             \" .IBMChat-watson-intent a:visited,\" +\n                             \" .IBMChat-watson-intent a:active {\" +\n                             \"   font-weight: bold; text-decoration: underline;\";\n  if (current.styles.intentLink) {\n    styles +=                \"   color: \" + current.styles.intentLink + \";\";\n  }\n  styles +=                  \" }\";\n  styles += containerClass + \" .IBMChat-chat-textbox {border-bottom: solid 1px \" + current.styles.text + \";}\";\n  styles += containerClass + \" .IBMChat-chat-textbox:focus {border-bottom: solid 2px \" + current.styles.accentBackground + \";}\";\n  styles += containerClass + \" ::-webkit-input-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \";}\";\n  styles += containerClass + \" ::-moz-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \"; opacity: 1;}\";\n  styles += containerClass + \" :-ms-input-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \"; opacity: 1;}\";\n  styles += containerClass + \" .IBMChat-ball {background-color: \" + normalizeToHex(current.styles.accentBackground) + \";}\";\n  styles += containerClass + \" .IBMChat-fade {left: 0; height: 10%; max-height: 32px; position: absolute; top: 0; width: 100%; z-index: 2; background: linear-gradient(to bottom, \" + noOpacityBackground + \" 0%, \" + opacityBackground + \" 100%);}\";\n  styles += containerClass + \" .IBMChat-loading-message {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \";}\";\n  return styles;\n}\n\nfunction _placeHolderColor(text, background) {\n  var rgb_beginning = _hexToRGBArray(normalizeToHex(text)),\n    rgb_end = _hexToRGBArray(normalizeToHex(background)),\n    p = 0.6,\n    w = p * 2 - 1,\n    w1 = (w + 1) / 2.0,\n    w2 = 1 - w1,\n    rgb = [\n      parseInt(rgb_beginning[0] * w1 + rgb_end[0] * w2),\n      parseInt(rgb_beginning[1] * w1 + rgb_end[1] * w2),\n      parseInt(rgb_beginning[2] * w1 + rgb_end[2] * w2)\n    ];\n  var rgba = 'rgb(' + rgb[0] + ',' + rgb[1] + ',' + rgb[2] + ')';\n  return normalizeToHex(rgba);\n}\n\nfunction normalizeToHex(color) {\n  function rgb2hex(rgb) {\n    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return (rgb && rgb.length === 4) ?\n      (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +\n      (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) +\n      (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : '';\n  }\n  if (color.indexOf('#') > -1)\n    return color;\n  else\n    return '#' + rgb2hex(color);\n}\n\nfunction _hexToRGBArray(hex) {\n  var rgb = [];\n  hex = hex.replace('#', '');\n  rgb.push(parseInt(hex.substring(0, 2), 16));\n  rgb.push(parseInt(hex.substring(2, 4), 16));\n  rgb.push(parseInt(hex.substring(4, 6), 16));\n  return rgb;\n}\n\nfunction convertHexToRGBA(hex, opacity) {\n  var rgb = _hexToRGBArray(hex),\n    r = rgb[0],\n    g = rgb[1],\n    b = rgb[2];\n  return 'rgba(' + r + ',' + g + ',' + b + ',' + opacity / 100 + ')';\n}\n\n\nfunction attachPlaybackStyles(chatID) {\n  var current = state.get()[chatID];\n  var styles = _getStyles(current);\n  _attachStylesToDOM(styles);\n}\n\nfunction attachStyles() {\n  var current = state.get();\n  var styles = _getStyles(current);\n  _attachStylesToDOM(css, current);\n  _attachStylesToDOM(styles, current);\n}\n\nfunction removeStyles(root, chatStyleID, chatID) {\n  var elements = document.querySelectorAll('.styles-' + chatStyleID);\n  if (elements && elements.length > 0) {\n    for (var i = 0; elements.length > i; i++)\n      elements[i].parentNode.removeChild(elements[i]);\n  }\n  if (root)\n    root.classList.remove('IBMChat-isLarge', 'IBMChat-relative', chatStyleID, 'chatID-' + chatID);\n}\n\nmodule.exports = {\n  defaultStyles: defaultStyles,\n  attachStyles: attachStyles,\n  removeStyles: removeStyles,\n  attachPlaybackStyles: attachPlaybackStyles,\n  convertHexToRGBA: convertHexToRGBA,\n  normalizeToHex: normalizeToHex\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/styles.js\n ** module id = 10\n ** module chunks = 0\n **/","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\nexports.extend = extend;\nvar hop = Object.prototype.hasOwnProperty;\n\nfunction extend(obj) {\n    var sources = Array.prototype.slice.call(arguments, 1),\n        i, len, source, key;\n\n    for (i = 0, len = sources.length; i < len; i += 1) {\n        source = sources[i];\n        if (!source) { continue; }\n\n        for (key in source) {\n            if (hop.call(source, key)) {\n                obj[key] = source[key];\n            }\n        }\n    }\n\n    return obj;\n}\nexports.hop = hop;\n\n//# sourceMappingURL=utils.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/intl-messageformat/lib/utils.js\n ** module id = 11\n ** module chunks = 0\n **/","var eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\nmodule.exports = assignValue;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_assignValue.js\n ** module id = 12\n ** module chunks = 0\n **/","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_isIndex.js\n ** module id = 13\n ** module chunks = 0\n **/","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_isPrototype.js\n ** module id = 14\n ** module chunks = 0\n **/","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/eq.js\n ** module id = 15\n ** module chunks = 0\n **/","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isObject.js\n ** module id = 16\n ** module chunks = 0\n **/","'use strict';\n\nexports = module.exports = require('./lib/parser')['default'];\nexports['default'] = exports;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/intl-messageformat-parser/index.js\n ** module id = 17\n ** module chunks = 0\n **/","\"use strict\";\n\nexports[\"default\"] = (function() {\n  /*\n   * Generated by PEG.js 0.8.0.\n   *\n   * http://pegjs.majda.cz/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function SyntaxError(message, expected, found, offset, line, column) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.offset   = offset;\n    this.line     = line;\n    this.column   = column;\n\n    this.name     = \"SyntaxError\";\n  }\n\n  peg$subclass(SyntaxError, Error);\n\n  function parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n\n        peg$FAILED = {},\n\n        peg$startRuleFunctions = { start: peg$parsestart },\n        peg$startRuleFunction  = peg$parsestart,\n\n        peg$c0 = [],\n        peg$c1 = function(elements) {\n                return {\n                    type    : 'messageFormatPattern',\n                    elements: elements\n                };\n            },\n        peg$c2 = peg$FAILED,\n        peg$c3 = function(text) {\n                var string = '',\n                    i, j, outerLen, inner, innerLen;\n\n                for (i = 0, outerLen = text.length; i < outerLen; i += 1) {\n                    inner = text[i];\n\n                    for (j = 0, innerLen = inner.length; j < innerLen; j += 1) {\n                        string += inner[j];\n                    }\n                }\n\n                return string;\n            },\n        peg$c4 = function(messageText) {\n                return {\n                    type : 'messageTextElement',\n                    value: messageText\n                };\n            },\n        peg$c5 = /^[^ \\t\\n\\r,.+={}#]/,\n        peg$c6 = { type: \"class\", value: \"[^ \\\\t\\\\n\\\\r,.+={}#]\", description: \"[^ \\\\t\\\\n\\\\r,.+={}#]\" },\n        peg$c7 = \"{\",\n        peg$c8 = { type: \"literal\", value: \"{\", description: \"\\\"{\\\"\" },\n        peg$c9 = null,\n        peg$c10 = \",\",\n        peg$c11 = { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n        peg$c12 = \"}\",\n        peg$c13 = { type: \"literal\", value: \"}\", description: \"\\\"}\\\"\" },\n        peg$c14 = function(id, format) {\n                return {\n                    type  : 'argumentElement',\n                    id    : id,\n                    format: format && format[2]\n                };\n            },\n        peg$c15 = \"number\",\n        peg$c16 = { type: \"literal\", value: \"number\", description: \"\\\"number\\\"\" },\n        peg$c17 = \"date\",\n        peg$c18 = { type: \"literal\", value: \"date\", description: \"\\\"date\\\"\" },\n        peg$c19 = \"time\",\n        peg$c20 = { type: \"literal\", value: \"time\", description: \"\\\"time\\\"\" },\n        peg$c21 = function(type, style) {\n                return {\n                    type : type + 'Format',\n                    style: style && style[2]\n                };\n            },\n        peg$c22 = \"plural\",\n        peg$c23 = { type: \"literal\", value: \"plural\", description: \"\\\"plural\\\"\" },\n        peg$c24 = function(pluralStyle) {\n                return {\n                    type   : pluralStyle.type,\n                    ordinal: false,\n                    offset : pluralStyle.offset || 0,\n                    options: pluralStyle.options\n                };\n            },\n        peg$c25 = \"selectordinal\",\n        peg$c26 = { type: \"literal\", value: \"selectordinal\", description: \"\\\"selectordinal\\\"\" },\n        peg$c27 = function(pluralStyle) {\n                return {\n                    type   : pluralStyle.type,\n                    ordinal: true,\n                    offset : pluralStyle.offset || 0,\n                    options: pluralStyle.options\n                }\n            },\n        peg$c28 = \"select\",\n        peg$c29 = { type: \"literal\", value: \"select\", description: \"\\\"select\\\"\" },\n        peg$c30 = function(options) {\n                return {\n                    type   : 'selectFormat',\n                    options: options\n                };\n            },\n        peg$c31 = \"=\",\n        peg$c32 = { type: \"literal\", value: \"=\", description: \"\\\"=\\\"\" },\n        peg$c33 = function(selector, pattern) {\n                return {\n                    type    : 'optionalFormatPattern',\n                    selector: selector,\n                    value   : pattern\n                };\n            },\n        peg$c34 = \"offset:\",\n        peg$c35 = { type: \"literal\", value: \"offset:\", description: \"\\\"offset:\\\"\" },\n        peg$c36 = function(number) {\n                return number;\n            },\n        peg$c37 = function(offset, options) {\n                return {\n                    type   : 'pluralFormat',\n                    offset : offset,\n                    options: options\n                };\n            },\n        peg$c38 = { type: \"other\", description: \"whitespace\" },\n        peg$c39 = /^[ \\t\\n\\r]/,\n        peg$c40 = { type: \"class\", value: \"[ \\\\t\\\\n\\\\r]\", description: \"[ \\\\t\\\\n\\\\r]\" },\n        peg$c41 = { type: \"other\", description: \"optionalWhitespace\" },\n        peg$c42 = /^[0-9]/,\n        peg$c43 = { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n        peg$c44 = /^[0-9a-f]/i,\n        peg$c45 = { type: \"class\", value: \"[0-9a-f]i\", description: \"[0-9a-f]i\" },\n        peg$c46 = \"0\",\n        peg$c47 = { type: \"literal\", value: \"0\", description: \"\\\"0\\\"\" },\n        peg$c48 = /^[1-9]/,\n        peg$c49 = { type: \"class\", value: \"[1-9]\", description: \"[1-9]\" },\n        peg$c50 = function(digits) {\n            return parseInt(digits, 10);\n        },\n        peg$c51 = /^[^{}\\\\\\0-\\x1F \\t\\n\\r]/,\n        peg$c52 = { type: \"class\", value: \"[^{}\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\", description: \"[^{}\\\\\\\\\\\\0-\\\\x1F \\\\t\\\\n\\\\r]\" },\n        peg$c53 = \"\\\\\\\\\",\n        peg$c54 = { type: \"literal\", value: \"\\\\\\\\\", description: \"\\\"\\\\\\\\\\\\\\\\\\\"\" },\n        peg$c55 = function() { return '\\\\'; },\n        peg$c56 = \"\\\\#\",\n        peg$c57 = { type: \"literal\", value: \"\\\\#\", description: \"\\\"\\\\\\\\#\\\"\" },\n        peg$c58 = function() { return '\\\\#'; },\n        peg$c59 = \"\\\\{\",\n        peg$c60 = { type: \"literal\", value: \"\\\\{\", description: \"\\\"\\\\\\\\{\\\"\" },\n        peg$c61 = function() { return '\\u007B'; },\n        peg$c62 = \"\\\\}\",\n        peg$c63 = { type: \"literal\", value: \"\\\\}\", description: \"\\\"\\\\\\\\}\\\"\" },\n        peg$c64 = function() { return '\\u007D'; },\n        peg$c65 = \"\\\\u\",\n        peg$c66 = { type: \"literal\", value: \"\\\\u\", description: \"\\\"\\\\\\\\u\\\"\" },\n        peg$c67 = function(digits) {\n                return String.fromCharCode(parseInt(digits, 16));\n            },\n        peg$c68 = function(chars) { return chars.join(''); },\n\n        peg$currPos          = 0,\n        peg$reportedPos      = 0,\n        peg$cachedPos        = 0,\n        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleFunctions)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$reportedPos, peg$currPos);\n    }\n\n    function offset() {\n      return peg$reportedPos;\n    }\n\n    function line() {\n      return peg$computePosDetails(peg$reportedPos).line;\n    }\n\n    function column() {\n      return peg$computePosDetails(peg$reportedPos).column;\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: \"other\", description: description }],\n        peg$reportedPos\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, peg$reportedPos);\n    }\n\n    function peg$computePosDetails(pos) {\n      function advance(details, startPos, endPos) {\n        var p, ch;\n\n        for (p = startPos; p < endPos; p++) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n        }\n      }\n\n      if (peg$cachedPos !== pos) {\n        if (peg$cachedPos > pos) {\n          peg$cachedPos = 0;\n          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };\n        }\n        advance(peg$cachedPosDetails, peg$cachedPos, pos);\n        peg$cachedPos = pos;\n      }\n\n      return peg$cachedPosDetails;\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, pos) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   '\\\\\\\\')\n            .replace(/\"/g,    '\\\\\"')\n            .replace(/\\x08/g, '\\\\b')\n            .replace(/\\t/g,   '\\\\t')\n            .replace(/\\n/g,   '\\\\n')\n            .replace(/\\f/g,   '\\\\f')\n            .replace(/\\r/g,   '\\\\r')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n            .replace(/[\\u0180-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n            .replace(/[\\u1080-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(\", \")\n              + \" or \"\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      var posDetails = peg$computePosDetails(pos),\n          found      = pos < input.length ? input.charAt(pos) : null;\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        pos,\n        posDetails.line,\n        posDetails.column\n      );\n    }\n\n    function peg$parsestart() {\n      var s0;\n\n      s0 = peg$parsemessageFormatPattern();\n\n      return s0;\n    }\n\n    function peg$parsemessageFormatPattern() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsemessageFormatElement();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsemessageFormatElement();\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c1(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsemessageFormatElement() {\n      var s0;\n\n      s0 = peg$parsemessageTextElement();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseargumentElement();\n      }\n\n      return s0;\n    }\n\n    function peg$parsemessageText() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$currPos;\n      s3 = peg$parse_();\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parsechars();\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parse_();\n          if (s5 !== peg$FAILED) {\n            s3 = [s3, s4, s5];\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$c2;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$c2;\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$currPos;\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parsechars();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                s3 = [s3, s4, s5];\n                s2 = s3;\n              } else {\n                peg$currPos = s2;\n                s2 = peg$c2;\n              }\n            } else {\n              peg$currPos = s2;\n              s2 = peg$c2;\n            }\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c3(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = peg$parsews();\n        if (s1 !== peg$FAILED) {\n          s1 = input.substring(s0, peg$currPos);\n        }\n        s0 = s1;\n      }\n\n      return s0;\n    }\n\n    function peg$parsemessageTextElement() {\n      var s0, s1;\n\n      s0 = peg$currPos;\n      s1 = peg$parsemessageText();\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c4(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parseargument() {\n      var s0, s1, s2;\n\n      s0 = peg$parsenumber();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        s1 = [];\n        if (peg$c5.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s2 !== peg$FAILED) {\n          while (s2 !== peg$FAILED) {\n            s1.push(s2);\n            if (peg$c5.test(input.charAt(peg$currPos))) {\n              s2 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c6); }\n            }\n          }\n        } else {\n          s1 = peg$c2;\n        }\n        if (s1 !== peg$FAILED) {\n          s1 = input.substring(s0, peg$currPos);\n        }\n        s0 = s1;\n      }\n\n      return s0;\n    }\n\n    function peg$parseargumentElement() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 123) {\n        s1 = peg$c7;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c8); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parseargument();\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$currPos;\n              if (input.charCodeAt(peg$currPos) === 44) {\n                s6 = peg$c10;\n                peg$currPos++;\n              } else {\n                s6 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c11); }\n              }\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parseelementFormat();\n                  if (s8 !== peg$FAILED) {\n                    s6 = [s6, s7, s8];\n                    s5 = s6;\n                  } else {\n                    peg$currPos = s5;\n                    s5 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s5;\n                  s5 = peg$c2;\n                }\n              } else {\n                peg$currPos = s5;\n                s5 = peg$c2;\n              }\n              if (s5 === peg$FAILED) {\n                s5 = peg$c9;\n              }\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parse_();\n                if (s6 !== peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 125) {\n                    s7 = peg$c12;\n                    peg$currPos++;\n                  } else {\n                    s7 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c13); }\n                  }\n                  if (s7 !== peg$FAILED) {\n                    peg$reportedPos = s0;\n                    s1 = peg$c14(s3, s5);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseelementFormat() {\n      var s0;\n\n      s0 = peg$parsesimpleFormat();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsepluralFormat();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseselectOrdinalFormat();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseselectFormat();\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsesimpleFormat() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 6) === peg$c15) {\n        s1 = peg$c15;\n        peg$currPos += 6;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c16); }\n      }\n      if (s1 === peg$FAILED) {\n        if (input.substr(peg$currPos, 4) === peg$c17) {\n          s1 = peg$c17;\n          peg$currPos += 4;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c18); }\n        }\n        if (s1 === peg$FAILED) {\n          if (input.substr(peg$currPos, 4) === peg$c19) {\n            s1 = peg$c19;\n            peg$currPos += 4;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c20); }\n          }\n        }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s4 = peg$c10;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parse_();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsechars();\n              if (s6 !== peg$FAILED) {\n                s4 = [s4, s5, s6];\n                s3 = s4;\n              } else {\n                peg$currPos = s3;\n                s3 = peg$c2;\n              }\n            } else {\n              peg$currPos = s3;\n              s3 = peg$c2;\n            }\n          } else {\n            peg$currPos = s3;\n            s3 = peg$c2;\n          }\n          if (s3 === peg$FAILED) {\n            s3 = peg$c9;\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c21(s1, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parsepluralFormat() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 6) === peg$c22) {\n        s1 = peg$c22;\n        peg$currPos += 6;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c23); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s3 = peg$c10;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsepluralStyle();\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c24(s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseselectOrdinalFormat() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 13) === peg$c25) {\n        s1 = peg$c25;\n        peg$currPos += 13;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c26); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s3 = peg$c10;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parsepluralStyle();\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c27(s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseselectFormat() {\n      var s0, s1, s2, s3, s4, s5, s6;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 6) === peg$c28) {\n        s1 = peg$c28;\n        peg$currPos += 6;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c29); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s3 = peg$c10;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n          if (s3 !== peg$FAILED) {\n            s4 = peg$parse_();\n            if (s4 !== peg$FAILED) {\n              s5 = [];\n              s6 = peg$parseoptionalFormatPattern();\n              if (s6 !== peg$FAILED) {\n                while (s6 !== peg$FAILED) {\n                  s5.push(s6);\n                  s6 = peg$parseoptionalFormatPattern();\n                }\n              } else {\n                s5 = peg$c2;\n              }\n              if (s5 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c30(s5);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseselector() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 61) {\n        s2 = peg$c31;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsenumber();\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$c2;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        s1 = input.substring(s0, peg$currPos);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsechars();\n      }\n\n      return s0;\n    }\n\n    function peg$parseoptionalFormatPattern() {\n      var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseselector();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parse_();\n          if (s3 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 123) {\n              s4 = peg$c7;\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c8); }\n            }\n            if (s4 !== peg$FAILED) {\n              s5 = peg$parse_();\n              if (s5 !== peg$FAILED) {\n                s6 = peg$parsemessageFormatPattern();\n                if (s6 !== peg$FAILED) {\n                  s7 = peg$parse_();\n                  if (s7 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 125) {\n                      s8 = peg$c12;\n                      peg$currPos++;\n                    } else {\n                      s8 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c13); }\n                    }\n                    if (s8 !== peg$FAILED) {\n                      peg$reportedPos = s0;\n                      s1 = peg$c33(s2, s6);\n                      s0 = s1;\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$c2;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$c2;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parseoffset() {\n      var s0, s1, s2, s3;\n\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 7) === peg$c34) {\n        s1 = peg$c34;\n        peg$currPos += 7;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c35); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = peg$parsenumber();\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c36(s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parsepluralStyle() {\n      var s0, s1, s2, s3, s4;\n\n      s0 = peg$currPos;\n      s1 = peg$parseoffset();\n      if (s1 === peg$FAILED) {\n        s1 = peg$c9;\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parse_();\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parseoptionalFormatPattern();\n          if (s4 !== peg$FAILED) {\n            while (s4 !== peg$FAILED) {\n              s3.push(s4);\n              s4 = peg$parseoptionalFormatPattern();\n            }\n          } else {\n            s3 = peg$c2;\n          }\n          if (s3 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c37(s1, s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$c2;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$c2;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$c2;\n      }\n\n      return s0;\n    }\n\n    function peg$parsews() {\n      var s0, s1;\n\n      peg$silentFails++;\n      s0 = [];\n      if (peg$c39.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c40); }\n      }\n      if (s1 !== peg$FAILED) {\n        while (s1 !== peg$FAILED) {\n          s0.push(s1);\n          if (peg$c39.test(input.charAt(peg$currPos))) {\n            s1 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c40); }\n          }\n        }\n      } else {\n        s0 = peg$c2;\n      }\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c38); }\n      }\n\n      return s0;\n    }\n\n    function peg$parse_() {\n      var s0, s1, s2;\n\n      peg$silentFails++;\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsews();\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsews();\n      }\n      if (s1 !== peg$FAILED) {\n        s1 = input.substring(s0, peg$currPos);\n      }\n      s0 = s1;\n      peg$silentFails--;\n      if (s0 === peg$FAILED) {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c41); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsedigit() {\n      var s0;\n\n      if (peg$c42.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c43); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsehexDigit() {\n      var s0;\n\n      if (peg$c44.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c45); }\n      }\n\n      return s0;\n    }\n\n    function peg$parsenumber() {\n      var s0, s1, s2, s3, s4, s5;\n\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 48) {\n        s1 = peg$c46;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c47); }\n      }\n      if (s1 === peg$FAILED) {\n        s1 = peg$currPos;\n        s2 = peg$currPos;\n        if (peg$c48.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c49); }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$parsedigit();\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$parsedigit();\n          }\n          if (s4 !== peg$FAILED) {\n            s3 = [s3, s4];\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$c2;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$c2;\n        }\n        if (s2 !== peg$FAILED) {\n          s2 = input.substring(s1, peg$currPos);\n        }\n        s1 = s2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c50(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    function peg$parsechar() {\n      var s0, s1, s2, s3, s4, s5, s6, s7;\n\n      if (peg$c51.test(input.charAt(peg$currPos))) {\n        s0 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c52); }\n      }\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.substr(peg$currPos, 2) === peg$c53) {\n          s1 = peg$c53;\n          peg$currPos += 2;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c54); }\n        }\n        if (s1 !== peg$FAILED) {\n          peg$reportedPos = s0;\n          s1 = peg$c55();\n        }\n        s0 = s1;\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.substr(peg$currPos, 2) === peg$c56) {\n            s1 = peg$c56;\n            peg$currPos += 2;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c57); }\n          }\n          if (s1 !== peg$FAILED) {\n            peg$reportedPos = s0;\n            s1 = peg$c58();\n          }\n          s0 = s1;\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.substr(peg$currPos, 2) === peg$c59) {\n              s1 = peg$c59;\n              peg$currPos += 2;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c60); }\n            }\n            if (s1 !== peg$FAILED) {\n              peg$reportedPos = s0;\n              s1 = peg$c61();\n            }\n            s0 = s1;\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              if (input.substr(peg$currPos, 2) === peg$c62) {\n                s1 = peg$c62;\n                peg$currPos += 2;\n              } else {\n                s1 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c63); }\n              }\n              if (s1 !== peg$FAILED) {\n                peg$reportedPos = s0;\n                s1 = peg$c64();\n              }\n              s0 = s1;\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                if (input.substr(peg$currPos, 2) === peg$c65) {\n                  s1 = peg$c65;\n                  peg$currPos += 2;\n                } else {\n                  s1 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c66); }\n                }\n                if (s1 !== peg$FAILED) {\n                  s2 = peg$currPos;\n                  s3 = peg$currPos;\n                  s4 = peg$parsehexDigit();\n                  if (s4 !== peg$FAILED) {\n                    s5 = peg$parsehexDigit();\n                    if (s5 !== peg$FAILED) {\n                      s6 = peg$parsehexDigit();\n                      if (s6 !== peg$FAILED) {\n                        s7 = peg$parsehexDigit();\n                        if (s7 !== peg$FAILED) {\n                          s4 = [s4, s5, s6, s7];\n                          s3 = s4;\n                        } else {\n                          peg$currPos = s3;\n                          s3 = peg$c2;\n                        }\n                      } else {\n                        peg$currPos = s3;\n                        s3 = peg$c2;\n                      }\n                    } else {\n                      peg$currPos = s3;\n                      s3 = peg$c2;\n                    }\n                  } else {\n                    peg$currPos = s3;\n                    s3 = peg$c2;\n                  }\n                  if (s3 !== peg$FAILED) {\n                    s3 = input.substring(s2, peg$currPos);\n                  }\n                  s2 = s3;\n                  if (s2 !== peg$FAILED) {\n                    peg$reportedPos = s0;\n                    s1 = peg$c67(s2);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$c2;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$c2;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return s0;\n    }\n\n    function peg$parsechars() {\n      var s0, s1, s2;\n\n      s0 = peg$currPos;\n      s1 = [];\n      s2 = peg$parsechar();\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          s2 = peg$parsechar();\n        }\n      } else {\n        s1 = peg$c2;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$reportedPos = s0;\n        s1 = peg$c68(s1);\n      }\n      s0 = s1;\n\n      return s0;\n    }\n\n    peg$result = peg$startRuleFunction();\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);\n    }\n  }\n\n  return {\n    SyntaxError: SyntaxError,\n    parse:       parse\n  };\n})();\n\n//# sourceMappingURL=parser.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/intl-messageformat-parser/lib/parser.js\n ** module id = 18\n ** module chunks = 0\n **/","/* jshint node:true */\n\n'use strict';\n\nvar IntlMessageFormat = require('./lib/main')['default'];\n\n// Add all locale data to `IntlMessageFormat`. This module will be ignored when\n// bundling for the browser with Browserify/Webpack.\nrequire('./lib/locales');\n\n// Re-export `IntlMessageFormat` as the CommonJS default exports with all the\n// locale data registered, and with English set as the default locale. Define\n// the `default` prop for use with other compiled ES6 Modules.\nexports = module.exports = IntlMessageFormat;\nexports['default'] = exports;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/intl-messageformat/index.js\n ** module id = 19\n ** module chunks = 0\n **/","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\nexports[\"default\"] = Compiler;\n\nfunction Compiler(locales, formats, pluralFn) {\n    this.locales  = locales;\n    this.formats  = formats;\n    this.pluralFn = pluralFn;\n}\n\nCompiler.prototype.compile = function (ast) {\n    this.pluralStack        = [];\n    this.currentPlural      = null;\n    this.pluralNumberFormat = null;\n\n    return this.compileMessage(ast);\n};\n\nCompiler.prototype.compileMessage = function (ast) {\n    if (!(ast && ast.type === 'messageFormatPattern')) {\n        throw new Error('Message AST is not of type: \"messageFormatPattern\"');\n    }\n\n    var elements = ast.elements,\n        pattern  = [];\n\n    var i, len, element;\n\n    for (i = 0, len = elements.length; i < len; i += 1) {\n        element = elements[i];\n\n        switch (element.type) {\n            case 'messageTextElement':\n                pattern.push(this.compileMessageText(element));\n                break;\n\n            case 'argumentElement':\n                pattern.push(this.compileArgument(element));\n                break;\n\n            default:\n                throw new Error('Message element does not have a valid type');\n        }\n    }\n\n    return pattern;\n};\n\nCompiler.prototype.compileMessageText = function (element) {\n    // When this `element` is part of plural sub-pattern and its value contains\n    // an unescaped '#', use a `PluralOffsetString` helper to properly output\n    // the number with the correct offset in the string.\n    if (this.currentPlural && /(^|[^\\\\])#/g.test(element.value)) {\n        // Create a cache a NumberFormat instance that can be reused for any\n        // PluralOffsetString instance in this message.\n        if (!this.pluralNumberFormat) {\n            this.pluralNumberFormat = new Intl.NumberFormat(this.locales);\n        }\n\n        return new PluralOffsetString(\n                this.currentPlural.id,\n                this.currentPlural.format.offset,\n                this.pluralNumberFormat,\n                element.value);\n    }\n\n    // Unescape the escaped '#'s in the message text.\n    return element.value.replace(/\\\\#/g, '#');\n};\n\nCompiler.prototype.compileArgument = function (element) {\n    var format = element.format;\n\n    if (!format) {\n        return new StringFormat(element.id);\n    }\n\n    var formats  = this.formats,\n        locales  = this.locales,\n        pluralFn = this.pluralFn,\n        options;\n\n    switch (format.type) {\n        case 'numberFormat':\n            options = formats.number[format.style];\n            return {\n                id    : element.id,\n                format: new Intl.NumberFormat(locales, options).format\n            };\n\n        case 'dateFormat':\n            options = formats.date[format.style];\n            return {\n                id    : element.id,\n                format: new Intl.DateTimeFormat(locales, options).format\n            };\n\n        case 'timeFormat':\n            options = formats.time[format.style];\n            return {\n                id    : element.id,\n                format: new Intl.DateTimeFormat(locales, options).format\n            };\n\n        case 'pluralFormat':\n            options = this.compileOptions(element);\n            return new PluralFormat(\n                element.id, format.ordinal, format.offset, options, pluralFn\n            );\n\n        case 'selectFormat':\n            options = this.compileOptions(element);\n            return new SelectFormat(element.id, options);\n\n        default:\n            throw new Error('Message element does not have a valid format type');\n    }\n};\n\nCompiler.prototype.compileOptions = function (element) {\n    var format      = element.format,\n        options     = format.options,\n        optionsHash = {};\n\n    // Save the current plural element, if any, then set it to a new value when\n    // compiling the options sub-patterns. This conforms the spec's algorithm\n    // for handling `\"#\"` syntax in message text.\n    this.pluralStack.push(this.currentPlural);\n    this.currentPlural = format.type === 'pluralFormat' ? element : null;\n\n    var i, len, option;\n\n    for (i = 0, len = options.length; i < len; i += 1) {\n        option = options[i];\n\n        // Compile the sub-pattern and save it under the options's selector.\n        optionsHash[option.selector] = this.compileMessage(option.value);\n    }\n\n    // Pop the plural stack to put back the original current plural value.\n    this.currentPlural = this.pluralStack.pop();\n\n    return optionsHash;\n};\n\n// -- Compiler Helper Classes --------------------------------------------------\n\nfunction StringFormat(id) {\n    this.id = id;\n}\n\nStringFormat.prototype.format = function (value) {\n    if (!value) {\n        return '';\n    }\n\n    return typeof value === 'string' ? value : String(value);\n};\n\nfunction PluralFormat(id, useOrdinal, offset, options, pluralFn) {\n    this.id         = id;\n    this.useOrdinal = useOrdinal;\n    this.offset     = offset;\n    this.options    = options;\n    this.pluralFn   = pluralFn;\n}\n\nPluralFormat.prototype.getOption = function (value) {\n    var options = this.options;\n\n    var option = options['=' + value] ||\n            options[this.pluralFn(value - this.offset, this.useOrdinal)];\n\n    return option || options.other;\n};\n\nfunction PluralOffsetString(id, offset, numberFormat, string) {\n    this.id           = id;\n    this.offset       = offset;\n    this.numberFormat = numberFormat;\n    this.string       = string;\n}\n\nPluralOffsetString.prototype.format = function (value) {\n    var number = this.numberFormat.format(value - this.offset);\n\n    return this.string\n            .replace(/(^|[^\\\\])#/g, '$1' + number)\n            .replace(/\\\\#/g, '#');\n};\n\nfunction SelectFormat(id, options) {\n    this.id      = id;\n    this.options = options;\n}\n\nSelectFormat.prototype.getOption = function (value) {\n    var options = this.options;\n    return options[value] || options.other;\n};\n\n//# sourceMappingURL=compiler.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/intl-messageformat/lib/compiler.js\n ** module id = 20\n ** module chunks = 0\n **/","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\nvar src$utils$$ = require(\"./utils\"), src$es5$$ = require(\"./es5\"), src$compiler$$ = require(\"./compiler\"), intl$messageformat$parser$$ = require(\"intl-messageformat-parser\");\nexports[\"default\"] = MessageFormat;\n\n// -- MessageFormat --------------------------------------------------------\n\nfunction MessageFormat(message, locales, formats) {\n    // Parse string messages into an AST.\n    var ast = typeof message === 'string' ?\n            MessageFormat.__parse(message) : message;\n\n    if (!(ast && ast.type === 'messageFormatPattern')) {\n        throw new TypeError('A message must be provided as a String or AST.');\n    }\n\n    // Creates a new object with the specified `formats` merged with the default\n    // formats.\n    formats = this._mergeFormats(MessageFormat.formats, formats);\n\n    // Defined first because it's used to build the format pattern.\n    src$es5$$.defineProperty(this, '_locale',  {value: this._resolveLocale(locales)});\n\n    // Compile the `ast` to a pattern that is highly optimized for repeated\n    // `format()` invocations. **Note:** This passes the `locales` set provided\n    // to the constructor instead of just the resolved locale.\n    var pluralFn = this._findPluralRuleFunction(this._locale);\n    var pattern  = this._compilePattern(ast, locales, formats, pluralFn);\n\n    // \"Bind\" `format()` method to `this` so it can be passed by reference like\n    // the other `Intl` APIs.\n    var messageFormat = this;\n    this.format = function (values) {\n        return messageFormat._format(pattern, values);\n    };\n}\n\n// Default format options used as the prototype of the `formats` provided to the\n// constructor. These are used when constructing the internal Intl.NumberFormat\n// and Intl.DateTimeFormat instances.\nsrc$es5$$.defineProperty(MessageFormat, 'formats', {\n    enumerable: true,\n\n    value: {\n        number: {\n            'currency': {\n                style: 'currency'\n            },\n\n            'percent': {\n                style: 'percent'\n            }\n        },\n\n        date: {\n            'short': {\n                month: 'numeric',\n                day  : 'numeric',\n                year : '2-digit'\n            },\n\n            'medium': {\n                month: 'short',\n                day  : 'numeric',\n                year : 'numeric'\n            },\n\n            'long': {\n                month: 'long',\n                day  : 'numeric',\n                year : 'numeric'\n            },\n\n            'full': {\n                weekday: 'long',\n                month  : 'long',\n                day    : 'numeric',\n                year   : 'numeric'\n            }\n        },\n\n        time: {\n            'short': {\n                hour  : 'numeric',\n                minute: 'numeric'\n            },\n\n            'medium':  {\n                hour  : 'numeric',\n                minute: 'numeric',\n                second: 'numeric'\n            },\n\n            'long': {\n                hour        : 'numeric',\n                minute      : 'numeric',\n                second      : 'numeric',\n                timeZoneName: 'short'\n            },\n\n            'full': {\n                hour        : 'numeric',\n                minute      : 'numeric',\n                second      : 'numeric',\n                timeZoneName: 'short'\n            }\n        }\n    }\n});\n\n// Define internal private properties for dealing with locale data.\nsrc$es5$$.defineProperty(MessageFormat, '__localeData__', {value: src$es5$$.objCreate(null)});\nsrc$es5$$.defineProperty(MessageFormat, '__addLocaleData', {value: function (data) {\n    if (!(data && data.locale)) {\n        throw new Error(\n            'Locale data provided to IntlMessageFormat is missing a ' +\n            '`locale` property'\n        );\n    }\n\n    MessageFormat.__localeData__[data.locale.toLowerCase()] = data;\n}});\n\n// Defines `__parse()` static method as an exposed private.\nsrc$es5$$.defineProperty(MessageFormat, '__parse', {value: intl$messageformat$parser$$[\"default\"].parse});\n\n// Define public `defaultLocale` property which defaults to English, but can be\n// set by the developer.\nsrc$es5$$.defineProperty(MessageFormat, 'defaultLocale', {\n    enumerable: true,\n    writable  : true,\n    value     : undefined\n});\n\nMessageFormat.prototype.resolvedOptions = function () {\n    // TODO: Provide anything else?\n    return {\n        locale: this._locale\n    };\n};\n\nMessageFormat.prototype._compilePattern = function (ast, locales, formats, pluralFn) {\n    var compiler = new src$compiler$$[\"default\"](locales, formats, pluralFn);\n    return compiler.compile(ast);\n};\n\nMessageFormat.prototype._findPluralRuleFunction = function (locale) {\n    var localeData = MessageFormat.__localeData__;\n    var data       = localeData[locale.toLowerCase()];\n\n    // The locale data is de-duplicated, so we have to traverse the locale's\n    // hierarchy until we find a `pluralRuleFunction` to return.\n    while (data) {\n        if (data.pluralRuleFunction) {\n            return data.pluralRuleFunction;\n        }\n\n        data = data.parentLocale && localeData[data.parentLocale.toLowerCase()];\n    }\n\n    throw new Error(\n        'Locale data added to IntlMessageFormat is missing a ' +\n        '`pluralRuleFunction` for :' + locale\n    );\n};\n\nMessageFormat.prototype._format = function (pattern, values) {\n    var result = '',\n        i, len, part, id, value;\n\n    for (i = 0, len = pattern.length; i < len; i += 1) {\n        part = pattern[i];\n\n        // Exist early for string parts.\n        if (typeof part === 'string') {\n            result += part;\n            continue;\n        }\n\n        id = part.id;\n\n        // Enforce that all required values are provided by the caller.\n        if (!(values && src$utils$$.hop.call(values, id))) {\n            throw new Error('A value must be provided for: ' + id);\n        }\n\n        value = values[id];\n\n        // Recursively format plural and select parts' option — which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (part.options) {\n            result += this._format(part.getOption(value), values);\n        } else {\n            result += part.format(value);\n        }\n    }\n\n    return result;\n};\n\nMessageFormat.prototype._mergeFormats = function (defaults, formats) {\n    var mergedFormats = {},\n        type, mergedType;\n\n    for (type in defaults) {\n        if (!src$utils$$.hop.call(defaults, type)) { continue; }\n\n        mergedFormats[type] = mergedType = src$es5$$.objCreate(defaults[type]);\n\n        if (formats && src$utils$$.hop.call(formats, type)) {\n            src$utils$$.extend(mergedType, formats[type]);\n        }\n    }\n\n    return mergedFormats;\n};\n\nMessageFormat.prototype._resolveLocale = function (locales) {\n    if (typeof locales === 'string') {\n        locales = [locales];\n    }\n\n    // Create a copy of the array so we can push on the default locale.\n    locales = (locales || []).concat(MessageFormat.defaultLocale);\n\n    var localeData = MessageFormat.__localeData__;\n    var i, len, localeParts, data;\n\n    // Using the set of locales + the default locale, we look for the first one\n    // which that has been registered. When data does not exist for a locale, we\n    // traverse its ancestors to find something that's been registered within\n    // its hierarchy of locales. Since we lack the proper `parentLocale` data\n    // here, we must take a naive approach to traversal.\n    for (i = 0, len = locales.length; i < len; i += 1) {\n        localeParts = locales[i].toLowerCase().split('-');\n\n        while (localeParts.length) {\n            data = localeData[localeParts.join('-')];\n            if (data) {\n                // Return the normalized locale string; e.g., we return \"en-US\",\n                // instead of \"en-us\".\n                return data.locale;\n            }\n\n            localeParts.pop();\n        }\n    }\n\n    var defaultLocale = locales.pop();\n    throw new Error(\n        'No locale data has been added to IntlMessageFormat for: ' +\n        locales.join(', ') + ', or the default locale: ' + defaultLocale\n    );\n};\n\n//# sourceMappingURL=core.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/intl-messageformat/lib/core.js\n ** module id = 21\n ** module chunks = 0\n **/","// GENERATED FILE\n\"use strict\";\nexports[\"default\"] = {\"locale\":\"en\",\"pluralRuleFunction\":function (n,ord){var s=String(n).split(\".\"),v0=!s[1],t0=Number(s[0])==n,n10=t0&&s[0].slice(-1),n100=t0&&s[0].slice(-2);if(ord)return n10==1&&n100!=11?\"one\":n10==2&&n100!=12?\"two\":n10==3&&n100!=13?\"few\":\"other\";return n==1&&v0?\"one\":\"other\"}};\n\n//# sourceMappingURL=en.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/intl-messageformat/lib/en.js\n ** module id = 22\n ** module chunks = 0\n **/","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n/* jslint esnext: true */\n\n\"use strict\";\nvar src$utils$$ = require(\"./utils\");\n\n// Purposely using the same implementation as the Intl.js `Intl` polyfill.\n// Copyright 2013 Andy Earnshaw, MIT License\n\nvar realDefineProp = (function () {\n    try { return !!Object.defineProperty({}, 'a', {}); }\n    catch (e) { return false; }\n})();\n\nvar es3 = !realDefineProp && !Object.prototype.__defineGetter__;\n\nvar defineProperty = realDefineProp ? Object.defineProperty :\n        function (obj, name, desc) {\n\n    if ('get' in desc && obj.__defineGetter__) {\n        obj.__defineGetter__(name, desc.get);\n    } else if (!src$utils$$.hop.call(obj, name) || 'value' in desc) {\n        obj[name] = desc.value;\n    }\n};\n\nvar objCreate = Object.create || function (proto, props) {\n    var obj, k;\n\n    function F() {}\n    F.prototype = proto;\n    obj = new F();\n\n    for (k in props) {\n        if (src$utils$$.hop.call(props, k)) {\n            defineProperty(obj, k, props[k]);\n        }\n    }\n\n    return obj;\n};\nexports.defineProperty = defineProperty, exports.objCreate = objCreate;\n\n//# sourceMappingURL=es5.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/intl-messageformat/lib/es5.js\n ** module id = 23\n ** module chunks = 0\n **/","/* jslint esnext: true */\n\n\"use strict\";\nvar src$core$$ = require(\"./core\"), src$en$$ = require(\"./en\");\n\nsrc$core$$[\"default\"].__addLocaleData(src$en$$[\"default\"]);\nsrc$core$$[\"default\"].defaultLocale = 'en';\n\nexports[\"default\"] = src$core$$[\"default\"];\n\n//# sourceMappingURL=main.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/intl-messageformat/lib/main.js\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = {\n\t\"en\": {\n\t\t\"prompt\": \"Enter message...\",\n\t\t\"thinking\": \"Agent is thinking...\",\n\t\t\"anything_else\": \"Is there anything else I can help you with?\",\n\t\t\"edit\": \"edit\",\n\t\t\"list_sep\": \", \",\n\t\t\"reconnect\": \"Attempting to reconnect...\",\n\t\t\"basic_err\": \"I am sorry, I am having difficulties.\",\n\t\t\"loading_failure1\": \"<span class=\\\"IBMChat-loading-failure-message-text\\\">I cannot complete your request. You can try a new request or <a class=\\\"IBMChat-loading-retry-link\\\" data-retry=\\\"true\\\" href=\\\"javascript:void(false);\\\">restart the conversation.</a></span>\",\n\t\t\"loading_failure2\": \"<span class=\\\"IBMChat-loading-failure-message-text\\\">I cannot complete your request. Please <a class=\\\"IBMChat-loading-retry-link\\\" data-retry=\\\"true\\\" href=\\\"javascript:void(false);\\\">restart the conversation.</a></span>\",\n\t\t\"submit\": \"Submit\",\n\t\t\"cancel\": \"Cancel\",\n\t\t\"required_field\": \"This field is required.\",\n\t\t\"placeholder_mon\": \"MM\",\n\t\t\"placeholder_year\": \"YYYY\",\n\t\t\"cc_name\": \"Name on Card\",\n\t\t\"cc_num\": \"Credit Card Number\",\n\t\t\"cc_exp_mon\": \"Expiration Date Month\",\n\t\t\"cc_exp_year\": \"Expiration Date Year\",\n\t\t\"cc_code\": \"CVV\",\n\t\t\"cc_code_alt\": \"\",\n\t\t\"cc_use_valid\": \"Please use a valid card. We accept the following: \",\n\t\t\"cc_invalid\": \"Your credit card number is invalid.\",\n\t\t\"cc_invalid_exp\": \"Your credit card expiration date is invalid.\",\n\t\t\"cc_invalid_code\": \"Your CVV is invalid.\",\n\t\t\"loc_curr\": \"Current Location\",\n\t\t\"postal_code\": \"Zip Code\",\n\t\t\"loc_prompt\": \"Please share your current location.\",\n\t\t\"loc_share\": \"Your browser is asking you to share your location...\",\n\t\t\"loc_share_granted\": \"You have allowed your browser to share your current location.\",\n\t\t\"loc_looking\": \"Looking up your current location...\",\n\t\t\"loc_share_denied\": \"You have denied sharing your location on this website.\",\n\t\t\"loc_not_shared_prompt\": \"Please enable location sharing or continue with your Zip Code.\",\n\t\t\"loc_all\": \"All Locations\",\n\t\t\"loc_closed_today\": \"Closed today.\",\n\t\t\"loc_open_today\": \"Open today.\",\n\t\t\"loc_open_today_more\": \"<span class=\\\"{ns}-hours-open\\\">Open today:</span><span class=\\\"{ns}-hours-today\\\"> {open, time, short} &ndash; {close, time, short}</span>\",\n\t\t\"loc_hours_open\": \"<span class=\\\"{ns}-days-hours-day\\\">{openDay, date, weekday_short}:</span>&nbsp;<span class=\\\"{ns}-days-hours-hours\\\">{open, time, short} &ndash; {close, time, short}</span>\",\n\t\t\"loc_hours_open_multiday\": \"<span class=\\\"{ns}-days-hours-day\\\">{openDay, date, weekday_short}&ndash;{closeDay, date, weekday_short}:</span>&nbsp;<span class=\\\"{ns}-days-hours-hours\\\">{open, time, short} &ndash; {close, time, short}</span>\",\n\t\t\"loc_hours_unknown\": \"<span class=\\\"{ns}-days-hours-day\\\">{day, date, weekday_short}:</span>&nbsp;<span class=\\\"{ns}-days-hours-hours\\\">Hours unknown</span>\",\n\t\t\"loc_hours_closed\": \"<span class=\\\"{ns}-days-hours-day\\\">{day, date, weekday_short}:</span>&nbsp;<span class=\\\"{ns}-days-hours-hours\\\">Closed</span>\",\n\t\t\"loc_nearby_none\": \"We could not find any locations close to you.\",\n\t\t\"loc_nearby_single\": \"Here are the details for this location:\",\n\t\t\"loc_nearby_list\": \"Here are the locations I found close to you:\",\n\t\t\"google_maps_url\": \"https://maps.google.com/\"\n\t}\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/json-loader!./~/yaml-loader!./src/lang/en.yaml\n ** module id = 25\n ** module chunks = 0\n **/","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_apply.js\n ** module id = 26\n ** module chunks = 0\n **/","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_arrayLikeKeys.js\n ** module id = 27\n ** module chunks = 0\n **/","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_baseKeys.js\n ** module id = 28\n ** module chunks = 0\n **/","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = baseRest;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_baseRest.js\n ** module id = 29\n ** module chunks = 0\n **/","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_baseTimes.js\n ** module id = 30\n ** module chunks = 0\n **/","var assignValue = require('./_assignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_copyObject.js\n ** module id = 31\n ** module chunks = 0\n **/","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_createAssigner.js\n ** module id = 32\n ** module chunks = 0\n **/","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_isIterateeCall.js\n ** module id = 33\n ** module chunks = 0\n **/","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_nativeKeys.js\n ** module id = 34\n ** module chunks = 0\n **/","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_overArg.js\n ** module id = 35\n ** module chunks = 0\n **/","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\nmodule.exports = isArguments;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isArguments.js\n ** module id = 36\n ** module chunks = 0\n **/","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isArray.js\n ** module id = 37\n ** module chunks = 0\n **/","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isArrayLikeObject.js\n ** module id = 38\n ** module chunks = 0\n **/","var isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isFunction.js\n ** module id = 39\n ** module chunks = 0\n **/","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isLength.js\n ** module id = 40\n ** module chunks = 0\n **/","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isObjectLike.js\n ** module id = 41\n ** module chunks = 0\n **/","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/keys.js\n ** module id = 42\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-container IBMChat-secondary-colors\\\"> <div class=\\\"${ns}-row\\\"> <fieldset aria-describedby=\\\"cc_full_name_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_full_name_${uuid}\\\">${cc_name}</label> <input type=\\\"text\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"cc_full_name_${uuid}\\\" name=\\\"cc_full_name\\\" placeholder=\\\"${cc_name}\\\"/> <div id=\\\"cc_full_name_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_full_name\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </fieldset> </div> <div class=\\\"${ns}-row\\\"> <fieldset aria-describedby=\\\"cc_number_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_number_${uuid}\\\">${cc_num}</label> <input type=\\\"text\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"cc_number_${uuid}\\\" name=\\\"cc_number\\\" placeholder=\\\"${cc_num}\\\"/> <div id=\\\"cc_number_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_number\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </fieldset> </div> <div class=\\\"${ns}-row\\\"> <div class=\\\"${ns}-col\\\"> <fieldset aria-describedby=\\\"cc_exp_date_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_exp_date_month_${uuid}\\\">${cc_exp_mon}</label> <input class=\\\"${ns}-date IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_exp_date_month_${uuid}\\\" name=\\\"cc_exp_date_month\\\" placeholder=\\\"${placeholder_mon}\\\" size=\\\"3\\\" /> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_exp_date_year_${uuid}\\\">${cc_exp_year}</label> <input class=\\\"${ns}-date IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_exp_date_year_${uuid}\\\" name=\\\"cc_exp_date_year\\\" placeholder=\\\"${placeholder_year}\\\" size=\\\"5\\\" /> </fieldset> </div> <div class=\\\"${ns}-col\\\"> <fieldset aria-describedby=\\\"cc_code_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_code_${uuid}\\\">${cc_code_alt}</label> <input class=\\\"${ns}-cvv IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_code_${uuid}\\\" name=\\\"cc_code\\\" placeholder=\\\"${cc_code}\\\" size=\\\"6\\\" title=\\\"${cc_code_alt}\\\"/> </fieldset> </div> <div id=\\\"cc_exp_date_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_exp_date\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> <div id=\\\"cc_code_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_code\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </div> <div class=\\\"IBMChat-form-buttons\\\"> <button class=\\\"IBMChat-form-submit\\\">${submit}</button> <button class=\\\"IBMChat-form-cancel\\\">${cancel}</button> </div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/cc-validator/templates/base.html\n ** module id = 43\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-container\\\"> <div><button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"latlong\\\">${loc_curr}</button></div> <div><button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"zipcode\\\">${postal_code}</button></div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose-location-type/templates/base.html\n ** module id = 44\n ** module chunks = 0\n **/","module.exports = \"<button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"${text}\\\">${text}</button>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose/templates/button.html\n ** module id = 45\n ** module chunks = 0\n **/","module.exports = \"<button>${text}</button>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose/templates/submit.html\n ** module id = 46\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"IBMChat-error IBMChat-error-colors\\\"></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/error/templates/base.html\n ** module id = 47\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"IBMChat-form-container IBMChat-secondary-colors\\\"> <div class=\\\"IBMChat-form-fields\\\"></div> <div class=\\\"IBMChat-form-buttons\\\"> <button class=\\\"IBMChat-form-submit\\\">${submit}</button> <button class=\\\"IBMChat-form-cancel\\\">${cancel}</button> </div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/form/templates/base.html\n ** module id = 48\n ** module chunks = 0\n **/","module.exports = \"<fieldset aria-describedby=\\\"${name}_${uuid}_error\\\"> <label for=\\\"${name}_${uuid}\\\">${label}</label> <input type=\\\"${type}\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"${name}_${uuid}\\\" name=\\\"${name}\\\" value=\\\"${value}\\\" data-index=\\\"${index}\\\"/> <div id=\\\"${name}_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" style=\\\"display:none;\\\" data-validation-for=\\\"${name}\\\" data-valid=\\\"true\\\"></div></fieldset>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/form/templates/field.html\n ** module id = 49\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-locations-item ${ns}-data-section\\\"> <div class=\\\"${ns}-locations-item-data-title\\\"></div> <div class=\\\"${ns}-data-float-holder\\\"> <div class=\\\"${ns}-locations-item-data\\\"> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-section\\\"> <a class=\\\"${ns}-locations-item-data-address-link\\\"> <div class=\\\"${ns}-locations-item-data-address\\\"></div> </a> </div> <div class=\\\"IBMChat-small-hide\\\"> <div class=\\\"${ns}-locations-item-data-hours\\\"></div> <div class=\\\"${ns}-locations-item-data-timezone\\\"></div> <div class=\\\"${ns}-locations-item-data-more-hours\\\"></div> </div> </div> </div> <div class=\\\"${ns}-locations-item-data\\\"> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-phone\\\"></div> <div class=\\\"${ns}-locations-item-data-email\\\"></div> </div> </div> </div> <div> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"IBMChat-small-show\\\"> <div class=\\\"${ns}-locations-item-data-hours\\\"></div> <div class=\\\"${ns}-locations-item-data-timezone\\\"></div> <div class=\\\"${ns}-locations-item-data-more-hours\\\"></div> </div> </div> <div class=\\\"${ns}-locations-all-holder\\\"> <button class=\\\"${ns}-locations-all IBMChat-accent-colors-button\\\">${loc_all}</button> </div> </div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/add-location-item.html\n ** module id = 50\n ** module chunks = 0\n **/","module.exports = \"<button aria-label=\\\"${address}\\\" class=\\\"${ns}-locations-item ${ns}-multiple-locations ${ns}-data-section\\\"> <div class=\\\"${ns}-locations-row\\\"> <div class=\\\"${ns}-locations-item-icon-holder ${ns}-locations-cell\\\"> <div class=\\\"${ns}-locations-item-icon\\\" style=\\\"color: ${accentText}; background: ${accentBackground};\\\">${iconText}</div> </div> <div class=\\\"${ns}-locations-cell\\\"> <div class=\\\"${ns}-locations-item-data-title\\\">${title}</div> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-address\\\">${address}</div> </div> </div> </div></button>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/add-locations-item.html\n ** module id = 51\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}\\\"> <div class=\\\"${ns}-img\\\"></div> <div class=\\\"${ns}-data\\\"></div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/base.html\n ** module id = 52\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-contact-type\\\"></div><div class=\\\"${ns}-contact-data\\\"></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/create-dom-array.html\n ** module id = 53\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-hours-timezone\\\">( ${timezone} )</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-timezone.html\n ** module id = 54\n ** module chunks = 0\n **/","module.exports = \"<span class=\\\"${ns}-hours-open\\\">${loc_closed_today}</span>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-today-closed.html\n ** module id = 55\n ** module chunks = 0\n **/","module.exports = \"<span class=\\\"${ns}-hours-open\\\">${loc_open_today}</span>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-today-unknown.html\n ** module id = 56\n ** module chunks = 0\n **/","module.exports = \".IBMChat { height: 100%; width: 100%;}/* utils */.IBMChat-hidden { display: none;}.IBMChat-relative { position: relative;}.IBMChat-outer-container { border: none; box-sizing: border-box; display: table; table-layout: fixed; font-weight: normal; line-height: 1em; height: 100%; margin: 0 auto 0 auto; max-width: 768px; min-height: 300px; min-width: 288px; padding: 0; position: relative; text-align: left; width: 100%;}/* Agent Component */.IBMChat-inner-container { display: table-cell; height: 100%; margin: 0; padding: 0 1em 0 1em; vertical-align: bottom;}/* Chat Component */.IBMChat-chat-container { display: table-row; margin: 0; padding: 0;}/* Messages Component */.IBMChat-messages { height: auto; overflow-x: hidden; overflow-y: auto; padding: 0 1em 0 1em;}.IBMChat-messages label { display: block; font-weight: bold;}.IBMChat-messages input { border: 0; border-radius: 0; font-size: 1em; margin: 0; padding: 0 0 0.25em 0;}.IBMChat-messages button { background: none; border: 0; border-radius: 1em; color: inherit; cursor: pointer; font: inherit; line-height: 1.5em; margin: 0; padding: 0.25em 1em 0.25em 1em; text-align: left; -webkit-appearance: button; /* for input */ -webkit-user-select: none; /* for button */ -moz-user-select: none; -ms-user-select: none;}.IBMChat-messages button[disabled=\\\"true\\\"] { cursor: default; opacity: .5;}.IBMChat-messages button[disabled=\\\"true\\\"]:focus { outline: none;}.IBMChat-messages button::-moz-focus-inner { border: 0; padding: 0;}.IBMChat-watson-intent:not(:empty) { display: flex; align-items: baseline; margin: 1em; padding: 0.5em 0.75em 0.5em 0.75em; background-color: #595859; /* gray 60 */ border: 1px solid #777677; /* gray 50 */ border-radius: 4px; line-height: 1.1em; /* required due to `overflow` in `label` below */}.IBMChat-watson-intent label { flex: 1 1 auto; font-weight: normal; color: #eaeaea; /* gray 1 */ text-transform: none; overflow: hidden; word-wrap: break-word; /* old prop name; required by IE */ overflow-wrap: break-word; /* standard prop name */}.IBMChat-watson-intent a { margin-left: 0.5em;}/* WatsonMessage Component */.IBMChat-watson-message-container { margin: 1em 0 1em 0; position: relative;}.IBMChat-watson-message { line-height: 1.5em; min-height: 1.5em; padding: 0 0 0 1em; word-wrap: break-word;}.IBMChat-watson-message a { display: inline-block; word-break: break-all;}.IBMChat-watson-message-line { left: 0; height: 1.5em; position: absolute; top: 0;}.IBMChat-disabled-layout { opacity: 0.7;}/* UserMessage Component */.IBMChat-user-message-container {\\tmargin: 1em 0 1em 2em;\\ttext-align: right;}.IBMChat-user-message { border-radius: 4px; display: inline-block; line-height: 1.5em; padding: 0.5em 0.75em 0.5em 0.75em; text-align: left; max-width: 100%; overflow: hidden; word-wrap: break-word;}/* Input Component */.IBMChat-input-container { display: table-row; margin: 0; padding: 0;}.IBMChat-input-form { display: table-cell; position: relative; min-height: 30px;}.IBMChat-chat-textbox-container { min-height: 30px; padding: 1em 2em 2em 2em;}.IBMChat-chat-textbox-clone-holder { height: 0; overflow: hidden;}.IBMChat-chat-textbox-clone { border-bottom: 1px solid transparent; font-weight: normal; line-height: 1.5em; margin: 0; min-height: 26px; padding: 0; position: relative; white-space: pre-wrap; white-space: pre-line; word-wrap: break-word; visibility: hidden;}.IBMChat-chat-textbox { background: transparent; border: none; border-radius: 0; border-image-width: 0; color: inherit; font-weight: normal; height: 1.5em; line-height: 1.5em; margin: 0; min-height: 26px; overflow: hidden; padding: 0 0 3px 0; resize: none; text-wrap: unrestricted; vertical-align: bottom; width: 100%; white-space: pre-wrap; white-space: pre-line; word-wrap: break-word;}.IBMChat-chat-textbox[disabled='disabled'] { opacity: 0.5;}.IBMChat-input-form::-webkit-input-placeholder { opacity: 1;}.IBMChat-chat-textbox:focus {\\toutline: none;\\tpadding: 0 0 2px 0;}/* Layout Component */.IBMChat-watson-layout { padding: 4px;}/* validation error message */.IBMChat-validation-error { padding: 0.5em; font-size: 0.9em;}/* class to hide an element from everyone but screen readers for visually impared */.IBMChat-screen-reader-text {\\tclip: rect(1px, 1px, 1px, 1px);\\theight: 1px;\\twidth: 1px;\\toverflow: hidden;\\tposition: absolute !important;}/* Loading */.IBMChat-loading-container { margin-bottom: 1em;}.IBMChat-loading { min-height: 30px; position: relative;}.IBMChat-loading-icon { height: 30px; width: 10px; position: absolute; top: 0; left: -4px;}.IBMChat-ball { position: absolute; left: 5px; width: 5px; height: 5px; border-radius: 50%;}.IBMChat-ball:nth-child(1) { top: 7.5px;}.IBMChat-ball:nth-child(2) { top: 17.5px;}.IBMChat-ball:nth-child(3) { top: 12.5px;}.IBMChat-loading-message { display: inline-block; min-height: 30px; line-height: 1.2em; padding: 5px 1em 0 1em;}.IBMChat-bouncing { animation: bounceBack 420ms infinite; animation-direction: alternate; animation-timing-function: ease-in-out; animation-timing-function: cubic-bezier(.42,0,1,1);}.IBMChat-bouncing:nth-child(2) { animation: bounce 420ms infinite; animation-direction: alternate; animation-timing-function: ease-in-out; animation-timing-function: cubic-bezier(.42,0,1,1);}@keyframes bounce { 0% { transform: translateY(5px); } 72% { transform: translateY(-5px); } 72%,100%{ transform: translateY(-5px); }}@keyframes bounceBack { 0% { transform: translateY(-5px); } 72% { transform: translateY(5px); } 72%,100%{ transform: translateY(5px); }}/* responsive */.IBMChat-small-show { display: unset;}.IBMChat-small-hide { display: none;}.IBMChat-isLarge .IBMChat-small-show { display: none;}.IBMChat-isLarge .IBMChat-small-hide { display: unset;}/* cc-validator */.IBMChat-creditcard-container { margin-top: 1em; padding: 1em 1.5em 1em 1.5em; width: 240px;}.IBMChat-creditcard-container fieldset { border:none; margin:0; padding:0;}.IBMChat-creditcard-row { padding-bottom: 1em;}.IBMChat-creditcard-row input[name=\\\"cc_full_name\\\"], .IBMChat-creditcard-row input[name=\\\"cc_number\\\"] { width: 100%;}.IBMChat-creditcard-row input[name=\\\"cc_exp_date_month\\\"] { max-width: 32px;}.IBMChat-creditcard-row input[name=\\\"cc_exp_date_year\\\"], .IBMChat-creditcard-row input[name=\\\"cc_code\\\"] { max-width: 64px;}.IBMChat-creditcard-col { display: inline-block;}.IBMChat-creditcard-col:nth-child(2) { padding-left:1.5em;}.IBMChat-creditcard-buttons:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-creditcard-buttons button { width: 95px; float: left; text-overflow: clip;}.IBMChat-creditcard-buttons button:last-child { float: right; text-overflow: clip;}/* choose */.IBMChat-choose-container > div {\\tmargin-top: 1em;}/* choose location type */.IBMChat-islocationapi-container > div {\\tmargin-top: 1em;}/* error */.IBMChat-error { padding: 0.5em 1em 0.5em 1em;}/* form */.IBMChat-form-container { margin-top: 1em; padding: 1em 1.5em 1em 1.5em; width: 240px;}.IBMChat-form-container fieldset { border:none; margin:0; padding:0;}.IBMChat-form-fields { width:100%;}.IBMChat-form-fields-row { padding-bottom:1.5em;}.IBMChat-form-fields-row input { width: 100%;}.IBMChat-form-buttons { text-align:center; width: 100%;}.IBMChat-form-buttons:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}button.IBMChat-form-submit { margin-bottom: 1em; text-align: center; width: 100%;}button.IBMChat-form-cancel, button.IBMChat-form-cancel.IBMChat-accent-colors { border: 0 !important; border-radius:0; font-size: 0.8em; line-height:1em; padding: 2px 4px 2px 4px; text-align:center;}/* locations */.IBMChat-map { margin-top: 1em;}.IBMChat-map-data { font-size:0.85em;}.IBMChat-map-img { overflow: hidden;}.IBMChat-map-img img { margin: 0 0 0.5em 0; height: 120px;}.IBMChat-map-multiple-locations { cursor: default; display: table; width: 100%;}.IBMChat-map-multiple-locations .IBMChat-map-locations-row { display:table-row; width: 100%;}.IBMChat-map-multiple-locations .IBMChat-map-locations-cell { display: table-cell; overflow: hidden; word-wrap: break-word;}.IBMChat-map-location-active .IBMChat-map-multiple-locations { opacity: 1;}.IBMChat-map-locations-item.IBMChat-map-multiple-locations { padding: 0.5em 0 0.5em 0; white-space: normal;}.IBMChat-disabled-layout .IBMChat-map-locations-item.IBMChat-map-multiple-locations { cursor: default;}.IBMChat-map-data-section { margin-top:0.5em;}.IBMChat-map-data-float-holder:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-map-locations-item { border-bottom:1px solid #505050; text-align:left; padding: 1em;}.IBMChat-map-locations-item-icon-holder { text-align:center; width: 40px;}.IBMChat-map-locations-item-icon { border-radius: 24px; height:24px; line-height: 24px; margin-right:8px; width:24px;}.IBMChat-map-locations-item-data {}.IBMChat-map-locations-item-data-title { font-size:1.3em; font-weight:300; line-height:1.2em;}.IBMChat-map-locations-item-data-section { padding-bottom:0.5em;}.IBMChat-map-locations-item-data-email { padding-bottom:0;}.IBMChat-map-locations-item-data-phone { display: table; max-width:400px; width: 100%;}.IBMChat-map-contact-row { padding-bottom:0.5em;}.IBMChat-map-contact-type { font-size:0.9em;}button.IBMChat-map-locations-all { font-size:0.9em; line-height:1.5em; margin: 1em 0 0 0; padding: 0 0.5em 0 0.5em;}.IBMChat-map-hours-open { font-weight: bold;}.IBMChat-map-days-hours-day, .IBMChat-map-days-hours-hours, .IBMChat-map-days-hours-closed { overflow: hidden; word-wrap: break-word;}.IBMChat-map-days-hours-day { font-weight: bold;}.IBMChat-map-hours-timezone { font-size: 0.8em; padding-bottom: 0.5em;}.IBMChat-map-locations-item-data-hours { margin-top:0.5em;}.IBMChat-isLarge .IBMChat-map-locations-item-data { float:left; padding-right:5%; width:45%;}.IBMChat-isLarge .IBMChat-map-locations-item-data-hours { margin-top:0;}.IBMChat-isLarge .IBMChat-map-locations-item-data-more-hours { margin-top:0.5em;}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/styles.css\n ** module id = 57\n ** module chunks = 0\n **/","module.exports = \"<form class=\\\"IBMChat-input-form\\\"> <div class=\\\"IBMChat-chat-text-container\\\"> <div class=\\\"IBMChat-chat-textbox-container\\\"> <textarea aria-labelledby=\\\"Enter a Message\\\" class=\\\"IBMChat-chat-textbox\\\" placeholder=\\\"${placeholder}\\\"></textarea> <div class=\\\"IBMChat-chat-textbox-clone-holder\\\"> <div class=\\\"IBMChat-chat-textbox-clone\\\" aria-hidden=\\\"true\\\">${placeholder}</div> </div> </div> </div></form>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/input.html\n ** module id = 58\n ** module chunks = 0\n **/","module.exports = \"<section class=\\\"IBMChat-loading-container\\\"> <div class=\\\"IBMChat-loading IBMChat-hidden\\\"> <div class=\\\"IBMChat-loading-icon\\\" aria-hidden=\\\"true\\\"> <div class=\\\"IBMChat-ball IBMChat-bouncing\\\"></div> <div class=\\\"IBMChat-ball IBMChat-bouncing\\\"></div> <div class=\\\"IBMChat-ball\\\"></div> </div> <div class=\\\"IBMChat-loading-message\\\"> <span class=\\\"IBMChat-loading-message-text\\\"></span> <span class=\\\"IBMChat-loading-message-retry\\\"> <span class=\\\"IBMChat-loading-retry-message IBMChat-hidden\\\">${retryAttempt}</span> </span> </div> </div> <div class=\\\"IBMChat-loading-failure-message IBMChat-watson-message-container IBMChat-hidden\\\"> <div class=\\\"IBMChat-watson-message-line\\\"></div> <div class=\\\"IBMChat-watson-message\\\"></div> </div></section>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/loading.html\n ** module id = 59\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"IBMChat-watson-message-container\\\"></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/receive.html\n ** module id = 60\n ** module chunks = 0\n **/","module.exports = \"<div id=\\\"${data.uuid}\\\" class=\\\"IBMChat-user-message-container\\\"> <div class=\\\"IBMChat-user-message IBMChat-secondary-colors\\\"></div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/send.html\n ** module id = 61\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"IBMChat\\\"> <div class=\\\"IBMChat-outer-container IBMChat-default-colors\\\"> <div class=\\\"IBMChat-fade\\\"></div> <div class=\\\"IBMChat-chat-container\\\"> <div class=\\\"IBMChat-inner-container\\\"> <div class=\\\"IBMChat-messages\\\"></div> </div> </div> </div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/start.html\n ** module id = 62\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar layouts = require('./layouts');\nvar events = require('./events');\nvar eventHandlers = require('./events/handlers');\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar state = require('./state');\nvar context = require('./context');\nvar utils = require('./utils');\nvar profile = require('./profile');\nvar assign = require('lodash/assign');\nvar styles = require('./styles');\nvar defaultStyles = styles.defaultStyles;\n\n\nvar layoutInit = {};\nvar registeredLayouts = [];\n\nfunction registerEvents(tryIt, playback) {\n  events.subscribe('start', eventHandlers.start);\n  events.subscribe('chatID', eventHandlers.chatID);\n  events.subscribe('resize', eventHandlers.resize);\n  events.subscribe('disable-input', eventHandlers.input.disableInput);\n  events.subscribe('enable-loading', eventHandlers.input.enableLoadingInput);\n  events.subscribe('disable-loading', eventHandlers.input.disableLoadingInput);\n  events.subscribe('scroll-to-bottom', eventHandlers.scrollToBottom);\n  events.subscribe('receive', eventHandlers.receive);\n  if (playback === true) { //TODO: remove if playback when Dashboard code is updated\n    events.subscribe('send', eventHandlers.sendMock);\n  } else {\n    events.subscribe('clear', eventHandlers.clear);\n    events.subscribe('send', eventHandlers.send.send);\n    events.subscribe('retry', eventHandlers.send.retry);\n    events.subscribe('send-input-message', eventHandlers.sendInputMessage);\n    events.subscribe('enable-retry', eventHandlers.error.retry);\n    events.subscribe('enable-input', eventHandlers.input.enableInput);\n    events.subscribe('focus-input', eventHandlers.input.focusInput);\n    events.subscribe('send-mock', eventHandlers.sendMock);\n    events.subscribe('error-clear', eventHandlers.error.clearError);\n    events.subscribe('reset', eventHandlers.reset);\n  }\n  if (tryIt === true) {\n    events.subscribe('try-it-error', eventHandlers.error.tryIt);\n    events.subscribe('try-it-layout-subscription', eventHandlers.tryIt.layoutError);\n    events.subscribe('try-it-action-subscription', eventHandlers.tryIt.actionError);\n    events.subscribe('try-it-receive-intent-data', eventHandlers.tryIt.intent);\n  }\n}\n\nfunction registerLayouts() {\n  registerLayout('show-locations', layouts.showLocations.init, true);\n  registerLayout('choose-location-type', layouts.chooseLocationType.init, true);\n  registerLayout('request-geolocation-latlong', layouts.requestGeolocationLatlong.init, true);\n  registerLayout('request-geolocation-zipcode', layouts.requestGeolocationZipcode.init, true);\n  registerLayout('choose', layouts.choose.init, true);\n  registerLayout('form', layouts.form.init, true);\n  registerLayout('cc-validator', layouts.creditCard.init, true);\n  registerLayout('error', layouts.error.init, true);\n  for (var i = 0; i < registeredLayouts.length; i++)\n    layoutInit[registeredLayouts[i]]();\n}\n\nfunction init(config) {\n  var current = state.get();\n  if (current.active === true) {\n    return destroy()\n      .then(function() {\n        return init(config);\n      });\n  }\n\n  var root = (typeof config.el === 'string') ? document.getElementById(config.el) : config.el;\n  var SDKconfig = utils.getSDKConfig(config);\n\n  // i18n\n  var locale = config.locale || 'en';  // default to english\n  state.set({\n    locale: locale\n  });\n  if (config.defaultCountry) {\n    state.set({\n      defaultCountry: config.defaultCountry\n    });\n  }\n  if (config.langBundle) {\n    if (typeof config.langBundle === 'object') {\n      // store language bundle that matches locale\n      var bundle = config.langBundle[locale];\n      if (!bundle) {\n        // couldn't find a bundle associated with locale, default to english\n        console.warn('Could not find language bundle for ' + locale + '. ' +\n                      'Defaulting to English.');\n        locale = 'en';\n        bundle = config.langBundle.en;\n      }\n      state.set({\n        locale: locale,\n        langBundle: bundle\n      });\n    }\n  }\n\n  return new window.Promise(function(resolve, reject) {\n    var defaultState = {\n      active: true,\n      root: root,\n      mapsServer: process.env.MAPS_SERVER || 'https://dp1-i-serve-maps.mybluemix.net/',\n      botID: config.botID,\n      styles: assign({}, defaultStyles, config.styles),\n      baseURL: SDKconfig.baseURL || 'https://api.ibm.com/virtualagent/run/api/v1/',\n      originalContent: root.innerHTML,\n      handleInput: {\n        default: true\n      },\n      minSeconds: (!config.minSeconds && config.minSeconds !== 0) ? 0.75 : config.minSeconds,\n      chatStyleID: 'chatStyleID-' + utils.getUUID(),\n      tryIt: config.tryIt || false,\n      playback: config.playback || false //TODO: remove playback when Dashboard code is updated\n    };\n    if (utils.checkRoot(root)) {\n      if (config.errorHandler)\n        events.subscribe('httpError', config.errorHandler, config.errorHandlerContext);\n      else\n        events.subscribe('httpError', eventHandlers.error.httpError);\n      registerEvents(config.tryIt, config.playback);\n      registerLayouts();\n      //TODO: remove if playback when Dashboard code is updated\n      if (config.playback === true) {\n        events.publish('start', defaultState);\n        setTimeout(function() {\n          events.publish('chatID', 'playback');\n        }, 0);\n        setTimeout(function() {\n          resolve();\n        }, 0);\n      } else if (config.botID) {\n        events.publish('start', defaultState);\n        events.publish('enable-loading');\n        events.publish('disable-input');\n        BotSDK\n          .configure( SDKconfig )\n          .start( config.botID )\n          .then( function(res) {\n            events.publish('chatID', res.chatID);\n            events.publish('receive', res);\n          })['catch']( function(err) {\n            events.publish('httpError', err);\n          }).then(function() {\n            setTimeout(function() {\n              events.publish('enable-input');\n              resolve();\n            }, 0);\n          });\n      } else {\n        console.error('BotID is required!');\n        destroy();\n        reject({\n          error: 'BotID is required!'\n        });\n      }\n    } else {\n      console.error('Element for chat does not exist!');\n      destroy();\n      reject({\n        error: 'Element for chat does not exist!'\n      });\n    }\n  });\n}\n\nfunction registerLayout(layout, init, defaultSetup) {\n  if (layout && init && typeof init === 'function') {\n    if (registeredLayouts.indexOf(layout) === -1 || !defaultSetup) {\n      registeredLayouts.push(layout);\n      layoutInit[layout] = init;\n    }\n  } else {\n    console.error('registerLayout was configured incorrectly.');\n  }\n}\n\nfunction send(message) {\n  if (message) {\n    var current = state.get();\n    if (current.active) {\n      events.publish('send', {\n        text: message\n      });\n    }\n  } else {\n    console.error('The message was empty.');\n  }\n}\n\nfunction receive(message) {\n  if (message) {\n    var current = state.get();\n    if (current.active)\n      events.publish('receive', message);\n  } else {\n    console.error('The message was empty.');\n  }\n}\n\nfunction sendMock(message) {\n  if (message) {\n    var current = state.get();\n    if (current.active) {\n      events.publish('send-mock', {\n        text: message\n      });\n    }\n  } else {\n    console.error('The message was empty.');\n  }\n}\n\nfunction sendSilently(message) {\n  if (message) {\n    var current = state.get();\n    if (current.active) {\n      events.publish('send', {\n        text: message,\n        silent: true\n      });\n    }\n  } else {\n    console.error('The message was empty.');\n  }\n}\n\nfunction enableCustomInputHandler(config) {\n  if (config && config.callback && typeof config.callback === 'function') {\n    state.set({\n      handleInput: {\n        default: false,\n        callback: config.callback,\n        context: config.context\n      }\n    });\n  } else {\n    console.error('Invalid configuration of enableCustomInputHandler');\n  }\n}\n\nfunction disableCustomInputHandler() {\n  state.set({\n    handleInput: {\n      default: true\n    }\n  });\n}\n\nfunction focusInput() {\n  var current = state.get();\n  if (current.active)\n    events.publish('focus-input');\n}\n\nfunction disableInput() {\n  var current = state.get();\n  if (current.active)\n    events.publish('disable-input');\n}\n\nfunction enableInput() {\n  var current = state.get();\n  if (current.active)\n    events.publish('enable-input');\n}\n\nfunction debug() {\n  state.set({\n    DEBUG: true\n  });\n}\n\nfunction destroy() {\n  return new window.Promise(function(resolve) {\n    var current = state.get();\n    if (current.active) {\n      styles.removeStyles(current.root, current.chatStyleID, current.chatID);\n      if (current.root && current.onResize) {\n        utils.endVisibilityCheck();\n        if (typeof current.originalContent !== 'undefined' && current.root)\n          current.root.innerHTML = current.originalContent;\n      }\n      events.publish('destroy');\n      events.destroy();\n      state.destroy();\n    }\n    resolve();\n  });\n}\n\nfunction restart() {\n  console.warn('The IBMChat.restart method is deprecated. Use IBMChat.clear() instead.');\n  return new window.Promise(function(resolve, reject) {\n    var current = state.get();\n    destroy().then(function() {\n      setTimeout(function() {\n        init({ el: current.root, botID: current.botID, baseURL: current.baseURL }).then(function() {\n          resolve();\n        })['catch'](function(e) {\n          reject(e);\n        });\n      }, 10);\n    })['catch'](function(e) {\n      reject(e);\n    });\n  });\n}\n\nmodule.exports = {\n  profile: profile,\n  init: init,\n  registerLayout: registerLayout,\n  send: send,\n  receive: receive,\n  sendMock: sendMock,\n  sendSilently: sendSilently,\n  enableCustomInputHandler: enableCustomInputHandler,\n  disableCustomInputHandler: disableCustomInputHandler,\n  focusInput: focusInput,\n  disableInput: disableInput,\n  enableInput: enableInput,\n  subscribe: events.subscribe,\n  subscribeOnce: events.subscribeOnce,\n  publish: events.publish,\n  debug: debug,\n  destroy: destroy,\n  restart: restart,\n  currentSubscriptions: events.currentSubscriptions,\n  hasSubscription: events.hasSubscription,\n  completeEvent: events.completeEvent,\n  state: state,\n  context: context,\n  clear: function() {\n    events.publish('reset');\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/bootstrap.js\n ** module id = 63\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../state');\n\nfunction set(context) {\n  state.set({\n    context: context\n  });\n}\n\nfunction get() {\n  var current = state.get();\n  return current.context;\n}\n\nmodule.exports = {\n  set: set,\n  get: get\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/context/index.js\n ** module id = 64\n ** module chunks = 0\n **/","var state = require('../../state');\n\nfunction chatID(chatID) {\n  var current = state.get();\n  var prefix = 'chatID-';\n  var classes = current.root.className.split(' ').filter(function(c) {\n    return c.lastIndexOf(prefix, 0) !== 0;\n  });\n  state.set({\n    chatID: chatID\n  });\n  current.root.className = classes.join(' ').trim();\n  current.root.classList.add(prefix + chatID);\n}\n\nmodule.exports = chatID;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/chatid.js\n ** module id = 65\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\nvar i18n = require('../../utils/i18n');\n\nfunction clear() {\n  var current = state.get();\n  state.set({\n    messages: []\n  });\n  current.root.classList.add(\"chatID-\" + current.chatID);\n  current.input.value = '';\n  current.inputClone.textContent = i18n('prompt');\n  current.chatHolder.innerHTML = '';\n  events.publish('resize-input');\n  events.publish('resize');\n}\n\nmodule.exports = clear;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/clear.js\n ** module id = 66\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar state = require('../../state');\nvar i18n = require('../../utils/i18n');\n\n// error messages need to be wrapped in function call so that i18n is properly\n// setup (based on params to IBMChat.init)\nvar errorMessageMap = {\n  basic: function() { return i18n('basic_err'); }\n};\n\nfunction clearError() {\n  setTimeout(function() {\n    var current = state.get();\n    var loader = current.root.querySelector('.IBMChat-loading-container');\n    if (loader)\n      current.chatHolder.removeChild(loader);\n    state.set({\n      errorCount: 0\n    });\n  }, 0);\n}\n\nfunction httpError(err) {\n  setTimeout(function() {\n    console.error(err);\n    var current = state.get();\n    var text;\n    if (err.status && errorMessageMap[err.status]) {\n      text = errorMessageMap[err.status]();\n    } else {\n      text = errorMessageMap['basic']();\n    }\n    var errorCount = current.errorCount || 0;\n    events.publish('enable-loading', text);\n    state.set({\n      errorCount: errorCount + 1\n    });\n    events.publish('enable-retry');\n  }, 0);\n}\n\nfunction retry() {\n  setTimeout(function() {\n    var current = state.get();\n    var errorCount = current.errorCount;\n    var loaderRetryMessage = current.root.querySelector('.IBMChat-loading-retry-message');\n    var loader = current.root.querySelector('.IBMChat-loading');\n    var loaderFailure = current.root.querySelector('.IBMChat-loading-failure-message');\n    var loaderFailureMessage = loaderFailure.querySelector('.IBMChat-watson-message');\n    if (errorCount > 4) {\n      var loaderFailureMessageTmpl = i18n('loading_failure1');\n      if (!current.chatID) {\n        loaderFailureMessageTmpl = i18n('loading_failure2');\n        events.publish('disable-input');\n      } else {\n        events.publish('enable-input');\n      }\n      loader.classList.add('IBMChat-hidden');\n      loaderFailureMessage.innerHTML = loaderFailureMessageTmpl;\n      loaderFailure.classList.remove('IBMChat-hidden');\n      events.publish('scroll-to-bottom');\n      state.set({\n        sendQueue: [],\n        inProgress: false\n      });\n    } else if (errorCount !== 0) {\n      loaderFailure.classList.add('IBMChat-hidden');\n      loaderRetryMessage.classList.remove('IBMChat-hidden');\n      setTimeout(function() {\n        events.publish('retry');\n      }, 5000);\n    }\n  }, 0);\n}\n\nfunction tryIt(data) {\n  events.publish('layout:error', data);\n}\n\nmodule.exports = {\n  httpError: httpError,\n  retry: retry,\n  clearError: clearError,\n  tryIt: tryIt\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/error.js\n ** module id = 67\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar start = require('./start');\nvar resize = require('./resize');\nvar receive = require('./receive');\nvar send = require('./send');\nvar sendMock = require('./send-mock');\nvar sendInputMessage = require('./send-input-message');\nvar input = require('./input');\nvar error = require('./error');\nvar scrollToBottom = require('./scroll-to-bottom');\nvar tryIt = require('./try-it');\nvar clear = require('./clear');\nvar reset = require('./reset');\nvar chatID = require('./chatid');\n\nmodule.exports = {\n  /**\n  * Resize event. Forces a resize of the Chat UI elements to fix current parent element.\n  *\n  * @event resize\n  * @example\n  * IBMChat.publish('resize');\n  * IBMChat.subscribe('resize', function(){\n  *\n  * });\n  */\n  resize: resize,\n  /**\n  * @ignore\n  */\n  start: start,\n  /**\n  * @ignore\n  */\n  clear: clear,\n  /**\n  * Send event. Sends a message.\n  *\n  * @event send\n  * @property {Object} data\n  * @property {string} data.text - Text to send to Watson Virtual Agent\n  * @property {boolean} data.sendSilently - whether or not to show in UI, defaults to true\n  * @example\n  * IBMChat.publish('send', data);\n  * IBMChat.subscribe('send', function(data){\n  *\n  * });\n  */\n  send: send,\n  /**\n  * sendMock event. Displays a message in the UI, but does not send it to the Watson Virtual Agent.\n  *\n  * @event sendMock\n  * @property {Object} data\n  * @property {string} data.text - Text to send to Watson Virtual Agent\n  * @property {boolean} data.sendSilently - whether or not to show in UI, defaults to true\n  * @example\n  * IBMChat.publish('sendMock', data);\n  * IBMChat.subscribe('sendMock', function(data){\n  *\n  * });\n  */\n  sendMock: sendMock,\n  /**\n  * Receive event.\n  *\n  * @event receive\n  * @property {Object} message - A message object.\n  * @example\n  * IBMChat.publish('receive', message);\n  * IBMChat.subscribe('receive', function(message){\n  *\n  * });\n  */\n  receive: receive,\n  /**\n  * Enable Input event. Allows submitting from input field when it has been disabled.\n  *\n  * @event enable-input\n  * @example\n  * IBMChat.publish('enable-input');\n  * IBMChat.subscribe('enable-input', function(){\n  *\n  * });\n  */\n  /**\n  * Disable Input event. Disallows submitting from input field.\n  *\n  * @event disable-input\n  * @example\n  * IBMChat.publish('disable-input');\n  * IBMChat.subscribe('disable-input', function(){\n  *\n  * });\n  */\n  /**\n  * Enable Loading event. Shows loading state.\n  *\n  * @event enable-loading\n  * @example\n  * IBMChat.publish('enable-loading', 'string to display');\n  * IBMChat.subscribe('enable-loading', function(){\n  *\n  * });\n  */\n  /**\n  * Disable loading event. Hides loading state.\n  *\n  * @event disable-loading\n  * @example\n  * IBMChat.publish('disable-loading');\n  * IBMChat.subscribe('disable-loading', function(){\n  *\n  * });\n  */\n  input: input,\n  /**\n  * Error event.\n  *\n  * @event error\n  * @property {Object} error - Error object.\n  * @example\n  * IBMChat.publish('error', error);\n  * IBMChat.subscribe('error', function(error){\n  *\n  * });\n  */\n  error: error,\n  /**\n  * Scroll to bottom event. Scrolls chat content into correct positioning.\n  *\n  * @event scroll-to-bottom\n  * @example\n  * IBMChat.publish('scroll-to-bottom');\n  * IBMChat.subscribe('scroll-to-bottom', function(){\n  *\n  * });\n  */\n  scrollToBottom: scrollToBottom,\n  /**\n  * @ignore\n  */\n  sendInputMessage: sendInputMessage,\n  /**\n  * @ignore\n  */\n  tryIt: tryIt,\n  /**\n  * @ignore\n  */\n  chatID: chatID,\n  /**\n  * @ignore\n  */\n  reset: reset\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/index.js\n ** module id = 68\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\nvar utils = require('../../utils');\nvar templates = require('../../templates');\nvar i18n = require('../../utils/i18n');\n\nfunction enableInput() {\n  var current = state.get();\n  state.set({ disableInput: false });\n  current.input.removeAttribute('disabled');\n}\n\nfunction disableInput() {\n  var current = state.get();\n  state.set({ disableInput: true });\n  current.input.setAttribute('disabled', 'disabled');\n}\n\nfunction enableLoadingInput(text) {\n  var current, loader;\n  setTimeout(function() {\n    current = state.get();\n    text = text || i18n('thinking');\n    loader = current.root.querySelector('.IBMChat-loading-container');\n    if (loader)\n      current.chatHolder.removeChild(loader);\n  }, 0);\n\n  setTimeout(function() {\n    current.chatHolder.innerHTML += utils.compile(templates.loading, {\n      retryAttempt: i18n('reconnect')\n    });\n  }, 0);\n\n  setTimeout(function() {\n    loader = current.root.querySelector('.IBMChat-loading');\n    var loaderText = current.root.querySelector('.IBMChat-loading-message-text');\n    loader.classList.remove('IBMChat-hidden');\n    loaderText.textContent = text;\n    events.publish('resize');\n  }, 0);\n}\n\nfunction disableLoadingInput() {\n  setTimeout(function() {\n    var current = state.get();\n    var loader = current.root.querySelector('.IBMChat-loading-container');\n\n    if (loader)\n      current.chatHolder.removeChild(loader);\n    events.publish('resize');\n  }, 0);\n}\n\nfunction focusInput() {\n  var current = state.get();\n  current.input.focus();\n}\n\nmodule.exports = {\n  enableInput: enableInput,\n  disableInput: disableInput,\n  enableLoadingInput: enableLoadingInput,\n  disableLoadingInput: disableLoadingInput,\n  focusInput: focusInput\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/input.js\n ** module id = 69\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar state = require('../../state');\nvar events = require('../../events');\nvar utils = require('../../utils');\nvar assign = require('lodash/assign');\nvar templates = require('../../templates');\n\nfunction _actions(data, tryIt, debug) {\n  var msg = data.message;\n  if (msg && msg.action && msg.action.name) {\n    var action = 'action:' + msg.action.name;\n    if (events.hasSubscription(action)) {\n      events.publish(action, data, events.completeEvent);\n      if (debug)\n        console.log('Call to ' + action);\n    } else {\n      if (debug)\n        console.warn('Nothing is subscribed to ' + action);\n      if (tryIt)\n        events.publish('try-it-action-subscription', action);\n    }\n  }\n  events.publish('enable-input');\n  events.publish('disable-loading');\n  events.publish('scroll-to-bottom');\n  if (utils.isVisible())\n    events.publish('focus-input');\n}\n\nfunction _layouts(data, tryIt, debug) {\n  var msg = data.message;\n  if (msg && msg.layout && msg.layout.name) {\n    var layout = 'layout:' + msg.layout.name;\n    if (events.hasSubscription(layout)) {\n      setTimeout(function() {\n        events.publish(layout, data);\n        if (debug)\n          console.log('Call to ' + layout);\n      }, 10);\n    } else {\n      if (debug)\n        console.warn('Nothing is subscribed to ' + layout);\n      if (tryIt)\n        events.publish('try-it-layout-subscription', layout);\n    }\n  }\n}\n\nfunction _intents(data) {\n  var msg = data.message;\n  var getIntentField = function(msg) {\n    if (!msg || !msg.log_data)\n      return false;\n    if (msg.log_data.wva_top_intent && typeof msg.log_data.wva_top_intent === 'object' && msg.log_data.wva_top_intent.intent)\n      return msg.log_data.wva_top_intent.intent;\n    else if (msg.log_data.intents && msg.log_data.intents.length > 0 && msg.log_data.intents[0].intent)\n      return msg.log_data.intents[0].intent;\n    else\n      return false;\n  };\n  var intent = getIntentField(msg);\n  if (msg && msg.log_data && msg.log_data.show_intent_link === true && intent) {\n    events.publish('try-it-get-intent-data', {\n      element: data.intentElement,\n      intent: intent\n    });\n  }\n}\n\nfunction receive(data) {\n  setTimeout(function() {\n    _receive(data);\n  }, 0);\n}\n\nfunction _receive(data) {\n  var parsed = (typeof data === 'string') ? { message: { text: data } } : data;\n  parsed = BotSDK.parse(parsed);\n  var current = state.get();\n  state.set({\n    messages: [].concat(current.messages || [], parsed),\n    errorCount: 0\n  });\n  var msg = parsed.message;\n  var msgText = (msg && msg.text) ? ((Array.isArray(msg.text) && msg.text.length > 0) ? msg.text : [msg.text]) : [''];\n  var containers = [];\n  var messages = [];\n  var layouts = [];\n  var intents = [];\n  var datas = [];\n  var turnElm = document.createElement('div');\n\n  turnElm.classList.add('IBMChat-watson-turn');\n  current.chatHolder.appendChild(turnElm);\n\n  for (var i = 0; i < msgText.length; i++) {\n    var holder = document.createElement('div');\n    var msgData = assign({}, parsed, { uuid: utils.getUUID() });\n    holder.classList.add(msgData.uuid);\n    holder.innerHTML = templates.receive;\n    containers.push(holder.querySelector('.IBMChat-watson-message-container'));\n    messages.push(document.createElement('div'));\n    layouts.push(document.createElement('div'));\n    layouts[i].classList.add('IBMChat-watson-layout');\n    intents.push(document.createElement('div'));\n    intents[i].classList.add('IBMChat-watson-intent');\n\n    if ((msgText[i] && msgText[i].length > 0) || (msg && msg.layout && msg.layout.name && i === (msgText.length - 1))) {\n      var line = document.createElement('div');\n      line.classList.add('IBMChat-watson-message-line');\n      containers[i].appendChild(line);\n      messages[i].classList.add('IBMChat-watson-message');\n      utils.writeMessage(messages[i], msgText[i]);\n    }\n\n    turnElm.appendChild(holder);\n\n    containers[i].appendChild(messages[i]);\n    containers[i].appendChild(intents[i]);\n    containers[i].appendChild(layouts[i]);\n\n    msgData.element = containers[i];\n    msgData.layoutElement = layouts[i];\n    msgData.msgElement = messages[i];\n    msgData.intentElement = intents[i];\n    datas.push(msgData);\n\n    if (current.tryIt && i === (msgText.length - 1))\n      _intents(datas[i]);\n    if (msg && msg.layout && ((msg.layout.index !== undefined && msg.layout.index == i) ||(msg.layout.index === undefined && i == (msgText.length - 1))))\n      _layouts(datas[i], current.tryIt, current.DEBUG);\n    if (i === (msgText.length - 1))\n      _actions(datas[i], current.tryIt, current.DEBUG);\n  }\n\n}\n\nmodule.exports = receive;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/receive.js\n ** module id = 70\n ** module chunks = 0\n **/","var state = require('../../state');\nvar events = require('../../events');\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar utils = require('../../utils');\n\nfunction reset() {\n  events.publish('clear-error');\n  events.publish('clear');\n  events.publish('scroll-to-bottom');\n  events.publish('enable-loading');\n  return new window.Promise(function(resolve, reject) {\n    var current = state.get();\n    var SDKconfig = utils.getSDKConfig(current);\n    if (!utils.checkRoot(current.root)) {\n      reject({\n        error: 'Element for chat does not exist!'\n      });\n    }\n    if (!current.botID) {\n      reject({\n        error: 'BotID is required!'\n      });\n    }\n    BotSDK\n      .configure( SDKconfig )\n      .start( current.botID )\n      .then( function(res) {\n        events.publish('chatID', res.chatID);\n        events.publish('receive', res);\n      })['catch']( function(err) {\n        events.publish('httpError', err);\n      }).then(function() {\n        setTimeout(function() {\n          resolve();\n        },0);\n      });\n  });\n}\n\nmodule.exports = reset;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/reset.js\n ** module id = 71\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\n\nvar debugResize = false;\nvar timeout;\n\nfunction _getHeight(element) {\n  return Math.floor(window.getComputedStyle(element).getPropertyValue('height').replace('px', ''));\n}\n\nfunction resize() {\n  clearTimeout(timeout);\n  timeout = setTimeout(function() {\n    timeout = null;\n    _resize();\n  }, 150);\n}\n\nfunction _resize() {\n\n  var current = state.get();\n  if (current.isVisible && current.active) {\n    var maxInputPercentage = 35,\n      newState = {},\n      containerHeight = 0,\n      chatHolderHeight = 0,\n      chatHolderMaxHeight = 0,\n      inputHolderHeight = 0,\n      rootHeight = current.root.clientHeight,\n      rootWidth = current.root.clientWidth,\n      maxInputHeight = rootHeight * (maxInputPercentage / 100),\n      calculatedMaxInputHeight = (maxInputHeight > 96) ? maxInputHeight : 96,\n      cloneHeight = (current.input) ? _getHeight(current.inputClone) : null,\n      inputHeight = (current.input) ? (_getHeight(current.input)) : 0,\n      newInputClone = (current.input && current.input.value && current.input.value.length > 0) ? current.input.value.replace(/\\n/g, '<br />') : 'Enter message...',\n      currentInputClone = (current.input) ? current.inputClone.innerHTML : null;\n\n    var chatChanged = function() {\n      if (newState.chatHolderHeight !== undefined || newState.containerHeight !== undefined)\n        events.publish('scroll-to-bottom');\n      return (newState.rootWidth !== undefined || newState.chatHolderHeight !== undefined || newState.rootHeight !== undefined || newState.isLarge !== undefined || newState.containerHeight !== undefined || newState.inputHeight !== undefined);\n    };\n\n    setTimeout(function() {\n      if (current.rootHeight !== rootHeight) {\n        if (debugResize)\n          console.log('New Root Height:', rootHeight);\n        newState.rootHeight = rootHeight;\n      }\n      if (current.rootWidth !== rootWidth) {\n        if (debugResize)\n          console.log('New Root Width:', rootWidth);\n        newState.rootWidth = rootWidth;\n        current.chat.style.width = rootWidth + 'px';\n        newState.rootWidth = rootWidth;\n      }\n    }, 0);\n\n    setTimeout(function() {\n      if (current.input) {\n        if (currentInputClone !== newInputClone) {\n          current.inputClone.textContent = newInputClone;\n          cloneHeight = _getHeight(current.inputClone);\n          /*if (debugResize)\n            console.log('Clone does not match input:', 'current:', currentInputClone, 'new:', newInputClone, 'height:', cloneHeight);*/\n        }\n\n        if (current.inputHeight !== cloneHeight) {\n          if (debugResize)\n            console.log('Input height does not match:', current.inputHeight, inputHeight);\n          inputHeight = (calculatedMaxInputHeight > cloneHeight) ? cloneHeight : calculatedMaxInputHeight;\n        }\n\n        if (current.inputHeight !== inputHeight) {\n          if (debugResize)\n            console.log('New Input Height:', current.inputHeight, inputHeight);\n          current.input.style.height = inputHeight + \"px\";\n          newState.inputHeight = inputHeight;\n        }\n      }\n    }, 0);\n\n    setTimeout(function() {\n\n      if (current.input)\n        inputHolderHeight = _getHeight(current.inputContainer);\n      chatHolderHeight = _getHeight(current.chatHolder);\n      chatHolderMaxHeight = chatHolderHeight;\n      if (debugResize)\n        console.log('chatHolderHeight', chatHolderHeight, 'rootHeight', rootHeight, 'inputHolderHeight', inputHolderHeight);\n      containerHeight = Math.floor(rootHeight - inputHolderHeight);\n\n      if (chatHolderHeight < containerHeight) {\n        chatHolderHeight = 'auto';\n        chatHolderMaxHeight = containerHeight + 'px';\n      } else {\n        chatHolderHeight = containerHeight + 'px';\n        chatHolderMaxHeight = chatHolderHeight;\n      }\n      if (current.containerHeight !== containerHeight) {\n        if (debugResize)\n          console.log('New Container Height:', containerHeight);\n        current.innerContainer.style.height = containerHeight + \"px\";\n        newState.containerHeight = containerHeight;\n      }\n\n      if (current.chatHolderHeight !== chatHolderHeight || current.chatHolderMaxHeight !== chatHolderMaxHeight) {\n        if (debugResize) {\n          console.log('New Chat Holder Height: ' + chatHolderHeight);\n          console.log('New Chat Holder Max Height: ' + chatHolderMaxHeight);\n        }\n        newState.chatHolderHeight = chatHolderHeight;\n        newState.chatHolderMaxHeight = chatHolderMaxHeight;\n        current.chatHolder.style.height = chatHolderHeight;\n        current.chatHolder.style.maxHeight = chatHolderMaxHeight;\n      }\n\n      if (rootWidth >= 480) {\n        current.root.classList.add('IBMChat-isLarge');\n        if (!current.isLarge)\n          newState.isLarge = true;\n      } else {\n        current.root.classList.remove('IBMChat-isLarge');\n        if (current.isLarge)\n          newState.isLarge = false;\n      }\n\n      if (chatChanged())\n        state.set(newState);\n\n    }, 0);\n  }\n}\n\nmodule.exports = resize;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/resize.js\n ** module id = 72\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\n\nvar smoothStep = function(start, end, point) {\n  if (point <= start) return 0;\n  if (point >= end) return 1;\n  var x = (point - start) / (end - start);\n  return x*x*(3 - 2*x);\n};\n\nfunction scrollToBottom() {\n  setTimeout(function() {\n    var duration = 300;\n    var startTime = Date.now();\n    var endTime = startTime + duration;\n    var current = state.get();\n    var startTop = current.chatHolder.scrollTop;\n    var previousTop = startTop;\n    var distance = current.chatHolder.scrollHeight - startTop;\n    var scrolling = setInterval(function() {\n      var now = Date.now();\n      if (current.chatHolder.scrollTop != previousTop) {\n        clearInterval(scrolling);\n        return;\n      } else if (now >= endTime) {\n        clearInterval(scrolling);\n        current.chatHolder.scrollTop = current.chatHolder.scrollHeight;\n        return;\n      } else if (current.chatHolder.scrollTop == current.chatHolder.scrollHeight) {\n        clearInterval(scrolling);\n        return;\n      }\n      var point = smoothStep(startTime, endTime, now);\n      var frameTop = Math.round(startTop + (distance * point));\n      current.chatHolder.scrollTop = frameTop;\n      previousTop = current.chatHolder.scrollTop;\n    }, 0);\n  }, 100);\n}\n\nmodule.exports = scrollToBottom;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/scroll-to-bottom.js\n ** module id = 73\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\n\nfunction sendInputMessage() {\n  var current = state.get();\n  if (!current.inProgress && !current.disableInput) {\n    var text = current.root.querySelector('.IBMChat-chat-textbox').value.trim().replace(/(\\r\\n|\\n|\\r)/gm,\"\");\n    events.publish('send', {\n      text: text\n    });\n    text = '';\n  }\n}\n\nmodule.exports = sendInputMessage;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/send-input-message.js\n ** module id = 74\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\nvar utils = require('../../utils');\nvar assign = require('lodash/assign');\nvar templates = require('../../templates');\n\nfunction sendMock(data) {\n  setTimeout(function() {\n    _sendMock(data);\n  }, 0);\n}\n\nfunction _sendMock(data) {\n  if (data.text && data.text.length > 0) {\n    var current = state.get();\n    var newData = assign({}, data, { uuid: utils.getUUID() });\n    current.chatHolder.innerHTML += utils.compile(templates.send, { 'data.uuid': newData.uuid });\n    current.chatHolder.querySelector('#' + newData.uuid + ' .IBMChat-user-message').textContent = data.text;\n    events.publish('resize');\n    events.publish('scroll-to-bottom');\n  }\n}\n\nmodule.exports = sendMock;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/send-mock.js\n ** module id = 75\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar utils = require('../../utils');\nvar assign = require('lodash/assign');\nvar templates = require('../../templates');\n\nfunction send(data) {\n  setTimeout(function() {\n    _send(data);\n  }, 0);\n}\n\nfunction _send(data) {\n  if (data && data.text && data.text.length > 0) {\n    var current = state.get();\n    addToSendQueue(data);\n    if (!current.inProgress)\n      agentSend();\n  }\n}\n\nfunction addToSendQueue(data) {\n  var current = state.get();\n  var queue = current.sendQueue || [];\n  var newQueue = queue.slice(0);\n  newQueue.push(data);\n  state.set({\n    sendQueue: newQueue\n  });\n}\n\nfunction resolve(sent, received) {\n  var current = state.get();\n  state.set({\n    errorCount: 0,\n    sendQueue: current.sendQueue.slice(1, current.sendQueue.length),\n    messages: (sent) ? [].concat(current.messages || [], sent) : current.messages,\n    inProgress: false\n  });\n  if(received)\n    events.publish('receive', received);\n  events.publish('error-clear');\n  events.publish('disable-loading');\n  events.publish('scroll-to-bottom');\n  if (state.get().sendQueue.length > 0)\n    agentSend();\n}\n\nfunction reject() {\n  events.publish('httpError', arguments);\n}\n\nfunction sendToBot(data, retry) {\n\n  function delay(cb) {\n    var newTime = Date.now();\n    var diff = newTime - starttime;\n    var minWaitTime = minSeconds * 1000;\n    var timeout = minWaitTime - diff;\n    if (timeout > 0) {\n      setTimeout(function() {\n        cb();\n      }, timeout);\n    } else {\n      cb();\n    }\n  }\n\n  var current = state.get();\n  var starttime = Date.now();\n  var minSeconds = current.minSeconds;\n\n  if (!retry)\n    events.publish('enable-loading');\n  events.publish('focus-input');\n\n  BotSDK\n    .send( current.botID, current.chatID, data.text, current.context )\n    .then( function(res) {\n      delay(function() {\n        resolve(data, res);\n      });\n    })\n    .catch(function(e) {\n      delay(function() {\n        reject(e);\n      });\n    });\n}\n\nfunction agentSend(retry) {\n  var current = state.get();\n  var newData = assign({}, current.sendQueue[0], { uuid: utils.getUUID() });\n  var msg = newData.label || newData.text || '';\n  state.set({\n    inProgress: true\n  });\n  current.root.querySelector('.IBMChat-chat-textbox').value = '';\n  if (!newData.silent && !retry) {\n    current.chatHolder.innerHTML += utils.compile(templates.send, { 'data.uuid': newData.uuid });\n    current.chatHolder.querySelector('#' + newData.uuid + ' .IBMChat-user-message').textContent = msg;\n    events.publish('scroll-to-bottom');\n  }\n  if (current.handleInput.default)\n    sendToBot(newData, retry);\n  else if (current.handleInput.context)\n    current.handleInput.callback.bind(current.handleInput.context, newData.text, resolve, reject);\n  else\n    current.handleInput.callback(newData.text, resolve, reject);\n}\n\nfunction retry() {\n  var current = state.get();\n  if (current.sendQueue && current.sendQueue.length > 0)\n    agentSend(true);\n  else\n    events.publish('reset');\n}\n\nmodule.exports = {\n  send: send,\n  retry: retry\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/send.js\n ** module id = 76\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar utils = require('../../utils');\nvar styles = require('../../styles');\nvar events = require('../../events');\nvar templates = require('../../templates');\nvar i18n = require('../../utils/i18n');\n\nfunction start(data) {\n  var current;\n  state.set(data);\n  current = state.get();\n  styles.attachStyles();\n  current.root.classList.add(current.chatStyleID);\n  current.root.innerHTML = templates.start;\n  var addState = {\n    chat: current.root.querySelector('.IBMChat'),\n    outerContainer: current.root.querySelector('.IBMChat-outer-container'),\n    container: current.root.querySelector('.IBMChat-chat-container'),\n    chatHolder: current.root.querySelector('.IBMChat-messages'),\n    innerContainer: current.root.querySelector('.IBMChat-inner-container'),\n  };\n  //TODO: remove if conditional after Dashboard implements new playback\n  if (current.playback !== true) {\n    var chatBox = document.createElement('div');\n    chatBox.classList.add('IBMChat-input-container');\n    chatBox.classList.add('IBMChat-input-container-theme');\n    chatBox.innerHTML = utils.compile(templates.input, {\n      placeholder: i18n('prompt')\n    });\n    addState.outerContainer.appendChild(chatBox);\n    addState.inputHolder = current.root.querySelector('.IBMChat-input-container form');\n    addState.inputContainer = current.root.querySelector('.IBMChat-chat-text-container');\n    addState.input = current.root.querySelector('.IBMChat-chat-textbox');\n    addState.inputClone = current.root.querySelector('.IBMChat-chat-textbox-clone');\n    addState.form = current.root.querySelector('.IBMChat-input-form');\n    addState.form.addEventListener('submit', function(e) {\n      e.preventDefault();\n    });\n    addState.onResize = function() {\n      events.publish('resize');\n    };\n    if (current.tryIt) {\n      addState.chatHolder.addEventListener('click', function(e) {\n        if (e.target.dataset) {\n          var data = e.target.dataset;\n          if (data.intent) {\n            var index = data.intent;\n            var current = state.get();\n            e.preventDefault();\n            if (current.intents && current.intents[index])\n              events.publish('try-it-show-intent', current.intents[index]);\n            else\n              console.error('Intent index is undefined', current.intents, index);\n          } else if (data.private) {\n            events.publish('try-it-show-private', data.private);\n          }\n        }\n      });\n    }\n\n    addState.chatHolder.addEventListener('click', function(e) {\n      if (e.target.dataset && e.target.dataset.retry) {\n        events.publish('error-clear');\n        setTimeout(function() {\n          events.publish('enable-loading');\n          events.publish('reset');\n        }, 0);\n      }\n    });\n\n    addState.input.addEventListener('keydown', function(e) {\n      var current = state.get();\n      if (e.keyCode === 13) {\n        e.preventDefault();\n        if (!current.inProgress) {\n          events.publish('send-input-message');\n          addState.inputClone.innerHTML = '';\n          addState.input.style.overflow = 'hidden';\n          addState.input.style.height = addState.originalInputHeight + \"px\";\n          state.set({\n            inputHeight: addState.originalInputHeight\n          });\n        }\n      }\n      events.publish('resize');\n    });\n\n    addState.input.addEventListener('focus', function() {\n      events.publish('resize');\n    });\n\n    addState.input.addEventListener('blur', function() {\n      events.publish('resize');\n    });\n  }\n\n  window.addEventListener('resize', function() {\n    events.publish('resize');\n  });\n\n  window.addEventListener('orientationchange', function() {\n    events.publish('resize');\n  });\n\n  state.setState(addState);\n  utils.checkVisibility();\n  events.publish('resize');\n}\n\nmodule.exports = start;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/start.js\n ** module id = 77\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar i18n = require('../../utils/i18n');\nvar state = require('../../state');\n\nfunction _addDataSet(data) {\n  var current = state.get();\n  var queue = current.intents || [];\n  var newQueue = queue.slice(0);\n  var count = newQueue.push(data);\n  state.set({\n    intents: newQueue\n  });\n  return count - 1;\n}\n\nfunction actionError(action) {\n  events.publish('receive', {\n    message: {\n      layout: {\n        name: 'error',\n        message: 'A subscription was called to ' + action + '. Nothing is subscribed to this action in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this action.'\n      }\n    }\n  });\n}\n\nfunction layoutError(layout) {\n  events.publish('receive', {\n    message: {\n      layout: {\n        name: 'error',\n        message: 'A subscription was called to ' + layout + '. Nothing is subscribed to this layout in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this layout.'\n      }\n    }\n  });\n}\n\nfunction intent(data) {\n  var element = data.element;\n  var label = document.createElement('label');\n  var link = document.createElement('a');\n  link.setAttribute('href', 'javascript:void(0)');\n  link.textContent = i18n('edit');\n  if (data.private) {\n    label.textContent = '#' + data.intent;\n    link.setAttribute('data-private', data.intent);\n  } else {\n    label.textContent = data.blueprint.label;\n    link.setAttribute('data-intent', _addDataSet(data));\n  }\n  element.appendChild(label);\n  element.appendChild(link);\n}\n\nmodule.exports = {\n  actionError: actionError,\n  layoutError: layoutError,\n  intent: intent\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/try-it.js\n ** module id = 78\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar profile = require('../../profile');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar utils = require('../../utils');\nvar validation = require('./validation');\nvar i18n = require('../../utils/i18n');\nvar activeClassName = 'IBMChat-accent-colors';\nvar inactiveClassName = 'IBMChat-accent-colors-button';\nvar ns = 'IBMChat-creditcard';\nvar widgets = [];\nvar templates = {\n  base: require('./templates/base.html')\n};\n\nvar creditCardLayout = {\n  init: function() {\n    subscribe('layout:cc-validator', function(data) {\n      var widget = new CreditCard(data);\n      widgets[data.uuid] = widget;\n    });\n  }\n};\n\nfunction CreditCard(data) {\n  this.init(data);\n}\n\nCreditCard.prototype.init = function(data) {\n  this.acceptedCards = data.message.data;\n  this.uuid = data.uuid;\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.msgElement = data.msgElement;\n  this.formData = {};\n  this.drawForm();\n  this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n  publish('disable-input');\n};\n\nCreditCard.prototype.drawForm = function() {\n  var text = templates.base;\n  this.el = document.createElement('div');\n  text = utils.compile(templates.base, {\n    ns: ns,\n    uuid: utils.getUUID(),\n    cc_name: i18n('cc_name'),\n    cc_num: i18n('cc_num'),\n    cc_exp_mon: i18n('cc_exp_mon'),\n    cc_exp_year: i18n('cc_exp_year'),\n    cc_code: i18n('cc_code'),\n    cc_code_alt: i18n('cc_code_alt') || i18n('cc_code'),\n    placeholder_mon: i18n('placeholder_mon'),\n    placeholder_year: i18n('placeholder_year'),\n    cancel: i18n('cancel'),\n    submit: i18n('submit')\n  });\n  this.el.innerHTML = text;\n  this.layoutElement.appendChild(this.el);\n  this.cancelButton = this.el.querySelector('.IBMChat-form-cancel');\n  this.submitButton = this.el.querySelector('.IBMChat-form-submit');\n  this.cancelButton.classList.add(inactiveClassName);\n  this.submitButton.classList.add(inactiveClassName);\n  this.formElements = {};\n  this.fields = this.el.querySelectorAll('input');\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i];\n    var name = field.getAttribute('name');\n    this.formElements[name] = field;\n  }\n  this.formElements['cc_full_name'].focus();\n  this.addListeners();\n};\n\nCreditCard.prototype.addError = function(name, msg) {\n  var field, errorElement;\n  if (name === 'cc_exp_date') {\n    field = this.formElements[\"cc_exp_date_month\"];\n    field.setAttribute('aria-invalid', true);\n    field.dataset.valid = false;\n    field = this.formElements[\"cc_exp_date_year\"];\n    field.setAttribute('aria-invalid', true);\n    field.dataset.valid = false;\n  } else {\n    field = this.formElements[name];\n    field.setAttribute('aria-invalid', true);\n    field.dataset.valid = false;\n  }\n  errorElement = this.el.querySelector('[data-validation-for=\"' + name + '\"]');\n  errorElement.style.display = 'block';\n  errorElement.dataset.valid = false;\n  errorElement.textContent = msg;\n};\n\nCreditCard.prototype.removeError = function(name) {\n  var field, errorElement;\n  if (name === 'cc_exp_date') {\n    field = this.formElements[\"cc_exp_date_month\"];\n    field.removeAttribute('aria-invalid');\n    field.dataset.valid = true;\n    field = this.formElements[\"cc_exp_date_year\"];\n    field.removeAttribute('aria-invalid');\n    field.dataset.valid = true;\n  } else {\n    field = this.formElements[name];\n    field.removeAttribute('aria-invalid');\n    field.dataset.valid = true;\n  }\n  errorElement = this.el.querySelector('[data-validation-for=\"' + name + '\"]');\n  errorElement.style.display = 'none';\n  errorElement.dataset.valid = true;\n  errorElement.textContent = '';\n};\n\nCreditCard.prototype.validate_cc_full_name = function(valid) {\n  if (this.formData.cc_full_name.trim().length === 0) {\n    this.addError('cc_full_name', i18n('required_field'));\n    if (valid) this.formElements['cc_full_name'].focus();\n    valid = false;\n  } else {\n    this.removeError('cc_full_name');\n  }\n  return valid;\n};\n\nCreditCard.prototype.validate_cc_number = function(valid) {\n  var cc = validation.validateCard(this.acceptedCards, this.formData.cc_number, this.formElements.cc_number);\n  if (!cc.valid) {\n    this.addError('cc_number', cc.message);\n    if (valid) this.formElements['cc_number'].focus();\n    valid = false;\n  } else {\n    this.removeError('cc_number');\n  }\n  return valid;\n};\n\nCreditCard.prototype.validate_cc_exp_date = function(valid) {\n  var exp = validation.validateExp(this.formData.cc_exp_date_month, this.formData.cc_exp_date_year);\n  if (!exp.valid) {\n    this.addError('cc_exp_date', exp.message);\n    if (valid) this.formElements['cc_exp_date_month'].focus();\n    valid = false;\n  } else {\n    this.removeError('cc_exp_date');\n  }\n  return valid;\n};\n\nCreditCard.prototype.validate_cc_code = function(valid) {\n  var cvv = validation.validateCVV(this.formData.cc_code);\n  if (!cvv.valid) {\n    this.addError('cc_code', cvv.message);\n    if (valid) this.formElements['cc_code'].focus();\n    valid = false;\n  } else {\n    this.removeError('cc_code');\n  }\n  return valid;\n};\n\nCreditCard.prototype.validate = function() {\n  var valid = true;\n  valid = this.validate_cc_full_name(valid);\n  valid = this.validate_cc_number(valid);\n  valid = this.validate_cc_exp_date(valid);\n  valid = this.validate_cc_code(valid);\n  return valid;\n};\n\nCreditCard.prototype.preprocessFormData = function() {\n  this.formData = {};\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i];\n    var name = field.getAttribute('name');\n    // set month to 2 digit format\n    if (name === 'cc_exp_date_month' && /^[1-9]$/.test(field.value))\n      field.value = '0' + field.value;\n    this.formData[name] = field.value;\n  }\n};\n\nCreditCard.prototype.handleKeyup = function(e) {\n  var el = e.target;\n  var validation = {\n    'cc_full_name': this.validate_cc_full_name,\n    'cc_number': this.validate_cc_number,\n    'cc_exp_date_month': this.validate_cc_exp_date,\n    'cc_exp_date_year': this.validate_cc_exp_date,\n    'cc_code': this.validate_cc_code\n  };\n  var name = el.getAttribute('name');\n  if (e.keyCode === 13) {\n    e.preventDefault();\n    this.handleSubmit();\n  } else if (el.dataset.valid == 'false' && typeof validation[name] === 'function') {\n    this.formData[name] = el.value;\n    validation[name].call(this, false);\n  }\n};\n\nCreditCard.prototype.handleSubmit = function() {\n  this.preprocessFormData();\n  if (this.validate()) {\n    var fd = this.formData;\n    fd.cc_exp_date = fd.cc_exp_date_month + '/' + fd.cc_exp_date_year;\n    fd.cc_last_four_digits = fd.cc_number.substr(fd.cc_number.length - 4);\n    Object.keys(fd).map(function(key) {\n      profile.set(key, fd[key]);\n    });\n    this.submitButton.classList.remove(inactiveClassName);\n    this.submitButton.classList.add(activeClassName);\n    publish('enable-input');\n    publish('send', {\n      silent: true,\n      text: 'success'\n    });\n  }\n};\n\nCreditCard.prototype.handleCancel = function() {\n  this.cancelButton.classList.remove(inactiveClassName);\n  this.cancelButton.classList.add(activeClassName);\n  publish('enable-input');\n  publish('send', {\n    silent: true,\n    text: 'cancel'\n  });\n};\n\nCreditCard.prototype.addListeners = function() {\n  this.cancelButton.addEventListener('click', this.handleCancel.bind(this));\n  this.submitButton.addEventListener('click', this.handleSubmit.bind(this));\n  for (var i = 0; i < this.fields.length; i++)\n    this.fields[i].addEventListener('keyup', this.handleKeyup.bind(this));\n};\n\nCreditCard.prototype.removeAllEventListeners = function() {\n  this.cancelButton.removeEventListener('click', this.handleCancel.bind(this));\n  this.cancelButton.setAttribute('disabled', true);\n  this.submitButton.removeEventListener('click', this.handleSubmit.bind(this));\n  this.submitButton.setAttribute('disabled', true);\n  for (var j = 0; j < this.fields.length; j++) {\n    var field = this.fields[j];\n    field.removeEventListener('keyup', this.handleKeyup.bind(this));\n    field.setAttribute('disabled', true);\n  }\n  this.subscribeSend.remove();\n};\n\nmodule.exports = creditCardLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/cc-validator/index.js\n ** module id = 79\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\n//https://en.wikipedia.org/wiki/Payment_card_number\n\nvar i18n = require('../../utils/i18n');\n\nvar state = {\n  acceptedCards: [],\n  cardNumber: '',\n  cardType: ''\n};\n\nvar messages = {\n  required: function() { return i18n('required_field'); },\n  acceptedCard: function() {\n    var text = i18n('cc_use_valid');\n    text += state.acceptedCards.map(function(cardId) {\n      return cardData[cardId].human;\n    }).join(i18n('list_sep'));\n    return text;\n  },\n  invalid: function() { return i18n('cc_invalid'); },\n  invalidExpiration: function() { return i18n('cc_invalid_exp'); },\n  invalidCvv: function() { return i18n('cc_invalid_code'); }\n};\n\nvar cardData = {\n  \"visa\": {\n    human: \"Visa\",\n    prefixes: [4],\n    lengths: [13, 16, 19]\n  },\n  \"mastercard\": {\n    human: \"MasterCard\",\n    prefixes: [51, 52, 53, 54, 55],\n    lengths: [16]\n  },\n  \"amex\": {\n    human: \"American Express\",\n    prefixes: [34, 37],\n    lengths: [15]\n  },\n  \"discover\": {\n    human: \"Discover\",\n    prefixes: [6011, 65],\n    lengths: [16, 19]\n  }\n};\n\nvar i;\n//MasterCard adding these numbers in 2017\nfor (i = 2221; i <= 2720; i++)\n  cardData.mastercard.prefixes.push(i);\n\nfor (i = 622126; i <= 622925; i++)\n  cardData.discover.prefixes.push(i);\n\nfor (i = 644; i <= 649; i++)\n  cardData.discover.prefixes.push(i);\n\nfunction _detectCard() {\n  for (var i = 0; i < state.acceptedCards.length; i++) {\n    var data = cardData[state.acceptedCards[i]];\n    for (var j = 0; j < data.prefixes.length; j++) {\n      var x = data.prefixes[j].toString();\n      if (state.cardNumber.substring(0, x.length) === x) {\n        state.cardType = state.acceptedCards[i];\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction _checkLuhn() {\n  var checksum = 0; // running checksum total\n  var j = 1; // takes value of 1 or 2\n\n  // Process each digit one by one starting at the right\n  var calc;\n  for (var i = state.cardNumber.length - 1; i >= 0; i--) {\n    // Extract the next digit and multiply by 1 or 2 on alternative digits.\n    calc = Number(state.cardNumber.charAt(i)) * j;\n\n    // If the result is in two digits add 1 to the checksum total\n    if (calc > 9) {\n      checksum = checksum + 1;\n      calc = calc - 10;\n    }\n\n    // Add the units element to the checksum total\n    checksum = checksum + calc;\n\n    // Switch the value of j\n    j = (j == 1) ? 2 : 1;\n  }\n\n  // All done - if checksum is divisible by 10, it is a valid modulus 10.\n  // If not, report an error.\n  return (checksum % 10 != 0) ? false : true;\n}\n\nfunction _invalid(message) {\n  return {\n    'message': message,\n    'valid': false\n  };\n}\n\nfunction _valid() {\n  return {\n    'valid': true\n  };\n}\n\nfunction validateCard(acceptedCards, cardNumber, cardElement) {\n  state.acceptedCards = acceptedCards || [];\n  state.cardNumber = cardNumber.replace(/\\D/g,'');\n\n  if (cardNumber.length === 0)\n    return _invalid(messages.required());\n\n  if (state.cardNumber.length === 0)\n    return _invalid(messages.invalid());\n\n  if (_detectCard()) {\n    if (cardData[state.cardType].lengths.indexOf(state.cardNumber.length) === -1)\n      return _invalid(messages.invalid());\n    if (_checkLuhn() === false)\n      return _invalid(messages.invalid());\n  } else {\n    if (state.acceptedCards.indexOf(state.cardType) === -1)\n      return _invalid(messages.acceptedCard());\n    return _invalid(messages.invalid());\n  }\n\n  var valid =  _valid();\n  if (valid && state.cardNumber !== cardNumber && cardElement)\n    cardElement.value = state.cardNumber;\n  return valid;\n}\n\nfunction validateExp(userM, userY) {\n  var monthRegexp = /^(0[1-9]|1[012])$/;\n  var yearRegexp = /^(20)[0-9][0-9]$/;\n  var d = new Date();\n  var month = d.getMonth() + 1; // normalize, Date#getMonth is 0 indexed\n  var year = d.getFullYear();\n\n  if (userM.length === 0 || userY.length === 0)\n    return _invalid(messages.invalidExpiration());\n\n  var invalidDigits = !userM.match(monthRegexp) || !userY.match(yearRegexp);\n  userM = parseInt(userM, 10);\n  userY = parseInt(userY, 10);\n  var yearNotInRange = (userY > year + 20) || (userY < year);\n  var beforeCurrentMonth = (userY === year && userM < month);\n  if (invalidDigits || yearNotInRange || beforeCurrentMonth)\n    return _invalid(messages.invalidExpiration());\n\n  return _valid();\n}\n\nfunction validateCVV(CVV) {\n  // 3 or 4 digits\n  var CVVRegex = /^[0-9]{3,4}$/;\n  if (CVV.length === 0)\n    return _invalid(messages.invalidCvv());\n\n  if (!CVV.match(CVVRegex))\n    return _invalid(messages.invalidCvv());\n\n  return _valid();\n}\n\nmodule.exports = {\n  validateCard: validateCard,\n  validateExp: validateExp,\n  validateCVV: validateCVV,\n  cardData: cardData\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/cc-validator/validation.js\n ** module id = 80\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar utils = require('../../utils');\nvar i18n = require('../../utils/i18n');\n\nvar ns = 'IBMChat-islocationapi';\nvar chooseLocationTypes = [];\n\nvar chooseLocationTypeLayout = {\n  init: function() {\n    subscribe('layout:choose-location-type', function(data) {\n      var chooseLocationType = new ChooseLocationType(data);\n      chooseLocationTypes[data.uuid] = chooseLocationType;\n    });\n  }\n};\n\nvar templates = {\n  base: require('./templates/base.html')\n};\n\nfunction ChooseLocationType(data) {\n  this.init(data);\n}\n\nChooseLocationType.prototype = {\n  init: function(data) {\n    this.data = data.data;\n    this.uuid = data.uuid;\n    var postalCodeLabel = this.getButtonLabel(data.message, 'postalcode');\n\n    if ('navigator' in window && 'geolocation' in navigator) {\n      this.eventListeners = [];\n      this.parentElement = data.element;\n      this.layoutElement = data.layoutElement;\n      this.el = document.createElement('div');\n      this.el.innerHTML = utils.compile(templates.base, {\n        ns: ns,\n        loc_curr: this.getButtonLabel(data.message, 'latlong'),\n        postal_code: postalCodeLabel\n      });\n      this.layoutElement.appendChild(this.el);\n      this.buttons = this.layoutElement.querySelectorAll('button');\n      this.buttons[0].focus();\n      for (var i = 0; i < this.buttons.length; i++) {\n        this.buttons[i].dataset.uuid = this.uuid;\n        this.buttons[i].addEventListener('click', this.handleClick);\n        this.eventListeners.push(this.buttons[i]);\n      }\n      if (this.eventListeners.length > 0)\n        this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n    } else {\n      publish('send', {\n        silent: true,\n        text: postalCodeLabel\n      });\n    }\n  },\n\n  getButtonLabel: function(msg, type) {\n    if (typeof msg.layout.latlongIdx !== 'undefined') {\n      var idx = msg.layout.latlongIdx;\n      if (type !== 'latlong') {\n        // type === 'zipcode'/'postalcode'\n        idx = idx === 0 ? 1 : 0; // the other index\n      }\n      return msg.inputvalidation.oneOf[idx];\n    } else {\n      // legacy code\n      return type === 'latlong' ? i18n('loc_curr') : i18n('postal_code');\n    }\n  },\n\n  handleClick: function() {\n    publish('send', {\n      silent: true,\n      text: this.dataset.input\n    });\n    publish('focus-input');\n  },\n\n  removeAllEventListeners: function() {\n    if (this.eventListeners.length > 0) {\n      for (var i = 0; i < this.eventListeners.length; i++) {\n        this.eventListeners[i].removeEventListener('click', this.handleClick);\n        this.eventListeners[i].setAttribute('disabled', true);\n      }\n      this.eventListeners = [];\n    }\n    this.subscribeSend.remove();\n  }\n};\n\nmodule.exports = chooseLocationTypeLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose-location-type/index.js\n ** module id = 81\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar utils = require('../../utils');\nvar i18n = require('../../utils/i18n');\nvar ns = 'IBMChat-choose';\nvar activeClassName = 'IBMChat-accent-colors';\nvar inactiveClassName = 'IBMChat-accent-colors-button';\nvar widgets = [];\nvar templates = {\n  button: require('./templates/button.html'),\n  submit: require('./templates/submit.html')\n};\n\nvar chooseLayout = {\n  init: function() {\n    subscribe('layout:choose', function(data) {\n      var widget = new Choose(data);\n      widgets[data.uuid] = widget;\n    });\n    subscribe('layout:confirm', function(data) {\n      var widget = new Choose(data);\n      widgets[data.uuid] = widget;\n    });\n  }\n};\n\nfunction Choose(data) {\n  this.init(data);\n}\n\nChoose.prototype.init = function(data) {\n  this.allowMultiple = (data.message.inputvalidation.someOf !== undefined);\n  this.values = [];\n  this.data = (this.allowMultiple) ? data.message.inputvalidation.someOf : data.message.inputvalidation.oneOf;\n  this.uuid = data.uuid;\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.msgElement = data.msgElement;\n  this.drawButtons();\n  this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n};\n\nChoose.prototype.eventListeners = [];\n\nChoose.prototype.drawButtons = function() {\n  var tmpl = templates.button;\n  this.el = document.createElement('div');\n  this.el.classList.add(ns + '-container');\n\n  for (var i = 0; i < this.data.length; i++) {\n    var text = this.data[i];\n    var buttonHolder = document.createElement('div');\n    buttonHolder.classList.add(ns + '-option');\n    var parsed = utils.compile(tmpl, {\n      text: text\n    });\n    var button;\n    buttonHolder.innerHTML = parsed;\n    this.el.appendChild(buttonHolder);\n    button = buttonHolder.querySelector('button');\n    button.setAttribute('data-uuid', this.uuid);\n    button.classList.add(inactiveClassName);\n    this.addListener(button);\n  }\n\n  if (this.allowMultiple) {\n    var submit = document.createElement('div');\n    var submitBtn = utils.compile(templates.submit, {\n      text: i18n('submit')\n    });\n    submit.classList.add(ns + '-submit');\n    submit.innerHTML = submitBtn;\n    this.submitButton = submit.querySelector('button');\n    this.submitButton.classList.add(activeClassName);\n    this.submitButton.setAttribute('disabled', true);\n    this.el.appendChild(submit);\n    this.addSubmitListener(this.submitButton);\n  }\n\n  this.layoutElement.appendChild(this.el);\n  this.layoutElement.querySelectorAll('button')[0].focus();\n};\n\nChoose.prototype.handleClick = function(evt) {\n  var target = evt.target;\n  target.classList.add(activeClassName);\n  target.classList.add('IBMChat-accent-colors');\n  publish('send', {\n    silent: true,\n    text: target.dataset.input\n  });\n};\n\nChoose.prototype.handleMultiClick = function(evt) {\n  var target = evt.target;\n  var buttons;\n  var instance = widgets[target.dataset.uuid];\n  if (utils.hasClass(target, activeClassName)) {\n    target.classList.add(inactiveClassName);\n    target.classList.remove(activeClassName);\n  } else {\n    target.classList.add(activeClassName);\n    target.classList.remove(inactiveClassName);\n  }\n  buttons = instance.el.querySelectorAll('.' + ns + '-option .' + activeClassName);\n  if (buttons.length > 0)\n    instance.submitButton.removeAttribute('disabled');\n  else\n    instance.submitButton.setAttribute('disabled', true);\n};\n\nChoose.prototype.handleSubmit = function() {\n  var buttons = this.el.querySelectorAll('.' + activeClassName);\n  for (var i = 0; i < buttons.length; i++)\n    this.values.push(buttons[i].dataset.input);\n  publish('send', {\n    silent: true,\n    text: this.values.toString().slice(0, -1)\n  });\n};\n\nChoose.prototype.addListener = function(el) {\n  var handler = this.allowMultiple ? this.handleMultiClick: this.handleClick;\n  el.addEventListener('click', handler.bind(this));\n  this.eventListeners.push({ el: el, cb: handler });\n};\n\nChoose.prototype.addSubmitListener = function(el) {\n  var handler = this.handleSubmit.bind(this);\n  el.addEventListener('click', handler);\n  this.eventListeners.push({ el: el, cb: handler });\n};\n\nChoose.prototype.removeAllEventListeners = function() {\n  var listeners = this.eventListeners;\n  if (listeners.length > 0) {\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener.el.removeEventListener('click', listener.cb);\n      listener.el.setAttribute('disabled', true);\n    }\n    this.eventListeners = [];\n    this.subscribeSend.remove();\n  }\n};\n\nmodule.exports = chooseLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose/index.js\n ** module id = 82\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar errors = [];\nvar ns = 'IBMChat-error';\n\nvar errorLayout = {\n  init: function() {\n    events.subscribe('layout:error', function(data) {\n      var error = new Error(data);\n      errors[data.uuid] = error;\n    });\n  }\n};\n\nvar templates = {\n  base: require('./templates/base.html')\n};\n\nfunction Error(data) {\n  this.init(data);\n}\n\nError.prototype.init = function(data) {\n  this.message = data.message.layout.message;\n  this.uuid = data.uuid;\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.layoutElement.innerHTML = templates.base;\n  this.layoutElement.querySelector('.' + ns).textContent = this.message;\n};\n\n\nmodule.exports = errorLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/error/index.js\n ** module id = 83\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar profile = require('../../profile');\nvar utils = require('../../utils');\nvar i18n = require('../../utils/i18n');\n\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar ns = 'IBMChat-form';\nvar activeClassName = 'IBMChat-accent-colors';\nvar inactiveClassName = 'IBMChat-accent-colors-button';\nvar templates = {\n  base: require('./templates/base.html'),\n  field: require('./templates/field.html')\n};\nvar widgets = [];\n\nvar formLayout = {\n  init: function() {\n    subscribe('layout:form', function(data) {\n      var widget = new Form(data);\n      widgets[data.uuid] = widget;\n    });\n  }\n};\n\nfunction Form(data) {\n  this.init(data);\n}\n\nForm.prototype.init = function(data) {\n  this.data = data.message.store || [];\n  this.action = data.message.action || '';\n  this.label = data.message.layout.label || {};\n  this.repopulate = !!data.message.layout.repopulate;\n  this.uuid = data.uuid;\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.msgElement = data.msgElement;\n  this.drawForm();\n  this.subscribeSend = subscribe('send', this.removeEventListeners.bind(this));\n  publish('disable-input');\n};\n\nForm.prototype.drawForm = function() {\n  var base = document.createElement('div');\n  var formFields;\n  base.innerHTML = utils.compile(templates.base, {\n    submit: this.label.submit || i18n('submit'),\n    cancel: this.label.cancel || i18n('cancel')\n  });\n  formFields = base.querySelector('.IBMChat-form-fields');\n  this.data.forEach(function(datum, index) {\n    var field = document.createElement('div');\n    field.innerHTML = utils.compile(templates.field, {\n      label: datum.label || '',\n      name: datum.name,\n      uuid: utils.getUUID(),\n      type: datum.type || 'text',\n      index: index,\n      value: this.repopulate ? (profile.get(datum.name) || '') : ''\n    });\n    field.className = ns + '-fields-row';\n    formFields.appendChild(field);\n  }, this);\n  this.fields = formFields.querySelectorAll('input');\n  this.submitButton = base.querySelector('.' + ns + '-submit');\n  this.cancelButton = base.querySelector('.' + ns + '-cancel');\n  this.submitButton.classList.add(inactiveClassName);\n  this.cancelButton.classList.add(inactiveClassName);\n  this.layoutElement.appendChild(base);\n  this.fields[0].focus();\n  this.addEventListeners();\n};\n\nForm.prototype.handleSubmit = function() {\n  if (this.validateFields() === true) {\n    for (var i = 0; i < this.fields.length; i++)\n      profile.set(this.fields[i].getAttribute('name'), this.fields[i].value || new String(''));\n    this.submitButton.classList.remove(inactiveClassName);\n    this.submitButton.classList.add(activeClassName);\n    publish('send', {\n      silent: true,\n      text: 'success'\n    });\n    publish('enable-input');\n  } else {\n    this.setFocusOnError();\n  }\n};\n\nForm.prototype.setFocusOnError = function() {\n  for (var j = 0; j < this.fields.length; j++) {\n    var name = this.fields[j].getAttribute('name');\n    var el = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n    if (el.dataset.valid === \"false\") {\n      this.fields[j].focus();\n      break;\n    }\n  }\n};\n\nForm.prototype.validateFields = function() {\n  var allFieldsAreValid = true;\n  for (var i = 0; i < this.data.length; i++) {\n    var fieldIsValid = this.validateField(this.fields[i], this.data[i]);\n    allFieldsAreValid = allFieldsAreValid && fieldIsValid;\n  }\n  return allFieldsAreValid;\n};\n\nForm.prototype.validateField = function(field, datum) {\n  var valid = true;\n  if ((!field.value || field.value.trim().length === 0) && datum.required == 'true') {\n    this.addError(field.getAttribute('name'), i18n('required_field'));\n    valid = false;\n  }\n  if (valid === true && datum.validations && datum.validations.length !== 0) {\n    for (var i = 0; i < datum.validations.length; i++) {\n      // regexes received from backend should always include\n      // start/end of line anchors (^, $)\n      var validation = datum.validations[i];\n      var validationRegex = validation.regex;\n      var regex = new RegExp(validationRegex);\n      var matches = regex.test(field.value);\n      if (!matches) {\n        this.addError(field.getAttribute('name'), validation.message);\n        valid = false;\n        break;\n      }\n    }\n  }\n  return valid;\n};\n\nForm.prototype.addError = function(name, msg) {\n  var field = this.layoutElement.querySelector('[name=\"' + name + '\"]');\n  field.dataset.valid = false;\n  var errorEl = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n  field.setAttribute('aria-invalid', true);\n  errorEl.dataset.valid = false;\n  errorEl.textContent = msg;\n  errorEl.style.display = 'block';\n};\n\nForm.prototype.removeError = function(name) {\n  var field = this.layoutElement.querySelector('[name=\"' + name + '\"]');\n  field.dataset.valid = true;\n  var errorEl = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n  field.removeAttribute('aria-invalid');\n  errorEl.dataset.valid = true;\n  errorEl.textContent = '';\n  errorEl.style.display = 'none';\n};\n\nForm.prototype.removeAllErrors = function() {\n  var els = this.layoutElement.querySelectorAll('[data-validation-for]');\n  for (var i = 0; i < els.length; i++)\n    this.removeError(els[i].attr('data-validation-for'));\n};\n\nForm.prototype.handleKeyup = function(e) {\n  var index = e.target.dataset.index;\n  if (e.keyCode === 13) {\n    e.preventDefault();\n    this.handleSubmit();\n  } else if (e.target.dataset.valid === 'false') {\n    var valid = this.validateField(this.fields[index], this.data[index]);\n    if (valid)\n      this.removeError(e.target.getAttribute('name'));\n  }\n};\n\nForm.prototype.handleCancel = function() {\n  this.cancelButton.classList.remove(inactiveClassName);\n  this.cancelButton.classList.add(activeClassName);\n  publish('enable-input');\n  publish('send', {\n    silent: true,\n    text: 'cancel'\n  });\n};\n\nForm.prototype.addEventListeners = function() {\n  this.cancelButton.addEventListener('click', this.handleCancel.bind(this));\n  this.submitButton.addEventListener('click', this.handleSubmit.bind(this));\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i];\n    field.addEventListener('keyup', this.handleKeyup.bind(this));\n  }\n};\n\nForm.prototype.removeEventListeners = function() {\n  this.cancelButton.removeEventListener('click', this.handleCancel.bind(this));\n  this.cancelButton.setAttribute('disabled', true);\n  this.submitButton.removeEventListener('click', this.handleSubmit.bind(this));\n  this.submitButton.setAttribute('disabled', true);\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i];\n    field.removeEventListener('keyup', this.handleKeyup.bind(this));\n    field.setAttribute('disabled', true);\n  }\n\n  this.subscribeSend.remove();\n};\n\nmodule.exports = formLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/form/index.js\n ** module id = 84\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar showLocationsLayout = require('./show-locations');\nvar requestGeolocationLatlongLayout = require('./request-geolocation-latlong');\nvar requestGeolocationZipcodeLayout = require('./request-geolocation-zipcode');\nvar chooseLocationTypeLayout = require('./choose-location-type');\nvar chooseLayout = require('./choose');\nvar formLayout = require('./form');\nvar creditCardLayout = require('./cc-validator');\nvar errorLayout = require('./error');\n\nmodule.exports = {\n  showLocations: showLocationsLayout,\n  requestGeolocationLatlong: requestGeolocationLatlongLayout,\n  requestGeolocationZipcode: requestGeolocationZipcodeLayout,\n  chooseLocationType: chooseLocationTypeLayout,\n  choose: chooseLayout,\n  creditCard: creditCardLayout,\n  form: formLayout,\n  error: errorLayout\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/index.js\n ** module id = 85\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar i18n = require('../../utils/i18n');\n\nvar subscribe = events.subscribe;\nvar publish = events.publish;\n\nvar requestGeolocationLatlongs = [];\n\nvar LOCATION_TIMEOUT = 30 * 1000;\n\nvar requestGeolocationLatlongLayout = {\n  init: function() {\n    subscribe('layout:request-geolocation-latlong', function(data) {\n      var requestGeolocationLatlong = new RequestGeolocationLatlong(data);\n      requestGeolocationLatlongs[data.uuid] = requestGeolocationLatlong;\n    });\n  }\n};\n\nfunction RequestGeolocationLatlong(data) {\n  this.init(data);\n}\n\nRequestGeolocationLatlong.prototype = {\n  init: function(data) {\n    this.data = data.data;\n    this.uuid = data.uuid;\n    this.parentElement = data.element;\n    this.layoutElement = data.layoutElement;\n    this.msgElement = data.msgElement;\n    this.timedOut = false;\n    this.timeoutCheck = setTimeout(function() {\n      this.timedOut = true;\n      this.handleLocationNotShared();\n    }.bind(this), LOCATION_TIMEOUT);\n    publish('enable-loading');\n    publish('disable-input');\n    try {\n      navigator.permissions.query({ name: 'geolocation' }).then(function(result) {\n        if (result.state === 'prompt') {\n          data.msgElement.textContent = i18n('loc_prompt');\n          publish('enable-loading', i18n('loc_share'));\n        } else if (result.state === 'granted') {\n          data.msgElement.textContent = i18n('loc_share_granted');\n          publish('enable-loading', i18n('loc_looking'));\n        } else if (result.state === 'denied') {\n          data.msgElement.textContent = i18n('loc_share_denied');\n        }\n      });\n    } catch (e) {\n      console.log('navigator.permissions not supported.');\n    }\n    navigator.geolocation.getCurrentPosition(\n      function(position) {\n        if (this.timedOut) return false;\n        clearTimeout(this.timeoutCheck);\n        this.handleLocationShared(position);\n      }.bind(this),\n      function() {\n        if (this.timedOut) return false;\n        clearTimeout(this.timeoutCheck);\n        this.handleLocationNotShared();\n      }.bind(this)\n    );\n  },\n  handleLocationShared: function(position) {\n    publish('enable-input');\n    publish('disable-loading');\n    publish('send', {\n      text: position.coords.latitude + ',' + position.coords.longitude,\n      silent: true\n    });\n  },\n  handleLocationNotShared: function() {\n    var string = i18n('loc_not_shared_prompt');\n    publish('enable-input');\n    publish('disable-loading');\n    publish('receive', string);\n    publish('send', {\n      text: 'failure',\n      silent: true\n    });\n  }\n};\n\nmodule.exports = requestGeolocationLatlongLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/request-geolocation-latlong/index.js\n ** module id = 86\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar state = require('../../state');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar requestGeolocationZips = [];\nvar requestGeolocationZipcodeLayout = {\n  init: function() {\n    subscribe('layout:request-geolocation-zipcode', function(data) {\n      var requestGeolocationZip = new RequestGeolocationZip(data);\n      requestGeolocationZips[data.uuid] = requestGeolocationZip;\n    });\n  }\n};\n\nfunction RequestGeolocationZip(data) {\n  this.init(data);\n}\n\nRequestGeolocationZip.prototype.init = function(data) {\n  var current = state.get();\n  if(current.defaultCountry) {\n    state.set({\n      handleInput: {\n        default: false,\n        callback: function(msg, resolve, reject) {\n          var current = state.get();\n          resolve();\n          state.set({\n            handleInput: {\n              default: true,\n              callback: undefined\n            }\n          });\n          publish('send', {\n            text: msg + ', ' + current.defaultCountry,\n            silent: true\n          });\n        }\n      }\n    });\n  }\n};\n\nmodule.exports = requestGeolocationZipcodeLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/request-geolocation-zipcode/index.js\n ** module id = 87\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar state = require('../../state');\nvar utils = require('../../utils');\nvar styles = require('../../styles');\nvar i18n = require('../../utils/i18n');\n\nvar first = true;\nvar displayLength = 3;\nvar breakpointWidths = ['768', '640', '512', '480', '360'];\nvar showLocations = {};\nvar locationIDs = [];\nvar currentBreakpointKey = 0;\nvar pixelRatio = window.devicePixelRatio || 1;\nvar ns = 'IBMChat-map';\n\nvar templates = {\n  base: require('./templates/base.html'),\n  createDomArray: require('./templates/create-dom-array.html'),\n  addLocationsItem: require('./templates/add-locations-item.html'),\n  addLocationItem: require('./templates/add-location-item.html'),\n  // hoursClosed: require('./templates/hours-closed.html'),\n  // hoursOpen: require('./templates/hours-open.html'),\n  // hoursUnknown: require('./templates/hours-unknown.html'),\n  // hoursTodayOpen: require('./templates/hours-today-open.html'),\n  hoursTodayClosed: require('./templates/hours-today-closed.html'),\n  hoursTodayUnknown: require('./templates/hours-today-unknown.html'),\n  hoursTimezone: require('./templates/hours-timezone.html')\n};\n\nvar strings = {\n  locations: {\n    none: function() { return i18n('loc_nearby_none'); },\n    single: function() { return i18n('loc_nearby_single'); },\n    list: function() { return i18n('loc_nearby_list'); }\n  }\n};\n\nvar showLocationsLayout = {\n  init: function() {\n    subscribe('layout:show-locations', function(data) {\n      var showLocation = new ShowLocations(data);\n      if (locationIDs.length === 0)\n        subscribe('resize', sizeMap);\n      locationIDs.push(data.uuid);\n      showLocations[data.uuid] = showLocation;\n    });\n  }\n};\n\nvar alphaMap = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];\n\nfunction initialSize(width) {\n  for (var i = 0; i < breakpointWidths.length; i++) {\n    if ((i === breakpointWidths.length - 1) || breakpointWidths[i] >= width) {\n      currentBreakpointKey = i;\n      return;\n    }\n  }\n}\n\nfunction getWidth() {\n  var current = state.get();\n  var el = current.chatHolder.querySelector('div:first-child');\n  return (el) ? el.clientWidth : 0;\n}\n\nfunction sameSize() {\n  return (breakpointWidths[currentBreakpointKey] >= getWidth());\n}\n\nfunction sizeMap() {\n  if (locationIDs.length > 0 && !sameSize()) {\n    var width = getWidth();\n    for (var i = 0; i < breakpointWidths.length; i++) {\n      if ((i === breakpointWidths.length - 1) || (i === 0 && width >= breakpointWidths[i])) {\n        currentBreakpointKey = i;\n        for (var j = 0; j < locationIDs.length; j++) {\n          if (showLocations[locationIDs[j]].data.length > 0)\n            showLocations[locationIDs[j]].reDrawMap();\n        }\n        return;\n      }\n    }\n  }\n}\n\nfunction createEmails(el, item) {\n  var linkEl = document.createElement('a');\n  linkEl.setAttribute('href', 'mailto:' + item.email);\n  linkEl.setAttribute('target', '_blank');\n  linkEl.textContent = item.email;\n  if (item.phones && item.phones.length > 0) {\n    var itemChild = document.createElement('div');\n    var text = templates.createDomArray;\n    itemChild.className = ns + '-contact-row';\n    itemChild.innerHTML = utils.compile(text, {\n      ns: ns\n    });\n    var typeEl = itemChild.querySelector('.' + ns + '-contact-type');\n    var dataEl = itemChild.querySelector('.' + ns + '-contact-data');\n    typeEl.textContent = 'Email';\n    dataEl.appendChild(linkEl);\n    el.appendChild(itemChild);\n  } else {\n    el.appendChild(linkEl);\n  }\n}\n\nfunction createPhoneArray(el, items) {\n  if (items) {\n    for (var i = 0; i < items.length; i++) {\n      var itemChild = document.createElement('div');\n      var text = templates.createDomArray;\n      itemChild.className = ns + '-contact-row';\n      itemChild.innerHTML = utils.compile(text, {\n        ns: ns\n      });\n      var typeEl = itemChild.querySelector('.' + ns + '-contact-type');\n      var dataEl = itemChild.querySelector('.' + ns + '-contact-data');\n      typeEl.textContent = items[i].type;\n      dataEl.textContent = items[i].number;\n      el.appendChild(itemChild);\n    }\n  }\n}\n\nfunction createHours(hoursEl, moreHoursEl, hours, timezone, timezoneEl) {\n  if (!hours) return;\n\n  // today's hours\n  var now = new Date();\n  var nowDate = now.toDateString();\n  var dayIdx = now.getDay();\n  var todaysHours = hours[dayIdx];\n  var el = document.createElement('div');\n  if (todaysHours && todaysHours.isOpen) {\n    var open = new Date(nowDate + ' ' + todaysHours.open);\n    var close = new Date(nowDate + ' ' + todaysHours.close);\n    if (open && close) {\n      el.innerHTML = i18n.format('loc_open_today_more', {\n        ns: ns,\n        open: open,\n        close: close\n      });\n    } else {\n      el.innerHTML = utils.compile(templates.hoursTodayUnknown, {\n        ns: ns,\n        loc_open_today: i18n('loc_open_today')\n      });\n    }\n  } else {\n    el.innerHTML = utils.compile(templates.hoursTodayClosed, {\n      ns: ns,\n      loc_closed_today: i18n('loc_closed_today')\n    });\n  }\n  utils.appendToEach(hoursEl, el);\n  // timezone\n  if (timezone) {\n    var tzChildEl = document.createElement('div');\n    tzChildEl.innerHTML = utils.compile(templates.hoursTimezone, {\n      ns: ns,\n      timezone: timezone\n    });\n    utils.appendToEach(timezoneEl, tzChildEl);\n  } else {\n    for (var j = 0; j < timezoneEl.length; j++)\n      timezoneEl[j].parentNode.removeChild(timezoneEl[j]);\n  }\n\n  // weekly hours\n  var compressedHours = compressHours(hours);\n  for (var i = 0; i < compressedHours.length; i++) {\n    var childEl = document.createElement('span');\n    childEl.setAttribute('class', ns + '-days-hours');\n    var current = compressedHours[i];\n    if (current && current.isOpen) {\n      var openDay = current.startDay;\n      var closeDay = current.endDay;\n      if (openDay && closeDay) {\n        var tmpl = openDay.getDate() === closeDay.getDate() ?\n            'loc_hours_open' : 'loc_hours_open_multiday';\n        childEl.innerHTML = i18n.format(tmpl, {\n          ns: ns,\n          openDay: openDay,\n          closeDay: closeDay,\n          open: current.open,\n          close: current.close\n        });\n      } else {\n        childEl.innerHTML = i18n.format('loc_hours_unknown', {\n          ns: ns,\n          day: openDay\n        });\n      }\n    } else {\n      childEl.innerHTML = i18n.format('loc_hours_closed', {\n        ns: ns,\n        day: current.startDay\n      });\n    }\n    if (i < (compressedHours.length - 1))\n      childEl.querySelector('.' + ns + '-days-hours-hours').innerHTML += '<br />';\n    utils.appendToEach(moreHoursEl, childEl);\n  }\n}\n\nfunction compressHours(hours) {\n  var compressedHours = [];\n  var current = {};\n  for (var n = 0; n < hours.length; n++) {\n    var bothClosed, sameHours;\n    var last = (compressedHours.length > 0) ? compressedHours[compressedHours.length - 1] : false;\n    current = hours[n] || { isOpen: false };\n    bothClosed = last && (last.isOpen === current.isOpen && current.isOpen === false);\n    sameHours = last && (last.open === current.open && last.close === current.close && last.isOpen === current.isOpen);\n    if (compressedHours.length > 0 && last && (bothClosed || sameHours)) {\n      last.endDay = n;\n    } else {\n      compressedHours.push({\n        isOpen: current.isOpen,\n        startDay: n,\n        endDay: n,\n        open: current.open,\n        close: current.close\n      });\n    }\n  }\n\n  // convert to Date objects\n  var today = new Date();\n  today.setHours(12);\n  for (n = 0; n < compressedHours.length; n++) {\n    current = compressedHours[n];\n    current.startDay = getDate(today, current.startDay);\n    if (current.isOpen) {\n      current.endDay = getDate(today, current.endDay);\n      current.open = getTime(current.startDay, current.open);\n      current.close = getTime(current.startDay, current.close);\n    }\n  }\n\n  return compressedHours;\n}\n\nfunction getDate(today, idx) {\n  var offset = today.getDay() - idx;\n  var date = new Date(today); // clone\n  date.setDate(date.getDate() - offset);\n  return date;\n}\n\nfunction getTime(today, time) {\n  return new Date(today.toDateString() + ' ' + time);\n}\n\nfunction ShowLocations(data) {\n  this.init(data);\n}\n\nShowLocations.prototype.init = function(data) {\n  this.data = (data.message.data !== undefined && data.message.data.location_data !== undefined) ? data.message.data.location_data : [];\n  if (this.data.length > 1) {\n    state.set({\n      location_data: this.data\n    });\n  }\n  this.eventListeners = [];\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.msgElement = data.msgElement;\n  switch (this.data.length) {\n  case 0:\n    this.msgElement.textContent = strings.locations.none();\n    break;\n  case 1:\n    this.msgElement.textContent = strings.locations.single();\n    break;\n  default:\n    this.msgElement.textContent = strings.locations.list();\n  }\n\n  if (this.data.length > 0) {\n    var text = templates.base;\n    this.uuid = data.uuid;\n    if (first) {\n      initialSize(getWidth());\n      first = false;\n    }\n    this.map = document.createElement('div');\n    this.map.innerHTML = utils.compile(text, { ns: ns });\n    this.mapElement = this.map.querySelector('.' + ns + '-img');\n    this.dataElement = this.map.querySelector('.' + ns + '-data');\n    if (this.data.length > 1)\n      this.mapElement.appendChild(this.drawLocations());\n    this.dataElement.appendChild(this.addDetails());\n    this.layoutElement.appendChild(this.map);\n    if (this.data.length > 1)\n      this.layoutElement.querySelectorAll('.' + ns + '-locations-item')[0].focus();\n  }\n  this.subscribeReceive = subscribe('receive', this.removeAllEventListeners, this);\n};\n\nShowLocations.prototype.reDrawMap = function() {\n  this.mapElement.innerHTML = '';\n  if (this.data.length > 1)\n    this.mapElement.appendChild(this.drawLocations());\n};\n\nShowLocations.prototype.addDetails = function() {\n  if (this.data.length > 1)\n    return this.addLocations();\n  else\n    return this.addLocation();\n};\n\nShowLocations.prototype.convertColor = function(color) {\n  return styles.normalizeToHex(color).replace('#', '');\n};\n\nShowLocations.prototype.drawLocations = function() {\n  var current = state.get();\n  var img = document.createElement('img');\n  var width = getWidth();\n  var config = {\n    size: (width - 8) + 'x120',\n    scale: pixelRatio\n  };\n  if (this.data.length === 1)\n    config.zoom = 12;\n  this.uri = current.mapsServer + '?';\n  this.uri += utils.serialize(config);\n  this.uri += '&locations=';\n  var locations = '';\n  for (var i = 0; (i < displayLength && i < this.data.length); i++) {\n    var item = this.data[i];\n    locations += (i === 0 ) ? item.address.lat + ',' + item.address.lng : '+' + item.address.lat + ',' + item.address.lng;\n  }\n  this.uri += encodeURIComponent(locations);\n  this.uri += '&color=' + encodeURIComponent(this.convertColor(current.styles.accentBackground));\n  img.setAttribute('src', this.uri);\n  return img;\n};\n\nShowLocations.prototype.handleClick = function() {\n  this.className = ns + '-location-active';\n  publish('receive', {\n    message: {\n      text: [utils.compile(strings.locations.single(), { location: showLocations[this.dataset.uuid].data[this.dataset.id - 1].address.address }),\n             i18n('anything_else')],\n      layout: {\n        name: 'show-locations',\n        index: 0\n      },\n      data: {\n        location_data: [showLocations[this.dataset.uuid].data[this.dataset.id - 1]]\n      }\n    }\n  });\n};\n\nShowLocations.prototype.removeAllEventListeners = function() {\n  var layout = document.querySelector('.' + this.uuid + ' .IBMChat-watson-layout');\n  if (layout) {\n    layout.classList.add('IBMChat-disabled-layout');\n    var inputs = layout.querySelectorAll('input, button');\n    for (var i = 0; i < inputs.length; i++)\n      inputs[i].setAttribute('disabled', true);\n    for (var x = 0; x < this.eventListeners.length; x++)\n      this.eventListeners[x].removeEventListener('click', this.handleClick);\n    if (this.hoursFunction)\n      this.hoursButton.removeEventListener('click', this.hoursFunction);\n    if (this.locationsFunction)\n      this.locationsButton.removeEventListener('click', this.locationsFunction);\n    this.eventListeners = [];\n    this.subscribeReceive.remove();\n  }\n};\n\nShowLocations.prototype.addLocation = function() {\n  var container = document.createElement('div');\n  var el = document.createElement('div');\n  var locationData = state.get().location_data;\n  var item = this.data[0];\n  var createDom = function(el) {\n    el.innerHTML = utils.compile(templates.addLocationItem, {\n      ns: ns,\n      loc_all: i18n('loc_all')\n    });\n    return {\n      link: el.querySelector('.' + ns + '-locations-item-data-address-link'),\n      label: el.querySelector('.' + ns + '-locations-item-data-title'),\n      address: el.querySelector('.' + ns + '-locations-item-data-address'),\n      phone: el.querySelector('.' + ns + '-locations-item-data-phone'),\n      email: el.querySelector('.' + ns + '-locations-item-data-email'),\n      hours: el.querySelectorAll('.' + ns + '-locations-item-data-hours'),\n      timezone: el.querySelectorAll('.' + ns + '-locations-item-data-timezone'),\n      moreHours: el.querySelectorAll('.' + ns + '-locations-item-data-more-hours'),\n      backHolder: el.querySelector('.' + ns + '-locations-all-holder'),\n      back: el.querySelector('.' + ns + '-locations-all'),\n      parentEl: el.querySelector('.' + ns + '-locations-item')\n    };\n  };\n\n  var dom = createDom(el);\n\n  // name\n  if (item.label)\n    dom.label.textContent = item.label;\n  else\n    dom.parentEl.removeChild(dom.label);\n\n  // addresses\n  dom.address.textContent = item.address.address;\n  dom.link.setAttribute('href', i18n('google_maps_url') + '?q=' + encodeURIComponent(item.address.address));\n  dom.link.setAttribute('target', '_blank');\n\n  // email\n  if (item.email)\n    createEmails(dom.email, item);\n  else\n    dom.email.parentNode.removeChild(dom.email);\n\n  // phones\n  if (item.phones && item.phones.length > 0 && item.hasPhones !== false)\n    createPhoneArray(dom.phone, item.phones);\n  else\n    dom.phone.parentNode.removeChild(dom.phone);\n\n  // hours/timezone\n  if (item.days && item.hasDays !== false) {\n    createHours(dom.hours, dom.moreHours, item.days, item.address.timezone, dom.timezone);\n  } else {\n    for (var i = 0; i < dom.hours; i++)\n      dom.hours[i].parentNode.removeChild(dom.hours[i]);\n    for (var j = 0; j < dom.timezone; j++)\n      dom.timezone[j].parentNode.removeChild(dom.timezone[j]);\n    for (var n = 0; n < dom.moreHours; i++)\n      dom.moreHours[n].parentNode.removeChild(dom.moreHours[n]);\n  }\n\n  if (locationData && locationData.length > 1) {\n    this.locationsButton = dom.back;\n    this.locationsFunction = function(e) {\n      e.preventDefault();\n      publish('receive', {\n        message: {\n          text: [strings.locations.list(), i18n('anything_else')],\n          layout: {\n            name: 'show-locations',\n            index: 0\n          },\n          data: {\n            location_data: locationData\n          }\n        }\n      });\n    };\n    dom.back.addEventListener('click', this.locationsFunction);\n  } else {\n    dom.backHolder.parentNode.removeChild(dom.backHolder);\n  }\n  container.appendChild(el);\n  return container;\n};\nShowLocations.prototype.addLocations = function() {\n  var current = state.get();\n  var createDom = function(el, i, uuid) {\n    el.addEventListener('click', this.handleClick);\n    el.dataset.uuid = uuid;\n    el.dataset.id = i + 1;\n    el.innerHTML = utils.compile(templates.addLocationsItem, {\n      ns: ns,\n      title: item.label || '',\n      address: item.address.address,\n      iconText: alphaMap[i],\n      accentText: current.styles.accentText,\n      accentBackground: current.styles.accentBackground,\n    });\n    this.eventListeners.push(el);\n  };\n\n  var container = document.createElement('div');\n\n  for (var i = 0; (i < displayLength && i < this.data.length); i++) {\n    var el = document.createElement('div');\n    var item = this.data[i];\n    createDom.call(this, el, i, this.uuid);\n    container.appendChild(el);\n  }\n  return container;\n};\n\nmodule.exports = showLocationsLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/index.js\n ** module id = 88\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nfunction writeMessage(el, text) {\n  new ParseContent(el, text);\n}\n\nfunction ParseContent(el, text) {\n  this.init(el, text);\n}\n\nfunction validLink(link) {\n  if (link.startsWith('http://') || link.startsWith('https://'))\n    return link;\n  else\n    return 'http://' + link;\n}\n\nfunction isValidURL(str) {\n  var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n  '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|'+ // domain name\n  '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n  '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n  '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n  '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n  return pattern.test(str);\n}\n\nParseContent.prototype.init = function(el, text) {\n  if (text) {\n    var cls = this;\n    var content = [\n      {\n        type: 'span',\n        content: text\n      }\n    ];\n    this.addLineEndings(content)\n      .then(cls.addUrls)\n      .then(cls.addEmails)\n      .then(function(content) {\n        cls.writeMessage(el, content);\n      })\n      .catch(function(e) {\n        console.error(e);\n      });\n  }\n};\n\nParseContent.prototype.writeMessage = function(el, content) {\n  content.map(function(item) {\n    var s = document.createElement(item.type);\n    if (item.content)\n      s.textContent = item.content;\n    if (item.attributes) {\n      Object.keys(item.attributes).map(function(key) {\n        s.setAttribute(key, item.attributes[key]);\n      });\n    }\n    el.appendChild(s);\n  });\n};\n\nParseContent.prototype.addLineEndings = function(content) {\n  return new window.Promise(function(resolve, reject) {\n    try {\n      var newContent = [];\n      for (var i = 0; i < content.length; i++) {\n        var arr = content[i].content.split('\\n');\n        arr.map(function(value, index) {\n          if (value) {\n            newContent.push({\n              content: value,\n              type: 'span'\n            });\n          }\n          if (arr.length != index + 1) {\n            newContent.push({\n              type: 'br'\n            });\n          }\n        });\n      }\n      resolve(newContent);\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nParseContent.prototype.addUrls = function(content) {\n  return new window.Promise(function(resolve, reject) {\n    try {\n      var newContent = [];\n      for (var i = 0; i < content.length; i++) {\n        content[i].content = content[i].content || '';\n        var exp = /(\\b((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\n        var splitter = '|^|%|^|';\n        var linked = content[i].content.replace(exp, splitter + '$1' + splitter);\n        var arr = linked.split(splitter);\n        arr.map(function(value) {\n          if (value.search(exp) != -1 && isValidURL(value)) {\n            var link = validLink(value);\n            newContent.push({\n              content: value,\n              type: 'a',\n              attributes: {\n                href: link,\n                target: '_blank'\n              }\n            });\n          } else {\n            newContent.push({\n              content: value,\n              type: content[i].type,\n              attributes: content[i].attributes\n            });\n          }\n        });\n      }\n      resolve(newContent);\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nParseContent.prototype.addEmails = function(content) {\n  return new window.Promise(function(resolve, reject) {\n    try {\n      var newContent = [];\n      for (var i = 0; i < content.length; i++) {\n        if (content[i].content) {\n          var exp = /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi;\n          var linked = content[i].content.replace(exp,'|||$1|||');\n          var arr = linked.split('|||');\n          arr.map(function(value) {\n            var newtext = value.replace(exp, '<a href=\"mailto:$1\" target=\"_blank\">$1</a>');\n            if (newtext === value) {\n              newContent.push({\n                content: value,\n                type: content[i].type,\n                attributes: content[i].attributes\n              });\n            } else {\n              newContent.push({\n                content: value,\n                type: 'a',\n                attributes: {\n                  href: 'mailto:' + value,\n                  target: '_blank'\n                }\n              });\n            }\n          });\n        } else {\n          newContent.push({\n            type: content[i].type,\n            content: content[i].content,\n            attributes: content[i].attributes\n          });\n        }\n      }\n      resolve(newContent);\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nmodule.exports = writeMessage;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/writeMessage.js\n ** module id = 89\n ** module chunks = 0\n **/"],"sourceRoot":""}